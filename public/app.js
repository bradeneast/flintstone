(()=>{var Oc=Object.defineProperty,ve=Object.prototype.hasOwnProperty,cb=(a,b)=>()=>(b||(b={exports:{}},a(b.exports,b)),b.exports),Qe=a=>Oc(a,"__esModule",{value:!0}),Re=(a,b)=>{Qe(a);if(typeof b==="object"||typeof b==="function")for(let d in b)ve.call(b,d)&&!ve.call(a,d)&&d!=="default"&&Oc(a,d,{get:()=>b[d],enumerable:!0});return a},Pc=a=>a&&a.__esModule?a:Re(Oc({},"default",{value:a,enumerable:!0}),a);var nd=cb(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var a=function(){function o(u,n){var z=[],L=!0,Z=!1,M=void 0;try{for(var S=u[Symbol.iterator](),da;!(L=(da=S.next()).done);L=!0){z.push(da.value);if(n&&z.length===n)break}}catch(J){Z=!0,M=J}finally{try{!L&&S.return&&S.return()}finally{if(Z)throw M}}return z}return function(u,n){if(Array.isArray(u))return u;{if(Symbol.iterator in Object(u))return o(u,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();d.getPagination=b;function b(o){var u=o.headers.get("Link"),n={};if(u==null)return null;u=u.split(",");for(var z=o.headers.get("X-Total-Count"),L=0,Z=u.length;L<Z;L++){var M=u[L].replace(/(^\s*|\s*$)/,""),S=M.split(";"),da=a(S,2),J=da[0],p=da[1],B=J.match(/page=(\d+)/),r=B&&parseInt(B[1],10);p.match(/last/)?n.last=r:p.match(/next/)?n.next=r:p.match(/prev/)?n.prev=r:p.match(/first/)&&(n.first=r)}return n.last=Math.max(n.last||0,n.prev&&n.prev+1||0),n.current=n.next?n.next-1:n.last||1,n.total=z?parseInt(z,10):null,n}});var Bc=cb(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.JSONHTTPError=S.TextHTTPError=S.HTTPError=S.getPagination=void 0;var a=Object.assign||function(J){for(var p=1;p<arguments.length;p++){var B=arguments[p];for(var r in B)Object.prototype.hasOwnProperty.call(B,r)&&(J[r]=B[r])}return J},b=function(){function J(p,B){for(var r=0;r<B.length;r++){var v=B[r];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,B,r){return B&&J(p.prototype,B),r&&J(p,r),p}}(),d=nd();Object.defineProperty(S,"getPagination",{enumerable:!0,get:function J(){return d.getPagination}});function j(J,p){if(!(J instanceof p))throw new TypeError("Cannot call a class as a function")}function o(J,p){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p==="object"||typeof p==="function")?p:J}function u(J,p){if(typeof p!=="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);J.prototype=Object.create(p&&p.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(J,p):J.__proto__=p)}function n(J){function p(){var B=Reflect.construct(J,Array.from(arguments));return Object.setPrototypeOf(B,Object.getPrototypeOf(this)),B}return p.prototype=Object.create(J.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(p,J):p.__proto__=J,p}var z=S.HTTPError=function(J){u(p,J);function p(B){j(this,p);var r=o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,B.statusText));return r.name=r.constructor.name,typeof Error.captureStackTrace==="function"?Error.captureStackTrace(r,r.constructor):r.stack=new Error(B.statusText).stack,r.status=B.status,r}return p}(n(Error)),L=S.TextHTTPError=function(J){u(p,J);function p(B,r){j(this,p);var v=o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,B));return v.data=r,v}return p}(z),Z=S.JSONHTTPError=function(J){u(p,J);function p(B,r){j(this,p);var v=o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,B));return v.json=r,v}return p}(z),M=function(){function J(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",B=arguments[1];j(this,J),this.apiURL=p,this.apiURL.match(/\/[^\/]?/)&&(this._sameOrigin=!0),this.defaultHeaders=B&&B.defaultHeaders||{}}return b(J,[{key:"headers",value:function p(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a({},this.defaultHeaders,{"Content-Type":"application/json"},B)}},{key:"parseJsonResponse",value:function p(B){return B.json().then(function(r){if(!B.ok)return Promise.reject(new Z(B,r));var v=(0,d.getPagination)(B);return v?{pagination:v,items:r}:r})}},{key:"request",value:function p(B){var r=this,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=this.headers(v.headers||{});return this._sameOrigin&&(v.credentials=v.credentials||"same-origin"),fetch(this.apiURL+B,a({},v,{headers:O})).then(function(T){var ea=T.headers.get("Content-Type");return ea&&ea.match(/json/)?r.parseJsonResponse(T):T.ok?T.text().then(function(wa){}):T.text().then(function(wa){return Promise.reject(new L(T,wa))})})}}]),J}();S.default=M});var bd=cb(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.default=void 0;function a(n,z){if(!(n instanceof z))throw new TypeError("Cannot call a class as a function")}function b(n,z){for(var L=0;L<z.length;L++){var Z=z[L];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(n,Z.key,Z)}}function d(n,z,L){return z&&b(n.prototype,z),L&&b(n,L),n}var j=function(){function n(z){a(this,n),this.user=z}return d(n,[{key:"listUsers",value:function z(L){return this.user._request("/admin/users",{method:"GET",audience:L})}},{key:"getUser",value:function z(L){return this.user._request("/admin/users/".concat(L.id))}},{key:"updateUser",value:function z(L){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.user._request("/admin/users/".concat(L.id),{method:"PUT",body:JSON.stringify(Z)})}},{key:"createUser",value:function z(L,Z){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M.email=L,M.password=Z,this.user._request("/admin/users",{method:"POST",body:JSON.stringify(M)})}},{key:"deleteUser",value:function z(L){return this.user._request("/admin/users/".concat(L.id),{method:"DELETE"})}}]),n}();o.default=j});var dd=cb(wa=>{"use strict";function a(K){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?a=function I(C){return typeof C}:a=function I(C){return C&&typeof Symbol==="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},a(K)}Object.defineProperty(wa,"__esModule",{value:!0});wa.default=void 0;var b=u(Bc()),d=j(bd());function j(K){return K&&K.__esModule?K:{default:K}}function o(){if(typeof WeakMap!=="function")return null;var K=new WeakMap();return o=function I(){return K},K}function u(K){if(K&&K.__esModule)return K;if(K===null||a(K)!=="object"&&typeof K!=="function")return{default:K};var I=o();if(I&&I.has(K))return I.get(K);var C={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in K)if(Object.prototype.hasOwnProperty.call(K,W)){var sa=N?Object.getOwnPropertyDescriptor(K,W):null;sa&&(sa.get||sa.set)?Object.defineProperty(C,W,sa):C[W]=K[W]}return C.default=K,I&&I.set(K,C),C}function n(K,I){var C=Object.keys(K);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(K);I&&(N=N.filter(function(W){return Object.getOwnPropertyDescriptor(K,W).enumerable})),C.push.apply(C,N)}return C}function z(K){for(var I=1;I<arguments.length;I++){var C=arguments[I]!=null?arguments[I]:{};I%2?n(Object(C),!0).forEach(function(N){L(K,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(C)):n(Object(C)).forEach(function(N){Object.defineProperty(K,N,Object.getOwnPropertyDescriptor(C,N))})}return K}function L(K,I,C){return I in K?Object.defineProperty(K,I,{value:C,enumerable:!0,configurable:!0,writable:!0}):K[I]=C,K}function Z(K,I){if(!(K instanceof I))throw new TypeError("Cannot call a class as a function")}function M(K,I){for(var C=0;C<I.length;C++){var N=I[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(K,N.key,N)}}function S(K,I,C){return I&&M(K.prototype,I),C&&M(K,C),K}var da=60*1e3,J="gotrue.user",p={},B=null,r={api:1,token:1,audience:1,url:1},v={api:1},O=function K(){return typeof window!=="undefined"},T=function(){function K(I,C,N){Z(this,K),this.api=I,this.url=I.apiURL,this.audience=N,this._processTokenResponse(C),B=this}return S(K,[{key:"update",value:function I(C){var N=this;return this._request("/user",{method:"PUT",body:JSON.stringify(C)}).then(function(W){return N._saveUserData(W)._refreshSavedSession()})}},{key:"jwt",value:function I(C){var N=this.tokenDetails();if(N===null||N===void 0)return Promise.reject(new Error("Gotrue-js: failed getting jwt access token"));var W=N.expires_at,sa=N.refresh_token,Ma=N.access_token;return C||W-da<Date.now()?this._refreshToken(sa):Promise.resolve(Ma)}},{key:"logout",value:function I(){return this._request("/logout",{method:"POST"}).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this))}},{key:"_refreshToken",value:function I(C){var N=this;return p[C]?p[C]:p[C]=this.api.request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(C)}).then(function(W){return delete p[C],N._processTokenResponse(W),N._refreshSavedSession(),N.token.access_token}).catch(function(W){return delete p[C],N.clearSession(),Promise.reject(W)})}},{key:"_request",value:function I(C){var N=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};W.headers=W.headers||{};var sa=W.audience||this.audience;return sa&&(W.headers["X-JWT-AUD"]=sa),this.jwt().then(function(Ma){return N.api.request(C,z({headers:Object.assign(W.headers,{Authorization:"Bearer ".concat(Ma)})},W)).catch(function(pa){return pa instanceof b.JSONHTTPError&&pa.json&&(pa.json.msg?pa.message=pa.json.msg:pa.json.error&&(pa.message="".concat(pa.json.error,": ").concat(pa.json.error_description))),Promise.reject(pa)})})}},{key:"getUserData",value:function I(){return this._request("/user").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this))}},{key:"_saveUserData",value:function I(C,N){for(var W in C){if(W in K.prototype||W in r)continue;this[W]=C[W]}return N&&(this._fromStorage=!0),this}},{key:"_processTokenResponse",value:function I(C){this.token=C;var N;try{N=JSON.parse(ea(C.access_token.split(".")[1])),this.token.expires_at=N.exp*1e3}catch(W){console.error(new Error("Gotrue-js: Failed to parse tokenResponse claims: ".concat(JSON.stringify(C))))}}},{key:"_refreshSavedSession",value:function I(){return O()&&localStorage.getItem(J)&&this._saveSession(),this}},{key:"_saveSession",value:function I(){return O()&&localStorage.setItem(J,JSON.stringify(this._details)),this}},{key:"tokenDetails",value:function I(){return this.token}},{key:"clearSession",value:function I(){K.removeSavedSession(),this.token=null,B=null}},{key:"admin",get:function I(){return new d.default(this)}},{key:"_details",get:function I(){var C={};for(var N in this){if(N in K.prototype||N in v)continue;C[N]=this[N]}return C}}],[{key:"removeSavedSession",value:function I(){O()&&localStorage.removeItem(J)}},{key:"recoverSession",value:function I(C){if(B)return B;var N=O()&&localStorage.getItem(J);if(N)try{var W=JSON.parse(N),sa=W.url,Ma=W.token,pa=W.audience;if(!sa||!Ma)return null;var yb=C||new b.default(sa,{});return new K(yb,Ma,pa)._saveUserData(W,!0)}catch(db){return console.error(new Error("Gotrue-js: Error recovering session: ".concat(db))),null}return null}}]),K}();wa.default=T;function ea(K){var I=K.replace(/-/g,"+").replace(/_/g,"/");switch(I.length%4){case 0:break;case 2:I+="==";break;case 3:I+="=";break;default:throw"Illegal base64url string!"}var C=window.atob(I);try{return decodeURIComponent(escape(C))}catch(N){return C}}});var cd=cb(da=>{"use strict";function a(p){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?a=function B(r){return typeof r}:a=function B(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a(p)}Object.defineProperty(da,"__esModule",{value:!0});da.default=void 0;var b=u(Bc()),d=j(dd());function j(p){return p&&p.__esModule?p:{default:p}}function o(){if(typeof WeakMap!=="function")return null;var p=new WeakMap();return o=function B(){return p},p}function u(p){if(p&&p.__esModule)return p;if(p===null||a(p)!=="object"&&typeof p!=="function")return{default:p};var B=o();if(B&&B.has(p))return B.get(p);var r={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in p)if(Object.prototype.hasOwnProperty.call(p,O)){var T=v?Object.getOwnPropertyDescriptor(p,O):null;T&&(T.get||T.set)?Object.defineProperty(r,O,T):r[O]=p[O]}return r.default=p,B&&B.set(p,r),r}function n(p,B){if(!(p instanceof B))throw new TypeError("Cannot call a class as a function")}function z(p,B){for(var r=0;r<B.length;r++){var v=B[r];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}function L(p,B,r){return B&&z(p.prototype,B),r&&z(p,r),p}var Z=/^http:\/\//,M="/.netlify/identity",S=function(){function p(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=B.APIUrl,v=r===void 0?M:r,O=B.audience,T=O===void 0?"":O,ea=B.setCookie,wa=ea===void 0?!1:ea;n(this,p),v.match(Z)&&console.warn(`Warning:

DO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!
GoTrue REQUIRES HTTPS to work securely.`),T&&(this.audience=T),this.setCookie=wa,this.api=new b.default(v)}return L(p,[{key:"_request",value:function B(r){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v.headers=v.headers||{};var O=v.audience||this.audience;return O&&(v.headers["X-JWT-AUD"]=O),this.api.request(r,v).catch(function(T){return T instanceof b.JSONHTTPError&&T.json&&(T.json.msg?T.message=T.json.msg:T.json.error&&(T.message="".concat(T.json.error,": ").concat(T.json.error_description))),Promise.reject(T)})}},{key:"settings",value:function B(){return this._request("/settings")}},{key:"signup",value:function B(r,v,O){return this._request("/signup",{method:"POST",body:JSON.stringify({email:r,password:v,data:O})})}},{key:"login",value:function B(r,v,O){var T=this;return this._setRememberHeaders(O),this._request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=password&username=".concat(encodeURIComponent(r),"&password=").concat(encodeURIComponent(v))}).then(function(ea){return d.default.removeSavedSession(),T.createUser(ea,O)})}},{key:"loginExternalUrl",value:function B(r){return"".concat(this.api.apiURL,"/authorize?provider=").concat(r)}},{key:"confirm",value:function B(r,v){return this._setRememberHeaders(v),this.verify("signup",r,v)}},{key:"requestPasswordRecovery",value:function B(r){return this._request("/recover",{method:"POST",body:JSON.stringify({email:r})})}},{key:"recover",value:function B(r,v){return this._setRememberHeaders(v),this.verify("recovery",r,v)}},{key:"acceptInvite",value:function B(r,v,O){var T=this;return this._setRememberHeaders(O),this._request("/verify",{method:"POST",body:JSON.stringify({token:r,password:v,type:"signup"})}).then(function(ea){return T.createUser(ea,O)})}},{key:"acceptInviteExternalUrl",value:function B(r,v){return"".concat(this.api.apiURL,"/authorize?provider=").concat(r,"&invite_token=").concat(v)}},{key:"createUser",value:function B(r){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._setRememberHeaders(v);var O=new d.default(this.api,r,this.audience);return O.getUserData().then(function(T){return v&&T._saveSession(),T})}},{key:"currentUser",value:function B(){var r=d.default.recoverSession(this.api);return r&&this._setRememberHeaders(r._fromStorage),r}},{key:"verify",value:function B(r,v,O){var T=this;return this._setRememberHeaders(O),this._request("/verify",{method:"POST",body:JSON.stringify({token:v,type:r})}).then(function(ea){return T.createUser(ea,O)})}},{key:"_setRememberHeaders",value:function B(r){this.setCookie&&(this.api.defaultHeaders=this.api.defaultHeaders||{},this.api.defaultHeaders["X-Use-Cookie"]=r?"1":"session")}}]),p}();da.default=S;typeof window!=="undefined"&&(window.GoTrue=S)});var ad=cb((a,b)=>{(function(d,j){typeof a==="object"&&typeof b!=="undefined"?b.exports=j():typeof define==="function"&&define.amd?define(j):(d=d||self,d.DOMPurify=j())})(a,function(){"use strict";function d(w){if(Array.isArray(w)){for(var F=0,x=Array(w.length);F<w.length;F++)x[F]=w[F];return x}else return Array.from(w)}var j=Object.hasOwnProperty,o=Object.setPrototypeOf,u=Object.isFrozen,n=Object.freeze,z=Object.seal,L=Object.create,Z=typeof Reflect!=="undefined"&&Reflect,M=Z.apply,S=Z.construct;M||(M=function w(F,x,q){return F.apply(x,q)}),n||(n=function w(F){return F}),z||(z=function w(F){return F}),S||(S=function w(F,x){return new(Function.prototype.bind.apply(F,[null].concat(d(x))))()});var da=Ea(Array.prototype.forEach),J=Ea(Array.prototype.pop),p=Ea(Array.prototype.push),B=Ea(String.prototype.toLowerCase),r=Ea(String.prototype.match),v=Ea(String.prototype.replace),O=Ea(String.prototype.indexOf),T=Ea(String.prototype.trim),ea=Ea(RegExp.prototype.test),wa=K(TypeError);function Ea(w){return function(F){for(var x=arguments.length,q=Array(x>1?x-1:0),ta=1;ta<x;ta++)q[ta-1]=arguments[ta];return M(w,F,q)}}function K(w){return function(){for(var F=arguments.length,x=Array(F),q=0;q<F;q++)x[q]=arguments[q];return S(w,x)}}function I(w,F){o&&o(w,null);for(var x=F.length;x--;){var q=F[x];if(typeof q==="string"){var ta=B(q);ta!==q&&(u(F)||(F[x]=ta),q=ta)}w[q]=!0}return w}function C(w){var F=L(null),x=void 0;for(x in w)M(j,w,[x])&&(F[x]=w[x]);return F}var N=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),W=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),sa=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ma=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pa=n(["#text"]),yb=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),db=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),hc=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),eb=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qc=z(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Rc=z(/<%[\s\S]*|[\s\S]*%>/gm),Sc=z(/^data-[\-\w.\u00B7-\uFFFF]/),va=z(/^aria-[\-\w]+$/),Tc=z(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Uc=z(/^(?:\w+script|data):/i),zb=z(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qa=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol==="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};function Fa(w){if(Array.isArray(w)){for(var F=0,x=Array(w.length);F<w.length;F++)x[F]=w[F];return x}else return Array.from(w)}var ic=function w(){return typeof window==="undefined"?null:window},Vc=function w(F,x){if((typeof F==="undefined"?"undefined":qa(F))!=="object"||typeof F.createPolicy!=="function")return null;var q=null,ta="data-tt-policy-suffix";x.currentScript&&x.currentScript.hasAttribute(ta)&&(q=x.currentScript.getAttribute(ta));var Bb="dompurify"+(q?"#"+q:"");try{return F.createPolicy(Bb,{createHTML:function Sa(Ga){return Ga}})}catch(Sa){return console.warn("TrustedTypes policy "+Bb+" could not be created."),null}};function Ab(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ic(),F=function X(m){return Ab(m)};F.version="2.2.3",F.removed=[];if(!w||!w.document||w.document.nodeType!==9)return F.isSupported=!1,F;var x=w.document,q=w.document,ta=w.DocumentFragment,Bb=w.HTMLTemplateElement,Sa=w.Node,Ga=w.NodeFilter,Lb=w.NamedNodeMap,Wc=Lb===void 0?w.NamedNodeMap||w.MozNamedAttrMap:Lb,jc=w.Text,gb=w.Comment,Xc=w.DOMParser,kc=w.trustedTypes;if(typeof Bb==="function"){var _a=q.createElement("template");_a.content&&_a.content.ownerDocument&&(q=_a.content.ownerDocument)}var za=Vc(kc,x),Mb=za&&xa?za.createHTML(""):"",hb=q,Nb=hb.implementation,Yc=hb.createNodeIterator,ib=hb.getElementsByTagName,Cb=hb.createDocumentFragment,lc=x.importNode,Ob={};try{Ob=C(q).documentMode?q.documentMode:{}}catch(X){}var Ha={};F.isSupported=Nb&&typeof Nb.createHTMLDocument!=="undefined"&&Ob!==9;var Pb=Qc,Qb=Rc,_=Sc,Zc=va,l=Uc,i=zb,s=Tc,c=null,e=I({},[].concat(Fa(N),Fa(W),Fa(sa),Fa(Ma),Fa(pa))),f=null,g=I({},[].concat(Fa(yb),Fa(db),Fa(hc),Fa(eb))),h=null,A=null,y=!0,U=!0,P=!1,$=!1,ra=!1,fa=!1,Y=!1,Aa=!1,Ta=!1,Ua=!0,xa=!1,aa=!0,jb=!0,$a=!1,Ia={},mc=I({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Rb=null,we=I({},["audio","video","img","source","image","track"]),_c=null,xe=I({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Db=null,Se=q.createElement("form"),$c=function X(m){if(Db&&Db===m)return;(!m||(typeof m==="undefined"?"undefined":qa(m))!=="object")&&(m={}),m=C(m),c="ALLOWED_TAGS"in m?I({},m.ALLOWED_TAGS):e,f="ALLOWED_ATTR"in m?I({},m.ALLOWED_ATTR):g,_c="ADD_URI_SAFE_ATTR"in m?I(C(xe),m.ADD_URI_SAFE_ATTR):xe,Rb="ADD_DATA_URI_TAGS"in m?I(C(we),m.ADD_DATA_URI_TAGS):we,h="FORBID_TAGS"in m?I({},m.FORBID_TAGS):{},A="FORBID_ATTR"in m?I({},m.FORBID_ATTR):{},Ia="USE_PROFILES"in m?m.USE_PROFILES:!1,y=m.ALLOW_ARIA_ATTR!==!1,U=m.ALLOW_DATA_ATTR!==!1,P=m.ALLOW_UNKNOWN_PROTOCOLS||!1,$=m.SAFE_FOR_TEMPLATES||!1,ra=m.WHOLE_DOCUMENT||!1,Aa=m.RETURN_DOM||!1,Ta=m.RETURN_DOM_FRAGMENT||!1,Ua=m.RETURN_DOM_IMPORT!==!1,xa=m.RETURN_TRUSTED_TYPE||!1,Y=m.FORCE_BODY||!1,aa=m.SANITIZE_DOM!==!1,jb=m.KEEP_CONTENT!==!1,$a=m.IN_PLACE||!1,s=m.ALLOWED_URI_REGEXP||s,$&&(U=!1),Ta&&(Aa=!0),Ia&&(c=I({},[].concat(Fa(pa))),f=[],Ia.html===!0&&(I(c,N),I(f,yb)),Ia.svg===!0&&(I(c,W),I(f,db),I(f,eb)),Ia.svgFilters===!0&&(I(c,sa),I(f,db),I(f,eb)),Ia.mathMl===!0&&(I(c,Ma),I(f,hc),I(f,eb))),m.ADD_TAGS&&(c===e&&(c=C(c)),I(c,m.ADD_TAGS)),m.ADD_ATTR&&(f===g&&(f=C(f)),I(f,m.ADD_ATTR)),m.ADD_URI_SAFE_ATTR&&I(_c,m.ADD_URI_SAFE_ATTR),jb&&(c["#text"]=!0),ra&&I(c,["html","head","body"]),c.table&&(I(c,["tbody"]),delete h.tbody),n&&n(m),Db=m},kb=function X(m){p(F.removed,{element:m});try{m.parentNode.removeChild(m)}catch(H){m.outerHTML=Mb}},ye=function X(m,H){try{p(F.removed,{attribute:H.getAttributeNode(m),from:H})}catch(Q){p(F.removed,{attribute:null,from:H})}H.removeAttribute(m)},ze=function X(m){var H=void 0,Q=void 0;if(Y)m="<remove></remove>"+m;else{var ja=r(m,/^[\r\n\t ]+/);Q=ja&&ja[0]}var Na=za?za.createHTML(m):m;try{H=new Xc().parseFromString(Na,"text/html")}catch(Va){}if(!H||!H.documentElement){H=Nb.createHTMLDocument("");var Ja=H,Ba=Ja.body;Ba.parentNode.removeChild(Ba.parentNode.firstElementChild),Ba.outerHTML=Na}return m&&Q&&H.body.insertBefore(q.createTextNode(Q),H.body.childNodes[0]||null),ib.call(H,ra?"html":"body")[0]},Ae=function X(m){return Yc.call(m.ownerDocument||m,m,Ga.SHOW_ELEMENT|Ga.SHOW_COMMENT|Ga.SHOW_TEXT,function(){return Ga.FILTER_ACCEPT},!1)},Te=function X(m){return m instanceof jc||m instanceof gb?!1:typeof m.nodeName!=="string"||typeof m.textContent!=="string"||typeof m.removeChild!=="function"||!(m.attributes instanceof Wc)||typeof m.removeAttribute!=="function"||typeof m.setAttribute!=="function"||typeof m.namespaceURI!=="string"?!0:!1},Sb=function X(m){return(typeof Sa==="undefined"?"undefined":qa(Sa))==="object"?m instanceof Sa:m&&(typeof m==="undefined"?"undefined":qa(m))==="object"&&typeof m.nodeType==="number"&&typeof m.nodeName==="string"},Wa=function X(m,H,Q){if(!Ha[m])return;da(Ha[m],function(ja){ja.call(F,H,Q,Db)})},Be=function X(m){var H=void 0;Wa("beforeSanitizeElements",m,null);if(Te(m))return kb(m),!0;if(r(m.nodeName,/[\u0080-\uFFFF]/))return kb(m),!0;var Q=B(m.nodeName);Wa("uponSanitizeElement",m,{tagName:Q,allowedTags:c});if((Q==="svg"||Q==="math")&&m.querySelectorAll("p, br, form, table, h1, h2, h3, h4, h5, h6").length!==0)return kb(m),!0;if(!Sb(m.firstElementChild)&&(!Sb(m.content)||!Sb(m.content.firstElementChild))&&ea(/<[/\w]/g,m.innerHTML)&&ea(/<[/\w]/g,m.textContent))return kb(m),!0;if(!c[Q]||h[Q]){if(jb&&!mc[Q]&&typeof m.insertAdjacentHTML==="function")try{var ja=m.innerHTML;m.insertAdjacentHTML("AfterEnd",za?za.createHTML(ja):ja)}catch(Na){}return kb(m),!0}return(Q==="noscript"||Q==="noembed")&&ea(/<\/no(script|embed)/i,m.innerHTML)?(kb(m),!0):($&&m.nodeType===3&&(H=m.textContent,H=v(H,Pb," "),H=v(H,Qb," "),m.textContent!==H&&(p(F.removed,{element:m.cloneNode()}),m.textContent=H)),Wa("afterSanitizeElements",m,null),!1)},Ce=function X(m,H,Q){if(aa&&(H==="id"||H==="name")&&(Q in q||Q in Se))return!1;if(!(U&&ea(_,H))){if(!(y&&ea(Zc,H))){if(!f[H]||A[H])return!1;if(!_c[H]){if(!ea(s,v(Q,i,""))){if(!((H==="src"||H==="xlink:href"||H==="href")&&m!=="script"&&O(Q,"data:")===0&&Rb[m])){if(!(P&&!ea(l,v(Q,i,"")))){if(Q)return!1}}}}}}return!0},De=function X(m){var H=void 0,Q=void 0,ja=void 0,Na=void 0;Wa("beforeSanitizeAttributes",m,null);var Ja=m.attributes;if(!Ja)return;var Ba={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:f};for(Na=Ja.length;Na--;){H=Ja[Na];var Va=H,Tb=Va.name,Ee=Va.namespaceURI;Q=T(H.value),ja=B(Tb),Ba.attrName=ja,Ba.attrValue=Q,Ba.keepAttr=!0,Ba.forceKeepAttr=void 0,Wa("uponSanitizeAttribute",m,Ba),Q=Ba.attrValue;if(Ba.forceKeepAttr)continue;ye(Tb,m);if(!Ba.keepAttr)continue;if(ea(/\/>/i,Q)){ye(Tb,m);continue}$&&(Q=v(Q,Pb," "),Q=v(Q,Qb," "));var Ve=m.nodeName.toLowerCase();if(!Ce(Ve,ja,Q))continue;try{Ee?m.setAttributeNS(Ee,Tb,Q):m.setAttribute(Tb,Q),J(F.removed)}catch(qm){}}Wa("afterSanitizeAttributes",m,null)},Ue=function X(m){var H=void 0,Q=Ae(m);for(Wa("beforeSanitizeShadowDOM",m,null);H=Q.nextNode();){Wa("uponSanitizeShadowNode",H,null);if(Be(H))continue;H.content instanceof ta&&X(H.content),De(H)}Wa("afterSanitizeShadowDOM",m,null)};return F.sanitize=function(X,m){var H=void 0,Q=void 0,ja=void 0,Na=void 0,Ja=void 0;X||(X="<!-->");if(typeof X!=="string"&&!Sb(X)){if(typeof X.toString!=="function")throw wa("toString is not a function");{X=X.toString();if(typeof X!=="string")throw wa("dirty is not a string, aborting")}}if(!F.isSupported){if(qa(w.toStaticHTML)==="object"||typeof w.toStaticHTML==="function"){if(typeof X==="string")return w.toStaticHTML(X);if(Sb(X))return w.toStaticHTML(X.outerHTML)}return X}fa||$c(m),F.removed=[],typeof X==="string"&&($a=!1);if(!$a)if(X instanceof Sa)H=ze("<!---->"),Q=H.ownerDocument.importNode(X,!0),Q.nodeType===1&&Q.nodeName==="BODY"?H=Q:Q.nodeName==="HTML"?H=Q:H.appendChild(Q);else{if(!Aa&&!$&&!ra&&X.indexOf("<")===-1)return za&&xa?za.createHTML(X):X;H=ze(X);if(!H)return Aa?null:Mb}H&&Y&&kb(H.firstChild);for(var Ba=Ae($a?X:H);ja=Ba.nextNode();){if(ja.nodeType===3&&ja===Na)continue;if(Be(ja))continue;ja.content instanceof ta&&Ue(ja.content),De(ja),Na=ja}Na=null;if($a)return X;if(Aa){if(Ta)for(Ja=Cb.call(H.ownerDocument);H.firstChild;)Ja.appendChild(H.firstChild);else Ja=H;return Ua&&(Ja=lc.call(x,Ja,!0)),Ja}var Va=ra?H.outerHTML:H.innerHTML;return $&&(Va=v(Va,Pb," "),Va=v(Va,Qb," ")),za&&xa?za.createHTML(Va):Va},F.setConfig=function(X){$c(X),fa=!0},F.clearConfig=function(){Db=null,fa=!1},F.isValidAttribute=function(X,m,H){Db||$c({});var Q=B(X),ja=B(m);return Ce(Q,ja,H)},F.addHook=function(X,m){if(typeof m!=="function")return;Ha[X]=Ha[X]||[],p(Ha[X],m)},F.removeHook=function(X){Ha[X]&&J(Ha[X])},F.removeHooks=function(X){Ha[X]&&(Ha[X]=[])},F.removeAllHooks=function(){Ha={}},F}var fb=Ab();return fb})});var md=cb((a,b)=>{(function(d,j){typeof a==="object"&&typeof b!=="undefined"?b.exports=j():typeof define==="function"&&define.amd?define(j):(d=typeof globalThis!=="undefined"?globalThis:d||self,d.marked=j())})(a,function(){"use strict";function d(l,i){for(var s=0;s<i.length;s++){var c=i[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}function j(l,i,s){return i&&d(l.prototype,i),s&&d(l,s),l}function o(l,i){if(!l)return;if(typeof l==="string")return u(l,i);var s=Object.prototype.toString.call(l).slice(8,-1);s==="Object"&&l.constructor&&(s=l.constructor.name);if(s==="Map"||s==="Set")return Array.from(l);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return u(l,i)}function u(l,i){(i==null||i>l.length)&&(i=l.length);for(var s=0,c=new Array(i);s<i;s++)c[s]=l[s];return c}function n(l,i){var s;if(typeof Symbol==="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(s=o(l))||i&&l&&typeof l.length==="number"){s&&(l=s);var c=0;return function(){return c>=l.length?{done:!0}:{done:!1,value:l[c++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return s=l[Symbol.iterator](),s.next.bind(s)}function z(l,i){return i={exports:{}},l(i,i.exports),i.exports}var L=z(function(l){function i(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function s(c){l.exports.defaults=c}l.exports={defaults:i(),getDefaults:i,changeDefaults:s}}),Z=L.defaults,M=L.getDefaults,S=L.changeDefaults,da=/[&<>"']/,J=/[&<>"']/g,p=/[<>"']|&(?!#?\w+;)/,B=/[<>"']|&(?!#?\w+;)/g,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v=function l(i){return r[i]};function O(l,i){if(i){if(da.test(l))return l.replace(J,v)}else if(p.test(l))return l.replace(B,v);return l}var T=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ea(l){return l.replace(T,function(i,s){return s=s.toLowerCase(),s==="colon"?":":s.charAt(0)==="#"?s.charAt(1)==="x"?String.fromCharCode(parseInt(s.substring(2),16)):String.fromCharCode(+s.substring(1)):""})}var wa=/(^|[^\[])\^/g;function Ea(l,i){l=l.source||l,i=i||"";var s={replace:function c(e,f){return f=f.source||f,f=f.replace(wa,"$1"),l=l.replace(e,f),s},getRegex:function c(){return new RegExp(l,i)}};return s}var K=/[^\w:]/g,I=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function C(l,i,s){if(l){var c;try{c=decodeURIComponent(ea(s)).replace(K,"").toLowerCase()}catch(e){return null}if(c.indexOf("javascript:")===0||c.indexOf("vbscript:")===0||c.indexOf("data:")===0)return null}i&&!I.test(s)&&(s=pa(i,s));try{s=encodeURI(s).replace(/%25/g,"%")}catch(e){return null}return s}var N={},W=/^[^:]+:\/*[^/]*$/,sa=/^([^:]+:)[\s\S]*$/,Ma=/^([^:]+:\/*[^/]*)[\s\S]*$/;function pa(l,i){N[" "+l]||(W.test(l)?N[" "+l]=l+"/":N[" "+l]=eb(l,"/",!0)),l=N[" "+l];var s=l.indexOf(":")===-1;return i.substring(0,2)==="//"?s?i:l.replace(sa,"$1")+i:i.charAt(0)==="/"?s?i:l.replace(Ma,"$1")+i:l+i}var yb={exec:function l(){}};function db(l){for(var i=1,s,c;i<arguments.length;i++){s=arguments[i];for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(l[c]=s[c])}return l}function hc(l,i){var s=l.replace(/\|/g,function(f,g,h){for(var A=!1,y=g;--y>=0&&h[y]==="\\";)A=!A;return A?"|":" |"}),c=s.split(/ \|/),e=0;if(c.length>i)c.splice(i);else for(;c.length<i;)c.push("");for(;e<c.length;e++)c[e]=c[e].trim().replace(/\\\|/g,"|");return c}function eb(l,i,s){var c=l.length;if(c===0)return"";for(var e=0;e<c;){var f=l.charAt(c-e-1);if(f===i&&!s)e++;else if(f!==i&&s)e++;else break}return l.substr(0,c-e)}function Qc(l,i){if(l.indexOf(i[1])===-1)return-1;for(var s=l.length,c=0,e=0;e<s;e++)if(l[e]==="\\")e++;else if(l[e]===i[0])c++;else if(l[e]===i[1]){c--;if(c<0)return e}return-1}function Rc(l){l&&l.sanitize&&!l.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Sc(l,i){if(i<1)return"";for(var s="";i>1;)i&1&&(s+=l),i>>=1,l+=l;return s+l}var va={escape:O,unescape:ea,edit:Ea,cleanUrl:C,resolveUrl:pa,noopTest:yb,merge:db,splitCells:hc,rtrim:eb,findClosingBracket:Qc,checkSanitizeDeprecation:Rc,repeatString:Sc},Tc=L.defaults,Uc=va.rtrim,zb=va.splitCells,qa=va.escape,Fa=va.findClosingBracket;function ic(l,i,s){var c=i.href,e=i.title?qa(i.title):null,f=l[1].replace(/\\([\[\]])/g,"$1");return l[0].charAt(0)!=="!"?{type:"link",raw:s,href:c,title:e,text:f}:{type:"image",raw:s,href:c,title:e,text:qa(f)}}function Vc(l,i){var s=l.match(/^(\s+)(?:```)/);if(s===null)return i;var c=s[1];return i.split(`
`).map(function(e){var f=e.match(/^\s+/);if(f===null)return e;var g=f[0];return g.length>=c.length?e.slice(c.length):e}).join(`
`)}var Ab=function(){function l(s){this.options=s||Tc}var i=l.prototype;return i.space=function s(c){var e=this.rules.block.newline.exec(c);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:`
`}},i.code=function s(c,e){var f=this.rules.block.code.exec(c);if(f){var g=e[e.length-1];if(g&&g.type==="paragraph")return{raw:f[0],text:f[0].trimRight()};var h=f[0].replace(/^ {4}/gm,"");return{type:"code",raw:f[0],codeBlockStyle:"indented",text:this.options.pedantic?h:Uc(h,`
`)}}},i.fences=function s(c){var e=this.rules.block.fences.exec(c);if(e){var f=e[0],g=Vc(f,e[3]||"");return{type:"code",raw:f,lang:e[2]?e[2].trim():e[2],text:g}}},i.heading=function s(c){var e=this.rules.block.heading.exec(c);if(e)return{type:"heading",raw:e[0],depth:e[1].length,text:e[2]}},i.nptable=function s(c){var e=this.rules.block.nptable.exec(c);if(e){var f={type:"table",header:zb(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split(`
`):[],raw:e[0]};if(f.header.length===f.align.length){var g=f.align.length,h;for(h=0;h<g;h++)/^ *-+: *$/.test(f.align[h])?f.align[h]="right":/^ *:-+: *$/.test(f.align[h])?f.align[h]="center":/^ *:-+ *$/.test(f.align[h])?f.align[h]="left":f.align[h]=null;for(g=f.cells.length,h=0;h<g;h++)f.cells[h]=zb(f.cells[h],f.header.length);return f}}},i.hr=function s(c){var e=this.rules.block.hr.exec(c);if(e)return{type:"hr",raw:e[0]}},i.blockquote=function s(c){var e=this.rules.block.blockquote.exec(c);if(e){var f=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:f}}},i.list=function s(c){var e=this.rules.block.list.exec(c);if(e){var f=e[0],g=e[2],h=g.length>1,A={type:"list",raw:f,ordered:h,start:h?+g.slice(0,-1):"",loose:!1,items:[]},y=e[0].match(this.rules.block.item),U=!1,P,$,ra,fa,Y,Aa,Ta,Ua,xa=y.length;ra=this.rules.block.listItemStart.exec(y[0]);for(var aa=0;aa<xa;aa++){P=y[aa],f=P;if(aa!==xa-1){fa=this.rules.block.listItemStart.exec(y[aa+1]);if(fa[1].length>ra[0].length||fa[1].length>3){y.splice(aa,2,y[aa]+`
`+y[aa+1]),aa--,xa--;continue}else(!this.options.pedantic||this.options.smartLists?fa[2][fa[2].length-1]!==g[g.length-1]:h===(fa[2].length===1))&&(Y=y.slice(aa+1).join(`
`),A.raw=A.raw.substring(0,A.raw.length-Y.length),aa=xa-1);ra=fa}$=P.length,P=P.replace(/^ *([*+-]|\d+[.)]) ?/,""),~P.indexOf(`
 `)&&($-=P.length,P=this.options.pedantic?P.replace(/^ {1,4}/gm,""):P.replace(new RegExp("^ {1,"+$+"}","gm"),"")),Aa=U||/\n\n(?!\s*$)/.test(P),aa!==xa-1&&(U=P.charAt(P.length-1)===`
`,Aa||(Aa=U)),Aa&&(A.loose=!0),this.options.gfm&&(Ta=/^\[[ xX]\] /.test(P),Ua=void 0,Ta&&(Ua=P[1]!==" ",P=P.replace(/^\[[ xX]\] +/,""))),A.items.push({type:"list_item",raw:f,task:Ta,checked:Ua,loose:Aa,text:P})}return A}},i.html=function s(c){var e=this.rules.block.html.exec(c);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):qa(e[0]):e[0]}},i.def=function s(c){var e=this.rules.block.def.exec(c);if(e){e[3]&&(e[3]=e[3].substring(1,e[3].length-1));var f=e[1].toLowerCase().replace(/\s+/g," ");return{tag:f,raw:e[0],href:e[2],title:e[3]}}},i.table=function s(c){var e=this.rules.block.table.exec(c);if(e){var f={type:"table",header:zb(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split(`
`):[]};if(f.header.length===f.align.length){f.raw=e[0];var g=f.align.length,h;for(h=0;h<g;h++)/^ *-+: *$/.test(f.align[h])?f.align[h]="right":/^ *:-+: *$/.test(f.align[h])?f.align[h]="center":/^ *:-+ *$/.test(f.align[h])?f.align[h]="left":f.align[h]=null;for(g=f.cells.length,h=0;h<g;h++)f.cells[h]=zb(f.cells[h].replace(/^ *\| *| *\| *$/g,""),f.header.length);return f}}},i.lheading=function s(c){var e=this.rules.block.lheading.exec(c);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1]}},i.paragraph=function s(c){var e=this.rules.block.paragraph.exec(c);if(e)return{type:"paragraph",raw:e[0],text:e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1]}},i.text=function s(c,e){var f=this.rules.block.text.exec(c);if(f){var g=e[e.length-1];return g&&g.type==="text"?{raw:f[0],text:f[0]}:{type:"text",raw:f[0],text:f[0]}}},i.escape=function s(c){var e=this.rules.inline.escape.exec(c);if(e)return{type:"escape",raw:e[0],text:qa(e[1])}},i.tag=function s(c,e,f){var g=this.rules.inline.tag.exec(c);if(g)return!e&&/^<a /i.test(g[0])?e=!0:e&&/^<\/a>/i.test(g[0])&&(e=!1),!f&&/^<(pre|code|kbd|script)(\s|>)/i.test(g[0])?f=!0:f&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(g[0])&&(f=!1),{type:this.options.sanitize?"text":"html",raw:g[0],inLink:e,inRawBlock:f,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):qa(g[0]):g[0]}},i.link=function s(c){var e=this.rules.inline.link.exec(c);if(e){var f=Fa(e[2],"()");if(f>-1){var g=e[0].indexOf("!")===0?5:4,h=g+e[1].length+f;e[2]=e[2].substring(0,f),e[0]=e[0].substring(0,h).trim(),e[3]=""}var A=e[2],y="";if(this.options.pedantic){var U=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(A);U?(A=U[1],y=U[3]):y=""}else y=e[3]?e[3].slice(1,-1):"";A=A.trim().replace(/^<([\s\S]*)>$/,"$1");var P=ic(e,{href:A?A.replace(this.rules.inline._escapes,"$1"):A,title:y?y.replace(this.rules.inline._escapes,"$1"):y},e[0]);return P}},i.reflink=function s(c,e){var f;if((f=this.rules.inline.reflink.exec(c))||(f=this.rules.inline.nolink.exec(c))){var g=(f[2]||f[1]).replace(/\s+/g," ");g=e[g.toLowerCase()];if(!g||!g.href){var h=f[0].charAt(0);return{type:"text",raw:h,text:h}}var A=ic(f,g,f[0]);return A}},i.strong=function s(c,e,f){f===void 0&&(f="");var g=this.rules.inline.strong.start.exec(c);if(g&&(!g[1]||g[1]&&(f===""||this.rules.inline.punctuation.exec(f)))){e=e.slice(-1*c.length);var h=g[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;h.lastIndex=0;for(var A;(g=h.exec(e))!=null;){A=this.rules.inline.strong.middle.exec(e.slice(0,g.index+3));if(A)return{type:"strong",raw:c.slice(0,A[0].length),text:c.slice(2,A[0].length-2)}}}},i.em=function s(c,e,f){f===void 0&&(f="");var g=this.rules.inline.em.start.exec(c);if(g&&(!g[1]||g[1]&&(f===""||this.rules.inline.punctuation.exec(f)))){e=e.slice(-1*c.length);var h=g[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;h.lastIndex=0;for(var A;(g=h.exec(e))!=null;){A=this.rules.inline.em.middle.exec(e.slice(0,g.index+2));if(A)return{type:"em",raw:c.slice(0,A[0].length),text:c.slice(1,A[0].length-1)}}}},i.codespan=function s(c){var e=this.rules.inline.code.exec(c);if(e){var f=e[2].replace(/\n/g," "),g=/[^ ]/.test(f),h=f.startsWith(" ")&&f.endsWith(" ");return g&&h&&(f=f.substring(1,f.length-1)),f=qa(f,!0),{type:"codespan",raw:e[0],text:f}}},i.br=function s(c){var e=this.rules.inline.br.exec(c);if(e)return{type:"br",raw:e[0]}},i.del=function s(c){var e=this.rules.inline.del.exec(c);if(e)return{type:"del",raw:e[0],text:e[2]}},i.autolink=function s(c,e){var f=this.rules.inline.autolink.exec(c);if(f){var g,h;return f[2]==="@"?(g=qa(this.options.mangle?e(f[1]):f[1]),h="mailto:"+g):(g=qa(f[1]),h=g),{type:"link",raw:f[0],text:g,href:h,tokens:[{type:"text",raw:g,text:g}]}}},i.url=function s(c,e){var f;if(f=this.rules.inline.url.exec(c)){var g,h;if(f[2]==="@")g=qa(this.options.mangle?e(f[0]):f[0]),h="mailto:"+g;else{var A;do A=f[0],f[0]=this.rules.inline._backpedal.exec(f[0])[0];while(A!==f[0]);g=qa(f[0]),f[1]==="www."?h="http://"+g:h=g}return{type:"link",raw:f[0],text:g,href:h,tokens:[{type:"text",raw:g,text:g}]}}},i.inlineText=function s(c,e,f){var g=this.rules.inline.text.exec(c);if(g){var h;return e?h=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):qa(g[0]):g[0]:h=qa(this.options.smartypants?f(g[0]):g[0]),{type:"text",raw:g[0],text:h}}},l}(),fb=va.noopTest,w=va.edit,F=va.merge,x={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:fb,table:fb,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};x._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,x._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,x.def=w(x.def).replace("label",x._label).replace("title",x._title).getRegex(),x.bullet=/(?:[*+-]|\d{1,9}[.)])/,x.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,x.item=w(x.item,"gm").replace(/bull/g,x.bullet).getRegex(),x.listItemStart=w(/^( *)(bull)/).replace("bull",x.bullet).getRegex(),x.list=w(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex(),x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,x.html=w(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x.paragraph=w(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",x._tag).getRegex(),x.blockquote=w(x.blockquote).replace("paragraph",x.paragraph).getRegex(),x.normal=F({},x),x.gfm=F({},x.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),x.gfm.nptable=w(x.gfm.nptable).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",x._tag).getRegex(),x.gfm.table=w(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",x._tag).getRegex(),x.pedantic=F({},x.normal,{html:w(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:fb,paragraph:w(x.normal._paragraph).replace("hr",x.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var q={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:fb,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:fb,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/};q._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",q.punctuation=w(q.punctuation).replace(/punctuation/g,q._punctuation).getRegex(),q._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",q._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",q._comment=w(x._comment).replace("(?:-->|$)","-->").getRegex(),q.em.start=w(q.em.start).replace(/punctuation/g,q._punctuation).getRegex(),q.em.middle=w(q.em.middle).replace(/punctuation/g,q._punctuation).replace(/overlapSkip/g,q._overlapSkip).getRegex(),q.em.endAst=w(q.em.endAst,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.em.endUnd=w(q.em.endUnd,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.strong.start=w(q.strong.start).replace(/punctuation/g,q._punctuation).getRegex(),q.strong.middle=w(q.strong.middle).replace(/punctuation/g,q._punctuation).replace(/overlapSkip/g,q._overlapSkip).getRegex(),q.strong.endAst=w(q.strong.endAst,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.strong.endUnd=w(q.strong.endUnd,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.blockSkip=w(q._blockSkip,"g").getRegex(),q.overlapSkip=w(q._overlapSkip,"g").getRegex(),q._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,q._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,q._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,q.autolink=w(q.autolink).replace("scheme",q._scheme).replace("email",q._email).getRegex(),q._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,q.tag=w(q.tag).replace("comment",q._comment).replace("attribute",q._attribute).getRegex(),q._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,q._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,q._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,q.link=w(q.link).replace("label",q._label).replace("href",q._href).replace("title",q._title).getRegex(),q.reflink=w(q.reflink).replace("label",q._label).getRegex(),q.reflinkSearch=w(q.reflinkSearch,"g").replace("reflink",q.reflink).replace("nolink",q.nolink).getRegex(),q.normal=F({},q),q.pedantic=F({},q.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:w(/^!?\[(label)\]\((.*?)\)/).replace("label",q._label).getRegex(),reflink:w(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q._label).getRegex()}),q.gfm=F({},q.normal,{escape:w(q.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),q.gfm.url=w(q.gfm.url,"i").replace("email",q.gfm._extended_email).getRegex(),q.breaks=F({},q.gfm,{br:w(q.br).replace("{2,}","*").getRegex(),text:w(q.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ta={block:x,inline:q},Bb=L.defaults,Sa=ta.block,Ga=ta.inline,Lb=va.repeatString;function Wc(l){return l.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function jc(l){var i="",s,c,e=l.length;for(s=0;s<e;s++)c=l.charCodeAt(s),Math.random()>.5&&(c="x"+c.toString(16)),i+="&#"+c+";";return i}var gb=function(){function l(s){this.tokens=[],this.tokens.links=Object.create(null),this.options=s||Bb,this.options.tokenizer=this.options.tokenizer||new Ab(),this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var c={block:Sa.normal,inline:Ga.normal};this.options.pedantic?(c.block=Sa.pedantic,c.inline=Ga.pedantic):this.options.gfm&&(c.block=Sa.gfm,this.options.breaks?c.inline=Ga.breaks:c.inline=Ga.gfm),this.tokenizer.rules=c}l.lex=function s(c,e){var f=new l(e);return f.lex(c)},l.lexInline=function s(c,e){var f=new l(e);return f.inlineTokens(c)};var i=l.prototype;return i.lex=function s(c){return c=c.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(c,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function s(c,e,f){e===void 0&&(e=[]),f===void 0&&(f=!0),c=c.replace(/^ +$/gm,"");for(var g,h,A,y;c;){if(g=this.tokenizer.space(c)){c=c.substring(g.raw.length),g.type&&e.push(g);continue}if(g=this.tokenizer.code(c,e)){c=c.substring(g.raw.length),g.type?e.push(g):(y=e[e.length-1],y.raw+=`
`+g.raw,y.text+=`
`+g.text);continue}if(g=this.tokenizer.fences(c)){c=c.substring(g.raw.length),e.push(g);continue}if(g=this.tokenizer.heading(c)){c=c.substring(g.raw.length),e.push(g);continue}if(g=this.tokenizer.nptable(c)){c=c.substring(g.raw.length),e.push(g);continue}if(g=this.tokenizer.hr(c)){c=c.substring(g.raw.length),e.push(g);continue}if(g=this.tokenizer.blockquote(c)){c=c.substring(g.raw.length),g.tokens=this.blockTokens(g.text,[],f),e.push(g);continue}if(g=this.tokenizer.list(c)){for(c=c.substring(g.raw.length),A=g.items.length,h=0;h<A;h++)g.items[h].tokens=this.blockTokens(g.items[h].text,[],!1);e.push(g);continue}if(g=this.tokenizer.html(c)){c=c.substring(g.raw.length),e.push(g);continue}if(f&&(g=this.tokenizer.def(c))){c=c.substring(g.raw.length),this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(c)){c=c.substring(g.raw.length),e.push(g);continue}if(g=this.tokenizer.lheading(c)){c=c.substring(g.raw.length),e.push(g);continue}if(f&&(g=this.tokenizer.paragraph(c))){c=c.substring(g.raw.length),e.push(g);continue}if(g=this.tokenizer.text(c,e)){c=c.substring(g.raw.length),g.type?e.push(g):(y=e[e.length-1],y.raw+=`
`+g.raw,y.text+=`
`+g.text);continue}if(c){var U="Infinite loop on byte: "+c.charCodeAt(0);if(this.options.silent){console.error(U);break}else throw new Error(U)}}return e},i.inline=function s(c){var e,f,g,h,A,y,U=c.length;for(e=0;e<U;e++){y=c[e];switch(y.type){case"paragraph":case"text":case"heading":{y.tokens=[],this.inlineTokens(y.text,y.tokens);break}case"table":{for(y.tokens={header:[],cells:[]},h=y.header.length,f=0;f<h;f++)y.tokens.header[f]=[],this.inlineTokens(y.header[f],y.tokens.header[f]);for(h=y.cells.length,f=0;f<h;f++)for(A=y.cells[f],y.tokens.cells[f]=[],g=0;g<A.length;g++)y.tokens.cells[f][g]=[],this.inlineTokens(A[g],y.tokens.cells[f][g]);break}case"blockquote":{this.inline(y.tokens);break}case"list":{for(h=y.items.length,f=0;f<h;f++)this.inline(y.items[f].tokens);break}}}return c},i.inlineTokens=function s(c,e,f,g){e===void 0&&(e=[]),f===void 0&&(f=!1),g===void 0&&(g=!1);var h,A=c,y,U,P;if(this.tokens.links){var $=Object.keys(this.tokens.links);if($.length>0)for(;(y=this.tokenizer.rules.inline.reflinkSearch.exec(A))!=null;)$.includes(y[0].slice(y[0].lastIndexOf("[")+1,-1))&&(A=A.slice(0,y.index)+"["+Lb("a",y[0].length-2)+"]"+A.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(y=this.tokenizer.rules.inline.blockSkip.exec(A))!=null;)A=A.slice(0,y.index)+"["+Lb("a",y[0].length-2)+"]"+A.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;c;){U||(P=""),U=!1;if(h=this.tokenizer.escape(c)){c=c.substring(h.raw.length),e.push(h);continue}if(h=this.tokenizer.tag(c,f,g)){c=c.substring(h.raw.length),f=h.inLink,g=h.inRawBlock,e.push(h);continue}if(h=this.tokenizer.link(c)){c=c.substring(h.raw.length),h.type==="link"&&(h.tokens=this.inlineTokens(h.text,[],!0,g)),e.push(h);continue}if(h=this.tokenizer.reflink(c,this.tokens.links)){c=c.substring(h.raw.length),h.type==="link"&&(h.tokens=this.inlineTokens(h.text,[],!0,g)),e.push(h);continue}if(h=this.tokenizer.strong(c,A,P)){c=c.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],f,g),e.push(h);continue}if(h=this.tokenizer.em(c,A,P)){c=c.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],f,g),e.push(h);continue}if(h=this.tokenizer.codespan(c)){c=c.substring(h.raw.length),e.push(h);continue}if(h=this.tokenizer.br(c)){c=c.substring(h.raw.length),e.push(h);continue}if(h=this.tokenizer.del(c)){c=c.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],f,g),e.push(h);continue}if(h=this.tokenizer.autolink(c,jc)){c=c.substring(h.raw.length),e.push(h);continue}if(!f&&(h=this.tokenizer.url(c,jc))){c=c.substring(h.raw.length),e.push(h);continue}if(h=this.tokenizer.inlineText(c,g,Wc)){c=c.substring(h.raw.length),P=h.raw.slice(-1),U=!0,e.push(h);continue}if(c){var ra="Infinite loop on byte: "+c.charCodeAt(0);if(this.options.silent){console.error(ra);break}else throw new Error(ra)}}return e},j(l,null,[{key:"rules",get:function s(){return{block:Sa,inline:Ga}}}]),l}(),Xc=L.defaults,kc=va.cleanUrl,_a=va.escape,za=function(){function l(s){this.options=s||Xc}var i=l.prototype;return i.code=function s(c,e,f){var g=(e||"").match(/\S*/)[0];if(this.options.highlight){var h=this.options.highlight(c,g);h!=null&&h!==c&&(f=!0,c=h)}return g?'<pre><code class="'+this.options.langPrefix+_a(g,!0)+'">'+(f?c:_a(c,!0))+`</code></pre>
`:"<pre><code>"+(f?c:_a(c,!0))+`</code></pre>
`},i.blockquote=function s(c){return`<blockquote>
`+c+`</blockquote>
`},i.html=function s(c){return c},i.heading=function s(c,e,f,g){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+g.slug(f)+'">'+c+"</h"+e+`>
`:"<h"+e+">"+c+"</h"+e+`>
`},i.hr=function s(){return this.options.xhtml?`<hr/>
`:`<hr>
`},i.list=function s(c,e,f){var g=e?"ol":"ul",h=e&&f!==1?' start="'+f+'"':"";return"<"+g+h+`>
`+c+"</"+g+`>
`},i.listitem=function s(c){return"<li>"+c+`</li>
`},i.checkbox=function s(c){return"<input "+(c?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.paragraph=function s(c){return"<p>"+c+`</p>
`},i.table=function s(c,e){return e&&(e="<tbody>"+e+"</tbody>"),`<table>
<thead>
`+c+`</thead>
`+e+`</table>
`},i.tablerow=function s(c){return`<tr>
`+c+`</tr>
`},i.tablecell=function s(c,e){var f=e.header?"th":"td",g=e.align?"<"+f+' align="'+e.align+'">':"<"+f+">";return g+c+"</"+f+`>
`},i.strong=function s(c){return"<strong>"+c+"</strong>"},i.em=function s(c){return"<em>"+c+"</em>"},i.codespan=function s(c){return"<code>"+c+"</code>"},i.br=function s(){return this.options.xhtml?"<br/>":"<br>"},i.del=function s(c){return"<del>"+c+"</del>"},i.link=function s(c,e,f){c=kc(this.options.sanitize,this.options.baseUrl,c);if(c===null)return f;var g='<a href="'+_a(c)+'"';return e&&(g+=' title="'+e+'"'),g+=">"+f+"</a>",g},i.image=function s(c,e,f){c=kc(this.options.sanitize,this.options.baseUrl,c);if(c===null)return f;var g='<img src="'+c+'" alt="'+f+'"';return e&&(g+=' title="'+e+'"'),g+=this.options.xhtml?"/>":">",g},i.text=function s(c){return c},l}(),Mb=function(){function l(){}var i=l.prototype;return i.strong=function s(c){return c},i.em=function s(c){return c},i.codespan=function s(c){return c},i.del=function s(c){return c},i.html=function s(c){return c},i.text=function s(c){return c},i.link=function s(c,e,f){return""+f},i.image=function s(c,e,f){return""+f},i.br=function s(){return""},l}(),hb=function(){function l(){this.seen={}}var i=l.prototype;return i.serialize=function s(c){return c.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},i.getNextSafeSlug=function s(c,e){var f=c,g=0;if(this.seen.hasOwnProperty(f)){g=this.seen[c];do g++,f=c+"-"+g;while(this.seen.hasOwnProperty(f))}return e||(this.seen[c]=g,this.seen[f]=0),f},i.slug=function s(c,e){e===void 0&&(e={});var f=this.serialize(c);return this.getNextSafeSlug(f,e.dryrun)},l}(),Nb=L.defaults,Yc=va.unescape,ib=function(){function l(s){this.options=s||Nb,this.options.renderer=this.options.renderer||new za(),this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Mb(),this.slugger=new hb()}l.parse=function s(c,e){var f=new l(e);return f.parse(c)},l.parseInline=function s(c,e){var f=new l(e);return f.parseInline(c)};var i=l.prototype;return i.parse=function s(c,e){e===void 0&&(e=!0);var f="",g,h,A,y,U,P,$,ra,fa,Y,Aa,Ta,Ua,xa,aa,jb,$a,Ia,mc=c.length;for(g=0;g<mc;g++){Y=c[g];switch(Y.type){case"space":continue;case"hr":{f+=this.renderer.hr();continue}case"heading":{f+=this.renderer.heading(this.parseInline(Y.tokens),Y.depth,Yc(this.parseInline(Y.tokens,this.textRenderer)),this.slugger);continue}case"code":{f+=this.renderer.code(Y.text,Y.lang,Y.escaped);continue}case"table":{for(ra="",$="",y=Y.header.length,h=0;h<y;h++)$+=this.renderer.tablecell(this.parseInline(Y.tokens.header[h]),{header:!0,align:Y.align[h]});for(ra+=this.renderer.tablerow($),fa="",y=Y.cells.length,h=0;h<y;h++){for(P=Y.tokens.cells[h],$="",U=P.length,A=0;A<U;A++)$+=this.renderer.tablecell(this.parseInline(P[A]),{header:!1,align:Y.align[A]});fa+=this.renderer.tablerow($)}f+=this.renderer.table(ra,fa);continue}case"blockquote":{fa=this.parse(Y.tokens),f+=this.renderer.blockquote(fa);continue}case"list":{for(Aa=Y.ordered,Ta=Y.start,Ua=Y.loose,y=Y.items.length,fa="",h=0;h<y;h++)aa=Y.items[h],jb=aa.checked,$a=aa.task,xa="",aa.task&&(Ia=this.renderer.checkbox(jb),Ua?aa.tokens.length>0&&aa.tokens[0].type==="text"?(aa.tokens[0].text=Ia+" "+aa.tokens[0].text,aa.tokens[0].tokens&&aa.tokens[0].tokens.length>0&&aa.tokens[0].tokens[0].type==="text"&&(aa.tokens[0].tokens[0].text=Ia+" "+aa.tokens[0].tokens[0].text)):aa.tokens.unshift({type:"text",text:Ia}):xa+=Ia),xa+=this.parse(aa.tokens,Ua),fa+=this.renderer.listitem(xa,$a,jb);f+=this.renderer.list(fa,Aa,Ta);continue}case"html":{f+=this.renderer.html(Y.text);continue}case"paragraph":{f+=this.renderer.paragraph(this.parseInline(Y.tokens));continue}case"text":{for(fa=Y.tokens?this.parseInline(Y.tokens):Y.text;g+1<mc&&c[g+1].type==="text";)Y=c[++g],fa+=`
`+(Y.tokens?this.parseInline(Y.tokens):Y.text);f+=e?this.renderer.paragraph(fa):fa;continue}default:{var Rb='Token with "'+Y.type+'" type was not found.';if(this.options.silent){console.error(Rb);return}else throw new Error(Rb)}}}return f},i.parseInline=function s(c,e){e=e||this.renderer;var f="",g,h,A=c.length;for(g=0;g<A;g++){h=c[g];switch(h.type){case"escape":{f+=e.text(h.text);break}case"html":{f+=e.html(h.text);break}case"link":{f+=e.link(h.href,h.title,this.parseInline(h.tokens,e));break}case"image":{f+=e.image(h.href,h.title,h.text);break}case"strong":{f+=e.strong(this.parseInline(h.tokens,e));break}case"em":{f+=e.em(this.parseInline(h.tokens,e));break}case"codespan":{f+=e.codespan(h.text);break}case"br":{f+=e.br();break}case"del":{f+=e.del(this.parseInline(h.tokens,e));break}case"text":{f+=e.text(h.text);break}default:{var y='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(y);return}else throw new Error(y)}}}return f},l}(),Cb=va.merge,lc=va.checkSanitizeDeprecation,Ob=va.escape,Ha=L.getDefaults,Pb=L.changeDefaults,Qb=L.defaults;function _(l,i,s){if(typeof l==="undefined"||l===null)throw new Error("marked(): input parameter is undefined or null");if(typeof l!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(l)+", string expected");typeof i==="function"&&(s=i,i=null),i=Cb({},_.defaults,i||{}),lc(i);if(s){var c=i.highlight,e;try{e=gb.lex(l,i)}catch(A){return s(A)}var f=function A(y){var U;if(!y)try{U=ib.parse(e,i)}catch(P){y=P}return i.highlight=c,y?s(y):s(null,U)};if(!c||c.length<3)return f();delete i.highlight;if(!e.length)return f();var g=0;_.walkTokens(e,function(A){A.type==="code"&&(g++,setTimeout(function(){c(A.text,A.lang,function(y,U){if(y)return f(y);U!=null&&U!==A.text&&(A.text=U,A.escaped=!0),g--,g===0&&f()})},0))}),g===0&&f();return}try{var h=gb.lex(l,i);return i.walkTokens&&_.walkTokens(h,i.walkTokens),ib.parse(h,i)}catch(A){A.message+=`
Please report this to https://github.com/markedjs/marked.`;if(i.silent)return"<p>An error occurred:</p><pre>"+Ob(A.message+"",!0)+"</pre>";throw A}}_.options=_.setOptions=function(l){return Cb(_.defaults,l),Pb(_.defaults),_},_.getDefaults=Ha,_.defaults=Qb,_.use=function(l){var i=Cb({},l);l.renderer&&function(){var c=_.defaults.renderer||new za(),e=function g(h){var A=c[h];c[h]=function(){for(var y=arguments.length,U=new Array(y),P=0;P<y;P++)U[P]=arguments[P];var $=l.renderer[h].apply(c,U);return $===!1&&($=A.apply(c,U)),$}};for(var f in l.renderer)e(f);i.renderer=c}(),l.tokenizer&&function(){var c=_.defaults.tokenizer||new Ab(),e=function g(h){var A=c[h];c[h]=function(){for(var y=arguments.length,U=new Array(y),P=0;P<y;P++)U[P]=arguments[P];var $=l.tokenizer[h].apply(c,U);return $===!1&&($=A.apply(c,U)),$}};for(var f in l.tokenizer)e(f);i.tokenizer=c}();if(l.walkTokens){var s=_.defaults.walkTokens;i.walkTokens=function(c){l.walkTokens(c),s&&s(c)}}_.setOptions(i)},_.walkTokens=function(l,i){for(var s=n(l),c;!(c=s()).done;){var e=c.value;i(e);switch(e.type){case"table":{for(var f=n(e.tokens.header),g;!(g=f()).done;){var h=g.value;_.walkTokens(h,i)}for(var A=n(e.tokens.cells),y;!(y=A()).done;)for(var U=y.value,P=n(U),$;!($=P()).done;){var ra=$.value;_.walkTokens(ra,i)}break}case"list":{_.walkTokens(e.items,i);break}default:e.tokens&&_.walkTokens(e.tokens,i)}}},_.parseInline=function(l,i){if(typeof l==="undefined"||l===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof l!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(l)+", string expected");i=Cb({},_.defaults,i||{}),lc(i);try{var s=gb.lexInline(l,i);return i.walkTokens&&_.walkTokens(s,i.walkTokens),ib.parseInline(s,i)}catch(c){c.message+=`
Please report this to https://github.com/markedjs/marked.`;if(i.silent)return"<p>An error occurred:</p><pre>"+Ob(c.message+"",!0)+"</pre>";throw c}},_.Parser=ib,_.parser=ib.parse,_.Renderer=za,_.TextRenderer=Mb,_.Lexer=gb,_.lexer=gb.lex,_.Tokenizer=Ab,_.Slugger=hb,_.parse=_;var Zc=_;return Zc})});const Vf=Pc(cd());var ha=new Vf.default({APIUrl:"https://flintstone.app/.netlify/identity",audience:"",setCookie:!0});const gd=new WeakMap(),nc=a=>(...b)=>{const d=a(...b);return gd.set(d,!0),d},ab=a=>typeof a==="function"&&gd.has(a);const rc=typeof window!=="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,sc=(a,b,d=null,j=null)=>{for(;b!==d;){const o=b.nextSibling;a.insertBefore(b,j),b=o}},Eb=(a,b,d=null)=>{for(;b!==d;){const j=b.nextSibling;a.removeChild(b),b=j}};const Ca={},ma={};const Pa=`{{lit-${String(Math.random()).slice(2)}}}`,zc=`<!--${Pa}-->`,kd=new RegExp(`${Pa}|${zc}`),ob="$lit$";class wc{constructor(a,b){this.parts=[],this.element=b;const d=[],j=[],o=document.createTreeWalker(b.content,133,null,!1);let u=0,n=-1,z=0;const{strings:L,values:{length:Z}}=a;for(;z<Z;){const M=o.nextNode();if(M===null){o.currentNode=j.pop();continue}n++;if(M.nodeType===1){if(M.hasAttributes()){const S=M.attributes,{length:da}=S;let J=0;for(let p=0;p<da;p++)ld(S[p].name,ob)&&J++;for(;J-- >0;){const p=L[z],B=Zb.exec(p)[2],r=B.toLowerCase()+ob,v=M.getAttribute(r);M.removeAttribute(r);const O=v.split(kd);this.parts.push({type:"attribute",index:n,name:B,strings:O}),z+=O.length-1}}M.tagName==="TEMPLATE"&&(j.push(M),o.currentNode=M.content)}else if(M.nodeType===3){const S=M.data;if(S.indexOf(Pa)>=0){const da=M.parentNode,J=S.split(kd),p=J.length-1;for(let B=0;B<p;B++){let r,v=J[B];if(v==="")r=Oa();else{const O=Zb.exec(v);O!==null&&ld(O[2],ob)&&(v=v.slice(0,O.index)+O[1]+O[2].slice(0,-ob.length)+O[3]),r=document.createTextNode(v)}da.insertBefore(r,M),this.parts.push({type:"node",index:++n})}J[p]===""?(da.insertBefore(Oa(),M),d.push(M)):M.data=J[p],z+=p}}else if(M.nodeType===8)if(M.data===Pa){const S=M.parentNode;(M.previousSibling===null||n===u)&&(n++,S.insertBefore(Oa(),M)),u=n,this.parts.push({type:"node",index:n}),M.nextSibling===null?M.data="":(d.push(M),n--),z++}else{let S=-1;for(;(S=M.data.indexOf(Pa,S+1))!==-1;)this.parts.push({type:"node",index:-1}),z++}}for(const M of d)M.parentNode.removeChild(M)}}const ld=(a,b)=>{const d=a.length-b.length;return d>=0&&a.slice(d)===b},yc=a=>a.index!==-1,Oa=()=>document.createComment(""),Zb=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class Xb{constructor(a,b,d){this.__parts=[],this.template=a,this.processor=b,this.options=d}update(a){let b=0;for(const d of this.__parts)d!==void 0&&d.setValue(a[b]),b++;for(const d of this.__parts)d!==void 0&&d.commit()}_clone(){const a=rc?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),b=[],d=this.template.parts,j=document.createTreeWalker(a,133,null,!1);let o=0,u=0,n,z=j.nextNode();for(;o<d.length;){n=d[o];if(!yc(n)){this.__parts.push(void 0),o++;continue}for(;u<n.index;)u++,z.nodeName==="TEMPLATE"&&(b.push(z),j.currentNode=z.content),(z=j.nextNode())===null&&(j.currentNode=b.pop(),z=j.nextNode());if(n.type==="node"){const L=this.processor.handleTextExpression(this.options);L.insertAfterNode(z.previousSibling),this.__parts.push(L)}else this.__parts.push(...this.processor.handleAttributeExpressions(z,n.name,n.strings,this.options));o++}return rc&&(document.adoptNode(a),customElements.upgrade(a)),a}}const jd=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:a=>a}),Ge=` ${Pa} `;class mb{constructor(a,b,d,j){this.strings=a,this.values=b,this.type=d,this.processor=j}getHTML(){const a=this.strings.length-1;let b="",d=!1;for(let j=0;j<a;j++){const o=this.strings[j],u=o.lastIndexOf("<!--");d=(u>-1||d)&&o.indexOf("-->",u+1)===-1;const n=Zb.exec(o);n===null?b+=o+(d?Ge:zc):b+=o.substr(0,n.index)+n[1]+n[2]+ob+n[3]+Pa}return b+=this.strings[a],b}getTemplateElement(){const a=document.createElement("template");let b=this.getHTML();return jd!==void 0&&(b=jd.createHTML(b)),a.innerHTML=b,a}}class Ac extends mb{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const a=super.getTemplateElement(),b=a.content,d=b.firstChild;return b.removeChild(d),sc(b,d.firstChild),a}}const lb=a=>a===null||!(typeof a==="object"||typeof a==="function"),Yb=a=>Array.isArray(a)||!!(a&&a[Symbol.iterator]);class Vb{constructor(a,b,d){this.dirty=!0,this.element=a,this.name=b,this.strings=d,this.parts=[];for(let j=0;j<d.length-1;j++)this.parts[j]=this._createPart()}_createPart(){return new tc(this)}_getValue(){const a=this.strings,b=a.length-1,d=this.parts;if(b===1&&a[0]===""&&a[1]===""){const o=d[0].value;if(typeof o==="symbol")return String(o);if(typeof o==="string"||!Yb(o))return o}let j="";for(let o=0;o<b;o++){j+=a[o];const u=d[o];if(u!==void 0){const n=u.value;if(lb(n)||!Yb(n))j+=typeof n==="string"?n:String(n);else for(const z of n)j+=typeof z==="string"?z:String(z)}}return j+=a[b],j}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class tc{constructor(a){this.value=void 0,this.committer=a}setValue(a){a!==Ca&&(!lb(a)||a!==this.value)&&(this.value=a,ab(a)||(this.committer.dirty=!0))}commit(){for(;ab(this.value);){const a=this.value;this.value=Ca,a(this)}if(this.value===Ca)return;this.committer.commit()}}class Xa{constructor(a){this.value=void 0,this.__pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(Oa()),this.endNode=a.appendChild(Oa())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a.__insert(this.startNode=Oa()),a.__insert(this.endNode=Oa())}insertAfterPart(a){a.__insert(this.startNode=Oa()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this.__pendingValue=a}commit(){if(this.startNode.parentNode===null)return;for(;ab(this.__pendingValue);){const b=this.__pendingValue;this.__pendingValue=Ca,b(this)}const a=this.__pendingValue;if(a===Ca)return;lb(a)?a!==this.value&&this.__commitText(a):a instanceof mb?this.__commitTemplateResult(a):a instanceof Node?this.__commitNode(a):Yb(a)?this.__commitIterable(a):a===ma?(this.value=ma,this.clear()):this.__commitText(a)}__insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}__commitNode(a){if(this.value===a)return;this.clear(),this.__insert(a),this.value=a}__commitText(a){const b=this.startNode.nextSibling;a=a==null?"":a;const d=typeof a==="string"?a:String(a);b===this.endNode.previousSibling&&b.nodeType===3?b.data=d:this.__commitNode(document.createTextNode(d)),this.value=a}__commitTemplateResult(a){const b=this.options.templateFactory(a);if(this.value instanceof Xb&&this.value.template===b)this.value.update(a.values);else{const d=new Xb(b,a.processor,this.options),j=d._clone();d.update(a.values),this.__commitNode(j),this.value=d}}__commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());const b=this.value;let d=0,j;for(const o of a)j=b[d],j===void 0&&(j=new Xa(this.options),b.push(j),d===0?j.appendIntoPart(this):j.insertAfterPart(b[d-1])),j.setValue(o),j.commit(),d++;d<b.length&&(b.length=d,this.clear(j&&j.endNode))}clear(a=this.startNode){Eb(this.startNode.parentNode,a.nextSibling,this.endNode)}}class oc{constructor(a,b,d){this.value=void 0,this.__pendingValue=void 0;if(d.length!==2||d[0]!==""||d[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=b,this.strings=d}setValue(a){this.__pendingValue=a}commit(){for(;ab(this.__pendingValue);){const b=this.__pendingValue;this.__pendingValue=Ca,b(this)}if(this.__pendingValue===Ca)return;const a=!!this.__pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=a),this.__pendingValue=Ca}}class qc extends Vb{constructor(a,b,d){super(a,b,d);this.single=d.length===2&&d[0]===""&&d[1]===""}_createPart(){return new hd(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class hd extends tc{}let id=!1;(()=>{try{const a={get capture(){return id=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}})();class pc{constructor(a,b,d){this.value=void 0,this.__pendingValue=void 0,this.element=a,this.eventName=b,this.eventContext=d,this.__boundHandleEvent=j=>this.handleEvent(j)}setValue(a){this.__pendingValue=a}commit(){for(;ab(this.__pendingValue);){const o=this.__pendingValue;this.__pendingValue=Ca,o(this)}if(this.__pendingValue===Ca)return;const a=this.__pendingValue,b=this.value,d=a==null||b!=null&&(a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive),j=a!=null&&(b==null||d);d&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),j&&(this.__options=Fe(a),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=a,this.__pendingValue=Ca}handleEvent(a){typeof this.value==="function"?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}const Fe=a=>a&&(id?{capture:a.capture,passive:a.passive,once:a.once}:a.capture);class fd{handleAttributeExpressions(a,b,d,j){const o=b[0];if(o==="."){const n=new qc(a,b.slice(1),d);return n.parts}if(o==="@")return[new pc(a,b.slice(1),j.eventContext)];if(o==="?")return[new oc(a,b.slice(1),d)];const u=new Vb(a,b,d);return u.parts}handleTextExpression(a){return new Xa(a)}}const Wb=new fd();function uc(a){let b=xc.get(a.type);b===void 0&&(b={stringsArray:new WeakMap(),keyString:new Map()},xc.set(a.type,b));let d=b.stringsArray.get(a.strings);if(d!==void 0)return d;const j=a.strings.join(Pa);return d=b.keyString.get(j),d===void 0&&(d=new wc(a,a.getTemplateElement()),b.keyString.set(j,d)),b.stringsArray.set(a.strings,d),d}const xc=new Map();const vc=new WeakMap(),nb=(a,b,d)=>{let j=vc.get(b);j===void 0&&(Eb(b,b.firstChild),vc.set(b,j=new Xa(Object.assign({templateFactory:uc},d))),j.appendInto(b)),j.setValue(a),j.commit()};typeof window!=="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const t=(a,...b)=>new mb(a,b,"html",Wb),ga=(a,...b)=>new Ac(a,b,"svg",Wb);let R=(a,b=document)=>b.querySelector(a),Da=a=>JSON.parse(JSON.stringify(a)),fe=(a,b)=>Object.keys(a).forEach(d=>b[d]=a[d]),na=(a,b)=>R(`[data-index="${a}"]`,b),Qa=(a,b,d)=>a.style.setProperty(`--${b}`,d),bb=(a,b="",d)=>{let j=document.documentElement;if(d==void 0){j.getAttribute(a)?j.setAttribute(a,b):j.removeAttribute(a);return}d&&j.setAttribute(a,b),d||j.removeAttribute(a)},qe=(a,b,d={})=>a.forEach(j=>b[j]=b[j]||d),rd=()=>location=location.href,ie=(a,b)=>a.split(b)[0].length,oe=a=>a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),le=a=>a.which&&!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey&&a.which!=8,je=(a,b)=>a.lastIndexOf(a.match(new RegExp(b,"g")).pop()),Jd=a=>{let b=new Blob([JSON.stringify(a)],{type:"application/json"});return URL.createObjectURL(b)},ne=a=>a.replace(/</g,"%3C").replace(/{/g,"B").replace(/expression\(.+?\)/g,""),Kb=(a,b)=>b==void 0?JSON.parse(localStorage.getItem(a)):localStorage.setItem(a,JSON.stringify(b)),Gb=(a,b)=>{let d=a.target;b[d.name]=d.value},ub=a=>{let b=/\s/,{selectionEnd:d,selectionStart:j,value:o}=a,u=o.substr(0,j),n=o.substr(d),z=d-j?o.substring(j,d):u.split(b).pop()+n.split(b).shift();return{selection:z,selectionStart:j,selectionEnd:d,before:u,after:n}};var E=({title:a="",action:b=null,icon:d=null,type:j="",content:o="",className:u="",disabled:n=!1})=>t`
<button type=${j} ?disabled=${n} title=${a} ?data-has-icon=${d} class=${u} @click=${b}>
  ${d?t`${d} ${o}`:o}
</button>`;var V=a=>t`
<modal @click=${()=>Za(!1)} class=mount>
  ${a}
</modal>`;var Ya=(a="Your email or password may be invalid")=>t`
<span>
  ${a}.
  ${E({content:"Try logging in again",className:"link underline",action:()=>G(V(sb()))})}
  or
  ${E({content:"continue using anonymously.",className:"link underline",action:()=>G()})}
</span>`;var rb=({fields:a,formData:b})=>a.map(d=>t`
<label class="smol light">
  ${d}
  <input required=true @input=${j=>Gb(j,b)}
  type=${/email|password/.test(d)?d:"text"}
  name=${d} />
</label>`);var qd=()=>{let a=["email"],b={};return t`
  <form class=mount>
    ${rb({fields:a,formData:b})}
    ${E({className:"primary",content:"Send Recovery Email",action:()=>{D("loading",!0),ha.requestPasswordRecovery(b.email).then(()=>{D("loading",!1),G(V("Recovery email sent. Check your inbox."))}).catch(d=>{ua(d),G(V(Ya(d.message)))})}})}
    ${E({className:"link",content:"Back to sign in",action:()=>G(V(sb()))})}
  </form>`};var pb=()=>t`
<div style="display: grid; place-items: center; gap: 2em;">

  <div>
    <h1 class=mount>Welcome to <span style="color: var(--primary)">Flintstone</span>!</h1>
    <p>The tool for creating formal-ish documents on the go.</p>
  </div>

  <form class="mount">
  ${E({content:"Start from scratch",className:"primary",action:()=>Jb.then(a=>{k.savedLocally=!0,k.currentUser.styles=a.currentUser.styles,qb(),G(),ka(!0),console.log(k.currentUser.styles)})})}
  ${E({content:"Use the starter template",className:"link",action:()=>Jb.then(a=>{fe(a,k),k.savedLocally=!0,qb(),G(),ka(!0)}).catch(a=>{ua(a),G(V(Ya(a.message)))})})}
  </form>
  
</div>`;function sb(){let a={};return t`
  <form class=mount>
    <label class="smol light">
      Email
      <input required @input=${b=>Gb(b,a)} type=email name=email />
    </label>
    <label class="smol light">
      Password
      <input required @input=${b=>Gb(b,a)} type=password name=password />
      ${E({className:"link",content:"Forgot Password",action:()=>G(V(qd()))})}
    </label>

    ${E({className:"primary",content:"Sign In",action:()=>{D("loading",!0),ha.login(a.email,a.password,!0).then(()=>{ka(!0),rd()}).catch(b=>{ua(b),G(V(Ya(b.message)))})}})}
    ${E({className:"link",content:"Continue using anonymously",action:()=>k.savedLocally?G():G(V(pb()))})}
  </form>`}var sd=()=>{let a=ha.currentUser();return t`
  <form class=mount>
    ${E({className:"primary",content:"Sign Out",action:()=>{D("loading",!0),ha.currentUser().logout().then(()=>location=location.href)}})}
    ${E({className:"link",content:t`Continue as <strong>${a.user_metadata.full_name||a.email}</strong>`,action:()=>G()})}
  </form>`};var td=()=>{let a=["name","email","password"],b={};return t`
  <form class=mount>
    ${rb({fields:a,formData:b})}
    ${E({className:"primary",content:"Create Account",action:()=>{D("loading",!0),ha.signup(b.email,b.password,{full_name:b.name}).then(()=>{D("loading",!1),G(V("Confirmation email sent. Check your inbox."))}).catch(d=>{ua(d),G(V(Ya(d.message)))})}})}
    ${E({className:"link",content:"Continue using anonymously",action:()=>k.savedLocally?G():G(V(pb()))})}
  </form>`};var la=({content:a,className:b="line",color:d=""})=>ga`
<svg class=${b} style=${d?`--color:var(--${d})`:""} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 216 216">
  ${a}
</svg>`;var cc=()=>{k.loading=!0,k.showPreview=!0,G(),setTimeout(()=>{print(),D("loading",!1)},500)};let Kc="flintstone_data",Lc="flintstone_preferences",ge={expandedAdjustments:[],shortcutReady:!1,exportSelection:{},forImport:{},importSelection:{},intellisense:{logger:"",suggestions:[]},currentUser:{documents:[{id:"New Document",body:""}],datasets:[{id:"New Data",fields:[["",""]]}],styles:{}}},he={dark:!1,open_pane:void 0,show_header_nav:!1},Ka=["documents","datasets"];var Id=(a,b,d)=>{let j=`${a.id}_${b}`,o=u=>{u.target.checked?k.exportSelection[d].push(Da(a)):k.exportSelection[d]=k.exportSelection[d].filter(n=>n.id!=a.id),G(V(tb()))};return t`
  <label class="flex" style="margin-bottom: .5rem">
    <input name=${j} type=checkbox @input=${o} />
    <h3>${a.id}</h3>
  </label>`};var Ec=a=>{var j;let b,d=new FileReader();k.forImport={},((j=a.dataTransfer)==null?void 0:j.items)?(a.preventDefault(),b=a.dataTransfer.items[0].getAsFile()):a.dataTransfer?(a.preventDefault(),b=a.dataTransfer.files[0]):b=a.target.files[0],d.onerror=ua,d.onload=function(){let o=JSON.parse(this.result);Ka.map(u=>k.forImport[u]=o[u]||[]),k.importSelection=Da(k.forImport),k.loading=!1,G(V(Ra()))},D("loading",!0),d.readAsText(b)};var Ra=()=>Object.keys(k.forImport).length?t`
  <form class=mount>
    ${Ka.map(a=>$b(k.forImport,a,"import"))}
    ${E({className:"primary",content:"Import Selected",disabled:!Ka.some(a=>{var b;return(b=k.importSelection[a])==null?void 0:b.length}),action:()=>{for(let a of Ka)k.currentUser[a]=k.currentUser[a].concat(k.importSelection[a]);D("forImport",{})}})}
    ${E({className:"link",content:"Back to editing",action:()=>G()})}
  </form>`:t`
  <input class=mount type=file accept=".json" @input=${Ec} @dragleave=${a=>{a.preventDefault(),G()}} @drop=${Ec} />
  <div class=mount>
    <h3 style="pointer-events: none;">Click or drop a file to import it.</h3>
    <br />
    ${E({className:"link",content:"Back to editing",action:()=>G()})}
  </div>`;var Kd=(a,b,d)=>{let j=`${a.id}_${b}`,o=u=>{u.target.checked?k.importSelection[d].push(Da(a)):k.importSelection[d]=k.importSelection[d].filter(n=>n.id!=a.id),G(V(Ra()))};return t`
  <label class=flex style="margin-bottom: .5rem">
    <input checked name=${j} type=checkbox @input=${o} />
    <h3>${a.id}</h3>
  </label>`};var $b=(a,b,d)=>{var j;return t`
<div style="width: 100%">
  ${a[b]&&((j=Object.keys(a[b]))==null?void 0:j.length)?t`
      <label class="smol light" style="margin-bottom: .5rem;">${b}</label>
      ${a[b].map((o,u)=>{if(d=="import")return Kd(o,u,b);if(d=="export")return Id(o,u,b)})}`:ma}
</div>`};var tb=()=>t`
<form class=mount>
  ${Ka.map(a=>$b(k.currentUser,a,"export"))}
  <a class="button primary" 
  ?disabled=${!Ka.some(a=>{var b;return(b=k.exportSelection[a])==null?void 0:b.length})} 
  href=${Jd(k.exportSelection)} 
  download="Flintstone Export (${new Date().toLocaleDateString()})">
    Export Selected
  </a>
  ${E({className:"link",content:"Back to editing",action:()=>G()})}
</form>`;var ca={add:la({content:ga`<line x1="36" y1="108" x2="180" y2="108" /><line x1="108" y1="180" x2="108" y2="36" />`}),delete:la({content:ga`<line x1="48" y1="48" x2="168" y2="168"/><line x1="48" y1="168" x2="168" y2="48"/>`,color:"error"}),duplicate:la({content:ga`<rect x="90.4" y="90.71" width="105.31" height="105.31" rx="21.57"/><path d="M157.59,65.77V41.29A21.58,21.58,0,0,0,136,19.71H41A21.58,21.58,0,0,0,19.4,41.29v95A21.58,21.58,0,0,0,41,157.9H65.46"/>`}),up:la({content:ga`<polyline points="184.69 146.81 108 70.12 31.31 146.81" />`}),down:la({content:ga`<polyline points="184.69 70.12 108 146.81 31.31 70.12" />`}),right:la({content:ga`<path d="M73.67,26.62,155.05,108,73.67,189.38" />`}),reset:la({content:ga`<polyline points="37 11.6 37 71.34 96.75 71.34"/><path d="M47.33,172.61a81.82,81.82,0,1,0,0-115.72l-5.77,5.77"/>`}),check:la({content:ga`<polyline points="182.48 34.41 89.53 182.33 36.66 138.35" />`,color:"green"}),export:la({content:ga`<line x1="119.65" y1="65.2" x2="162.5" y2="65.2"/><circle cx="184.18" cy="65.2" r="21.05"/><line x1="103.79" y1="103.51" x2="134.08" y2="133.81"/><circle cx="149.42" cy="149.14" r="21.05"/><line x1="65.48" y1="119.38" x2="65.48" y2="162.22"/><circle cx="65.48" cy="183.91" r="21.05"/><circle cx="65.48" cy="65.2" r="53.54"/>`,color:"purple"}),import:la({content:ga`<line x1="89.77" y1="126.49" x2="69.49" y2="146.77"/><circle cx="32.16" cy="183.47" r="21.04"/><circle cx="32.16" cy="92.12" r="21.04"/><circle cx="123.51" cy="183.47" r="21.04"/><circle cx="151.05" cy="64.58" r="53.5"/>`,color:"green"}),theme:la({content:ga`<circle cx="108" cy="108" r="80"/><line x1="108" y1="28" x2="108" y2="188"/><path d="M173,147.3H111M186,108H111m62-39.3H111"/>`}),adjust:la({content:ga`<path d="M108,108l59.4-59.4M126.81,26.13a84,84,0,1,0,63.05,63.06" />`,color:"yellow"}),print:la({content:ga`<path d="M158.2,173,108,195.41,57.8,173"/><rect x="31" y="97.95" width="154" height="48.28"/><polyline points="57.8 70.34 57.8 29.34 158.21 29.34 158.21 70.34"/>`,color:"primary-80"}),preview:la({content:ga`<path d="M37.41,135.13H93.55m29.17,0h56.15M37.28,179.07H179M37.28,36.93H179V91.19H37.28Z"/>`,color:"purple"}),edit:la({content:ga`<path d="M131.68,55,161,25.6,190.4,55,161,84.32ZM25.6,190.4l35.89-6.54L161,84.32,131.68,55,32.14,154.51Zm89.1,3.66h54.1a21.61,21.61,0,0,0,21.6-21.61V115m-89.09-93H47.2A21.61,21.61,0,0,0,25.6,43.55V101"/>`,color:"green"}),keyboard:la({content:ga`<path d="M51.81,94.22H67.05m35.06,0h62.36m-112.66,40H96.52m37.06,0h30.89M15.8,55.63H200.48V172.81H15.8Z"/>`}),documents:la({content:ga`<path d="M185,65.16V203.22H33V13.78H133.65ZM133.65,13.78V65.16H185ZM68.3,64.35h32.32M68.3,154.49h81.79M68.3,109.42h81.79"/>`,color:"purple"}),data:la({content:ga`<rect x="143.48" y="18.99" width="52.53" height="52.53" rx="13.53"/><rect x="126.11" y="131.48" width="52.53" height="52.53" rx="13.53"/><rect x="34.99" y="131.48" width="52.53" height="52.53" rx="13.53"/><rect x="34.99" y="40.36" width="52.53" height="52.53" rx="13.53"/>`,color:"primary-80"})};class oa{constructor(a,b=()=>null){this.elements=Array.isArray(a)?a:[a],this.callback=b,this.duration=300,this.tick=10}added(){let{elements:a,tick:b}=this,d=a[0];d.style.transition="none",d.style.opacity=0,Qa(d,"translateY",1),Qa(d,"scaleY",0),setTimeout(()=>{d.style.transition="",d.style.opacity=1,Qa(d,"translateY",0),Qa(d,"scaleY",1)},b)}removed(){let{elements:a,duration:b,callback:d}=this,j=a[0];j.style.opacity=0,Qa(j,"scaleY",0),setTimeout(()=>{d(),j.style.transition="none",j.style.opacity=1,Qa(j,"scaleY",1),setTimeout(()=>j.style.transition="",b)},b)}swapped(a){let{elements:b,callback:d,tick:j}=this,[o,u]=b;Qa(o,"translateY",a),Qa(u,"translateY",a*-1),this.elements.map(n=>n.style.transition="none"),setTimeout(()=>{this.elements.map(n=>{n.style.transition="",Qa(n,"translateY",0)}),d()},j)}}var bc=a=>{D("currentDocument",k.currentUser.documents[a])};var ac=()=>{var o;let a={id:"New Document",body:""},b=k.currentUser.documents.length;k.currentUser.documents.push(a),bc(b);let d=na(b,R(".documents .sets")),j=new oa(d);j.added(),(o=R(".documents [data-active] input"))==null||o.focus(),ka()};var ke=(a,b)=>{let d=R(".editor");if(document.activeElement!=d)return;let{selection:j,selectionStart:o,selectionEnd:u,before:n,after:z}=ub(d),L=a.length,Z=L*-1,M=b.length,S=b.length*-1,da=/\s/,J=!1;if(u-o>0){let B=n.slice(Z)==a,r=z.slice(0,M)==b;J=B&&r,J?k.currentDocument.body=n.slice(0,Z)+j+z.slice(M):k.currentDocument.body=n+a+j+b+z}if(u-o==0){let B=n.substr(0,je(n,da)+1),r=z.substr(ie(z,da)),v=j.slice(0,L)==a,O=j.slice(S)==b;J=v&&O,j=J?j.slice(L,S):a+j+b,k.currentDocument.body=B+j+r}d.value=k.currentDocument.body,ka();let p=J?-1:1;d.selectionStart=o+L*p,d.selectionEnd=u+M*p};var Hb=(a,b)=>{document.activeElement.blur();let d=b>0?"down":"up",j=k.currentDataset.fields[a],o=a+b,u=R(".fields"),n=na(a,u),z=na(o,u);k.currentDataset.fields.splice(a,1),k.currentDataset.fields.splice(o,0,j),D("currentDataset",k.currentDataset,!0);let L=new oa([n,z],()=>R(`[title*="${d}"]`,z).focus());L.swapped(b)};let ec=(a,b)=>{if(document.activeElement!=R(".editor"))return;a.preventDefault(),ke(b,b)},pe=(a,b)=>{let d=document.activeElement.closest(".field");if(d){a.preventDefault();let j=parseInt(d.getAttribute("data-index"));Hb(j,b)}};var Fb={b:{action:a=>ec(a,"**"),description:"format selection as bold",prefix:"ctrl"},i:{action:a=>ec(a,"_"),description:"format selection as italics",prefix:"ctrl"},"`":{action:a=>ec(a,"`"),description:"format selection as source code",prefix:"ctrl"},Delete:{action:a=>ec(a,"~"),description:"format selection as strikethrough",prefix:"ctrl"},Z:{action:()=>{ya("zen",!ia.zen),G()},description:"toggle zen mode",prefix:"ctrl+shift"},E:{action:a=>{a.preventDefault(),G(V(tb()))},description:"start an export",prefix:"ctrl+shift"},M:{action:a=>{a.preventDefault(),G(V(Ra()))},description:"start an import",prefix:"ctrl+shift"},N:{action:a=>{a.preventDefault(),ac()},description:"add a new document",prefix:"ctrl+shift"},s:{action:a=>{a.preventDefault(),ka()},description:"trigger a save",prefix:"ctrl+shift"},p:{action:a=>{a.preventDefault(),cc()},description:"print your document",prefix:"ctrl"},ArrowUp:{action:a=>pe(a,-1),description:"move the current field up",prefix:"ctrl"},ArrowDown:{action:a=>pe(a,1),description:"move the current field down",prefix:"ctrl"}};var Ld=()=>t`
<div class=form>
  <table>
    <thead>
      <td>Shortcut</td>
      <td>Description</td>
    </thead>
    ${Object.entries(Fb).map(([a,{prefix:b,description:d}])=>t`
    <tr>
      <td>
        <span class=light>${b}</span> <strong>${a.toLowerCase()}</strong>
      </td>
      <td>${d}</td>
    </tr>
    `)}
  </table>
  <br />
  ${E({className:"link",content:"Close Keyboard Shortcuts",action:()=>G()})}
</div>`;var vb=(a,b)=>{b==void 0?a==ia.open_pane?ya("open_pane",void 0):ya("open_pane",a):b?ya("open_pane",a):ya("open_pane",void 0),G()};var Vd=()=>t`
<nav class=header-nav>
  <desktop-only>
  ${E({content:`${ia.open_pane=="styles"?"Close":"Open"} style editor`,icon:ca.adjust,action:()=>{Za(!1),vb("styles")}})}
  </desktop-only>
${E({content:"Print current document",icon:ca.print,action:cc})}
${E({content:"Start an import",icon:ca.import,action:()=>G(V(Ra()))})}
${E({content:"Start an export",icon:ca.export,action:()=>{k.exportSelection={},Ka.map(a=>k.exportSelection[a]=[]),G(V(tb()))}})}
${E({icon:ca.theme,content:t`Switch to <light>dark</light><dark>light</dark> theme`,action:()=>ya("dark",!ia.dark)})}
${E({icon:ca.keyboard,content:t`Keyboard shortcuts`,action:()=>G(V(Ld()))})}
</nav>`;var Wd=()=>t`
<div id=logo>
  <light>
    <desktop-only>
      <img alt="Flintstone logo" src="logo.svg" />
    </desktop-only>
    <mobile-only>
      <img alt="Flintstone logo" src="logo-icon.svg" />
    </mobile-only>
  </light>
  <dark>
    <desktop-only>
      <img alt="Flintstone logo" src="logo-light.svg" />
    </desktop-only>
    <mobile-only>
      <img alt="Flintstone logo" src="logo-icon-light.svg" />
    </mobile-only>
  </dark>
</div>`;var Ib=()=>{let a=ha.currentUser();return t`
  ${Wd()}
  ${a?ma:E({className:"primary",content:"Sign up",action:()=>G(V(td()))})}
  ${E({className:"link",content:a?t`Signed in as <strong>${a.user_metadata.full_name||a.email}</strong>`:"Sign in",action:a?()=>G(V(sd())):()=>G(V(sb()))})}
  ${k.savedLocally?t`<separator></separator>`:ma}
  ${k.savedLocally?E({title:`${ia.show_header_nav?"Close":"Open"} menu`,content:la({content:ga`
            <line y1="30" x2="100%" y2="30"/>
            <line y1="50%" x2="100%" y2="50%"/>
            <line y1="186" x2="100%" y2="186"/>`}),className:"icon menu-toggle",action:()=>Za()}):ma}
  ${Vd()}`};var Za=a=>{a==void 0?(ya("show_header_nav",!ia.show_header_nav),nb(Ib(),R("header"))):(ya("show_header_nav",a),nb(Ib(),R("header")))};var _b=a=>{D("currentDataset",k.currentUser.datasets[a])};var yd=()=>{var o;let a={id:"New Data",fields:[["",""]]},b=k.currentUser.datasets.length;k.currentUser.datasets.push(a),_b(b);let d=na(b,R(".data .sets")),j=new oa(d);j.added(),(o=R(".data [data-active] input"))==null||o.focus(),ka()};var zd=()=>{k.currentDataset.fields.push(["",""]),D("currentDataset",k.currentDataset,!0);let a=na(k.currentDataset.fields.length-1,R(".fields"));new oa(a).added()};var Ad=a=>{let b=k.currentUser.datasets[a],d=Da(b);d.id=b.id+" copy",k.currentUser.datasets.push(d),D("currentUser",k.currentUser),D("currentDataset",d,!0);let j=na(a+1,R(".data .sets")),o=new oa(j);o.added()};var Bd=a=>{let b=k.currentUser.datasets,d=b[a];if(!confirm(`Are you sure you want to delete ${d.id}?`))return;let j=na(a,R(".data .sets")),o=new oa(j,()=>{b.splice(a,1),k.currentUser.datasets=b,D("currentDataset",k.currentUser.datasets[0],!0)});o.removed()};var Cd=a=>{k.currentDataset.id=a,D("currentDataset",k.currentDataset,!0)};var Fd=a=>{let b=na(a,R(".fields")),d=new oa(b,()=>{k.currentDataset.fields.splice(a,1),D("currentDataset",k.currentDataset,!0)});d.removed()};var Gd=(a,b)=>{let[d,j]=k.currentDataset.fields[a];k.currentDataset.fields[a]=[b,j],D("currentDataset",k.currentDataset,!0)};var Hd=(a,b)=>{let[d,j]=k.currentDataset.fields[a];k.currentDataset.fields[a]=[d,b],D("currentDataset",k.currentDataset,!0)};var Dd=([a,b],d,j)=>{let o=`${j}_${d}_key`,u=`${j}_${d}_value`;return t`
  <li class=field data-index=${d}>
    <key>
      <input 
      title="Rename this field"
      type=text
      .value=${a} 
      id=${o}
      @input=${n=>Gd(d,n.target.value)} />
    </key>
    <value>
      <input 
      title="Change the value this field"
      type=text
      .value=${b} 
      id=${u}
      @input=${n=>Hd(d,n.target.value)} />
    </value>
    <actions>
      <div class=join-buttons>
        ${E({title:"Move field up",className:"icon",disabled:d==0,icon:ca.up,action:()=>Hb(d,-1)})}
        ${E({title:"Move field down",className:"icon",disabled:d==k.currentDataset.fields.length-1,icon:ca.down,action:()=>Hb(d,1)})}
      </div>
      ${E({title:"Delete field",className:"icon",icon:ca.delete,action:()=>Fd(d)})}
    </actions>
  </li>`};var Ed=()=>{let a=k.currentDataset;return t`
  <div class="pane data">
    <label class="smol light" for="currentDatasetTitle">Current data</label>
    ${a?t`
      <div class="selection mount">

        <div class="selection__header">
          <h2>
            <input 
            id=currentDatasetTitle
            title="Rename the current data set"
            type=text 
            .value=${a.id} 
            @input=${b=>Cd(b.target.value)} />
          </h2>
        </div>

        <ul class="fields">
        ${a.fields.length?t`
            <li>
              <label class="smol light">Name</label>
              <label class="smol light">Value</label>
              <span></span>
            </li>`:ma}
        ${a.fields.map((b,d)=>Dd(b,d,a.id))}
        ${E({action:zd,className:"link",icon:ca.add,content:"Add Field"})}
        </ul>

      </div>`:ma}

    <label class="smol light">All data</label>
    <ul class="sets mount">
      ${k.currentUser.datasets.map((b,d)=>t`
      <li data-index=${d}>
        ${E({title:`Select ${b.id}`,className:"link",action:()=>_b(d),content:t`<h4>${b.id}</h4>`})}
        ${E({title:`Duplicate ${b.id}`,className:"icon",action:()=>Ad(d),icon:ca.duplicate})}
        ${k.currentUser.datasets.length>1?E({title:`Delete ${b.id}`,className:"icon",action:()=>Bd(d),icon:ca.delete}):ma}
      </li>`)}
      <button @click=${yd}>Add Data</button>
    </ul>
  </div>`};var Nd=a=>{let b=k.currentUser.documents,d=b[a];if(!confirm(`Are you sure you want to delete ${d.id}?`))return;let j=na(a,R(".documents .sets")),o=new oa(j,()=>{b.splice(a,1),k.currentUser.documents=b,D("currentDocument",k.currentUser.documents[0],!0)});o.removed()};var Od=a=>{k.currentDocument.id=a,D("currentDocument",k.currentDocument,!0)};var Pd=a=>{let b=k.currentUser.documents[a],d=Da(b);d.id=b.id+" copy",k.currentUser.documents.push(d),D("currentUser",k.currentUser),D("currentDocument",d,!0);let j=na(k.currentUser.documents.length-1,R(".documents .sets")),o=new oa(j);o.added()};let Fc=a=>`page_${a+1}`,Le=/\n\s*\-{3,}\s*\n/;var Md=()=>{let a=k.currentDocument.body,b=o=>{var u;D("showPreview",!0),(u=R("#"+Fc(o)))==null||u.scrollIntoView()},d=o=>{let u=o.match(/.+?(\n|$)/)[0],n=u.trim();return n.replace(/^[^A-z0-9]*|[^A-z0-9\{\}]*$/g,"")},j=a.split(Le);return j.length||(j=[a]),t`
  <div class=toc-wrapper>
    <h3>Pages</h3>
    <ol class=toc>
      ${j.map((o,u)=>t`
        <li>
          <button class=link @click=${()=>b(u)}>
            ${u+1}. ${d(o)}
          </button>
        </li>`)}
    </ol>
  </div>`};var Qd=()=>{let a=k.currentDocument;return t`
  <div class="pane documents">
    <label class="smol light" for="currentDocumentTitle">Current document</label>
    ${a?t`
      <div class="selection mount">

        <div class="selection__header">
          <h2>
            <input 
            type=text 
            id=currentDocumentTitle
            .value=${a.id} 
            @input=${b=>Od(b.target.value)} />
          </h2>
        </div>
        
        ${a.body.length?Md():ma}
      </div>
      `:ma}

    <label class="smol light">All documents</label>
    <ul class="sets mount">
      ${k.currentUser.documents.map((b,d)=>t`
      <li data-index=${d}>
        ${E({title:`Select ${b.id}`,className:"link",action:()=>bc(d),content:t`<h4>${b.id}</h4>`})}
        ${E({title:`Duplicate ${b.id}`,className:"icon",action:()=>Pd(d),icon:ca.duplicate})}
        ${k.currentUser.documents.length>1?E({title:`Delete ${b.id}`,className:"icon",action:()=>Nd(d),icon:ca.delete}):ma}
      </li>`)}
      <button @click=${ac}>Add Document</button>
    </ul>
  </div>`};const ed=new WeakMap(),Ub=nc(a=>b=>{if(!(b instanceof Xa))throw new Error("unsafeHTML can only be used in text bindings");const d=ed.get(b);if(d!==void 0&&lb(a)&&a===d.value&&b.value===d.fragment)return;const j=document.createElement("template");j.innerHTML=a;const o=document.importNode(j.content,!0);b.setValue(o),ed.set(b,{value:a,fragment:o})});const li=Pc(ad()),mi=Pc(md());function Ke(a){for(let[b,d]of k.currentDataset.fields)if(b==a)return d}function Gc(a){return Ke(a.slice(1,-1).trim(),k.currentDataset.fields)}let Hc=/\{.+?\}/g;var vd=()=>{if(!k.currentDocument.body.length)return t`
    <div class=preview__page>
      <p>
        Write something in <a class=link @click=${()=>D("showPreview",!1)}>the editor</a> to see it
        show
        up here.
      </p>
    </div>`;let a=k.currentDocument.body.replace(Hc,Gc),b=li.sanitize(mi.default(a));return b.split("<hr>").map((d,j)=>t`
      <div id=${Fc(j)} class=preview__page>
        ${Ub(d)}
      </div>`)};let Ne=([a,b])=>{if(/content|font-family/i.test(a))if(b.length)b='"'+b.replace(/"/g,'\\"')+'"';else return;return b=b.replace(Hc,Gc),[a,ne(b)].join(":")};var ud=()=>`\r
<style>\r
${Object.entries(k.currentUser.styles).map(([a,b])=>`.preview ${a} {\r
        ${Object.entries(b).map(Ne).join(";")}\r
      }`).join("")}\r
</style>`;var me=()=>{let a=k.intellisense,b=R(".intellisense"),d=R(".intellisense-mapper"),j=R(".first-lines",d),o=R(".last-line",d),u=R(".editor"),{before:n}=ub(u),z=n.split(/\n/),L=z.splice(-1,1),Z=n.split("{").pop().trim(),M=new RegExp(oe(Z),"i");j.innerText=z.join(`
`)+`
`,o.innerText=L;let{offsetHeight:S,offsetWidth:da,offsetLeft:J,offsetTop:p}=o,{scrollWidth:B}=b,r=p+S,v=J+da;v+B>innerWidth&&(v=v-B),b.style.transform=`translate3d(${v}px, ${r-u.scrollTop}px, 0)`,a.suggestions=k.currentDataset.fields.filter(O=>M.test(O[0])),D("intellisense",a)};let Sd=a=>{k.currentDocument.body=a.target.value,me(),ka()},Rd=a=>{k.shortcutReady=!1,k.intellisense.logger="",ia.zen&&(ya("zen",!1),G())},Td=a=>{let b=k.intellisense,d=a.key;le(a)&&(b.logger+=d);switch(d){case"Backspace":b.logger=b.logger.slice(0,-1);break;case"{":b.logger+=d;break;case"}":b.logger="";break}};var Ud=()=>{var a;return t`
<div class='intellisense-mapper'>
  <span class='first-lines'></span>
  <span class='last-line'></span>
</div>

<ul class=intellisense ?data-active=${((a=k.intellisense.suggestions)==null?void 0:a.length)&&k.currentDocument.body.includes("{")&&document.activeElement==R(".editor")}>
  ${k.intellisense.suggestions.map(([b,d])=>t`
  <li>${E({content:t`<strong>${b}</strong> <span class="light">(${d})</span>`,action:()=>{let j=R(".editor"),{before:o,after:u}=ub(j),n=o.replace(/\{(.(?!\{))*?$/,"")+"{ "+b+" }";j.value=n+u,k.currentDocument.body=j.value,k.intellisense={logger:"",suggestions:[]},D("intellisense",k.intellisense,!0),j.focus(),j.setSelectionRange(n.length,n.length)}})}</li>`)}
</ul>`};var wd=()=>t`
<textarea class=editor placeholder="Start typing when you're ready..." @keyup=${Td}
  @focusout=${Rd} @input=${Sd}>${k.currentDocument.body}</textarea>
${Ud()}
`;var xd=()=>t`
<toolbar>
  ${E({title:"Show Editor",className:"icon"+(k.showPreview?"":" active"),action:()=>D("showPreview",!1),icon:ca.edit})}
  ${E({title:"Show Preview",className:"icon"+(k.showPreview?" active":""),action:()=>D("showPreview",!0),icon:ca.preview})}
  <a 
  title="Format your text like a pro with the Markdown cheatsheet."
  class="button icon" 
  rel="noopener"
  target=_blank 
  href="https://www.markdownguide.org/cheat-sheet/">
    ❓
  </a>
</toolbar>

${k.showPreview?t`
    <div class=preview>
      <div class=preview__wrapper>
        ${vd()}
      </div>
    </div>
    ${Ub(ud())}`:wd()}`;let xb=["font-family","font-size","font-weight","line-height","letter-spacing","text-transform","text-align","color"],fc=["font-weight","text-transform","color"],se=["content","color","font-size","font-weight","text-transform","letter-spacing","text-align"],te=["padding-left","padding-right","color","list-style"],ue=["font-size","font-weight","text-transform","text-align","color"],wb={".preview__wrapper":{normieName:"global",useAdjustments:["font-family","font-size","line-height","--vertical-space"]},".preview__page":{normieName:"pages",useAdjustments:["padding-top","padding-bottom","padding-left","padding-right"]},".preview__wrapper::before":{normieName:"header",useAdjustments:se},".preview__wrapper::after":{normieName:"footer",useAdjustments:se},h1:{normieName:"level 1 headings",useAdjustments:xb},h2:{normieName:"level 2 headings",useAdjustments:xb},h3:{normieName:"level 3 headings",useAdjustments:xb},h4:{normieName:"level 4 headings",useAdjustments:xb},h5:{normieName:"level 5 headings",useAdjustments:xb},h6:{normieName:"level 6 headings",useAdjustments:xb},a:{normieName:"links",useAdjustments:fc},strong:{normieName:"bold text",useAdjustments:fc},em:{normieName:"italic Text",useAdjustments:fc},del:{normieName:"strikethroughs",useAdjustments:fc},ul:{normieName:"unordered lists",useAdjustments:te},ol:{normieName:"ordered lists",useAdjustments:te},blockquote:{normieName:"block quotes",useAdjustments:["color","padding-left","padding-right","border-width","border-color"]},img:{normieName:"images",useAdjustments:["width"]},th:{normieName:"table headings",useAdjustments:ue},td:{normieName:"table cells",useAdjustments:ue}};class Mc{constructor(a){this.type=a}}class gc extends Mc{constructor({placeholder:a}){super("text");this.placeholder=a||""}}class La extends Mc{constructor({min:a,max:b,step:d,unit:j}){super("range");this.min=a||0,this.max=b||100,this.step=d||1,this.unit=j||""}}class Nc extends Mc{constructor({options:a,defaultValue:b}){super("select");this.options=a||[],this.defaultValue=b||""}}let _d={content:new gc({placeholder:"{ date }"}),"font-family":new gc({placeholder:"Helvetica"}),"font-size":new La({min:8,max:72,step:1,unit:"px"}),"font-weight":new La({min:300,max:900,step:50}),"letter-spacing":new La({min:-5,max:5,step:.2,unit:"px"}),"line-height":new La({min:.5,max:3,step:.1}),"--vertical-space":new La({min:0,max:56,step:1,unit:"px"}),"text-transform":new Nc({defaultValue:"none",options:["capitalize","uppercase","lowercase","none"]}),"text-align":new Nc({defaultValue:"left",options:["left","center","right"]}),width:new La({min:0,max:100,step:1,unit:"%"}),"list-style":new Nc({defaultValue:"disc",options:["disc","circle","square","decimal","lower-alpha","upper-alpha","lower-roman","upper-roman","none"]}),color:new gc({placeholder:"Tomato"}),"border-color":new gc({placeholder:"DodgerBlue"}),"border-width":new La({min:0,max:10,step:.5,unit:"px"}),"padding-top":new La({min:0,max:56,step:1,unit:"px"}),"padding-bottom":new La({min:0,max:56,step:1,unit:"px"}),"padding-left":new La({min:0,max:56,step:1,unit:"px"}),"padding-right":new La({min:0,max:56,step:1,unit:"px"})};var dc=(a,b,d)=>{k.currentUser.styles[a][b]=d,D("currentUser",k.currentUser,!0)};let Jc=a=>a.replace(/-+/g," ").trim(),Me=a=>parseFloat(a.replace(/turn|deg|pt|px|rem|em|ch|in|vw|vh|%/g,"").trim()),$d=([a,{normieName:b}],[d,{min:j,max:o,step:u,unit:n}])=>{let z=k.currentUser.styles[a][d]||"",L=Me(z),Z=Jc(d);return t`
  <label class="smol light">
    <span class=label>
      <span class=label__name>${Z}</span>
      <span class=label__value>${z||""}</span>
    </span>
    <input 
    title='Change ${b} ${Z}'
    min=${j}
    max=${o}
    step=${u}
    .value=${L}
    type=range
    @input=${M=>dc(a,d,M.target.value+n)} />
  </label>`},be=([a,{normieName:b}],[d,{placeholder:j}])=>{let o=k.currentUser.styles[a][d],u=Jc(d);return t`
  <label class="smol light">
    <span class=label>
      <span class=label__name>${u}</span>
    </span>
    <input
    title='Change ${b} ${u}'
    placeholder=${j}
    .value=${o||""}
    type=text
    @input=${n=>dc(a,d,n.target.value)} />
  </label>`},ae=([a,{normieName:b}],[d,{options:j,defaultValue:o}])=>{let u=k.currentUser.styles[a][d]||o,n=Jc(d);return t`
  <label class="smol light">
    <span class=label>
      <span class=label__name>${n}</span>
    </span>
    <select
    title='Change ${b} ${n}'
    .value=${u||""}
    @input=${z=>dc(a,d,z.target.value)}>
      ${j.map(z=>t`<option ?selected=${z==u}>${z}</option>`)}
    </select>
  </label>`};var Ic=a=>{let b=document.createElement("style");b.id="temp",b.innerHTML=`\r
  .preview ${a} {\r
    box-shadow: 0 0 0 var(--borderWidth) var(--primary-80);\r
    border-radius: var(--radius);\r
    transition: box-shadow var(--transition);\r
  }`,document.body.appendChild(b)};var ce=a=>{Jb.then(b=>{let d=k.currentUser.styles;d[a]=Da(b.currentUser.styles[a]),k.expandedAdjustments.push(wb[a].normieName),D("currentUser",k.currentUser,!0)})};var de=a=>{let b=k.expandedAdjustments,d=b.includes(a);d?b.splice(b.indexOf(a),1):b.push(a),D("expandedAdjustments",b)};var ee=([a,{normieName:b,useAdjustments:d}])=>{let j=k.expandedAdjustments.includes(b);return t`
  <div 
  class=adjustment 
  ?data-expanded=${j}
  @mouseenter=${()=>Ic(a)} 
  @touchstart=${()=>Ic(a)}
  @mouseleave=${()=>{var o;return(o=R("#temp"))==null?void 0:o.remove()}}
  @touchend=${()=>{var o;return(o=R("#temp"))==null?void 0:o.remove()}}>

    <button class=adjustment__header @click=${()=>de(b)}>
      <h3 class=adjustment__header--title>${b}</h3>
      <div class=adjustment__header--actions>
      ${E({title:`Reset ${b.replace(/s$/,"")} styles`,className:"icon",disabled:!j,icon:ca.reset,action:()=>ce(a)})}
      </div>
    </button>
    
    ${j?Object.entries(_d).filter(([o])=>d.includes(o)).map(([o,u])=>{let n=[a,{normieName:b,useAdjustments:d}],z=[o,u];switch(u.type){case"range":return $d(n,z);case"text":return be(n,z);case"select":return ae(n,z)}}):ma}
  </div>`};var Xd=()=>t`
<div class="styles">
  <div class=styles__header>
  ${k.showPreview?t`<p class=light>Change the look and feel of your document here.</p>`:t`
      <p class=light>
        <button class="link primary" @click=${()=>D("showPreview",!0)}>Show the document preview</button> to see your
        changes.
      </p>`}
  </div>
  <div class=adjustments>${Object.entries(wb).map(ee)}</div>
</div>`;var Yd=()=>t`
<main 
?data-zen=${ia.zen}
@click=${()=>Za(!1)}
@dragleave=${G}
@dragenter=${()=>G(V(Ra()))}
@dragover=${a=>a.preventDefault()}>
  <section class="aside left">${Qd()}</section>
  <section class="center">${xd()}</section>
  <section class="aside right">${Ed()}</section>
  ${Xd()}
</main>`;var Zd=()=>t`
<nav class=mobile-nav>
  ${E({title:"Open documents",className:"icon",icon:ca.documents,action:()=>vb("documents",ia.open_pane!="documents")})}
  ${E({title:"Open data",className:"icon",icon:ca.data,action:()=>vb("data",ia.open_pane!="data")})}
  ${E({title:"Open styles",className:"icon",icon:ca.adjust,action:()=>vb("styles",ia.open_pane!="styles")})}
</nav>`;let Oe=ha.currentUser(),ba=Kb(Kc)||ge,re=setTimeout(()=>0,0);var k=ba;let Cc=Oe==null?void 0:Oe.getUserData(),Jb=fetch("/defaults.json").then(a=>a.json()),ia=Kb(Lc)||he;function qb(){ba.currentDataset=ba.currentUser.datasets[0],ba.currentDocument=ba.currentUser.documents[0],ba.savedLocally=ba.savedLocally||!1,ba.showPreview=ba.showPreview||!1,ba.showStyles=ba.showStyles||!1,ba.intellisense=ba.intellisense||{suggestions:[],logger:""},ba.expandedAdjustments=ba.expandedAdjustments||["global","pages"],ba.currentUser.styles=ba.currentUser.styles||{},qe(Object.keys(wb),ba.currentUser.styles),Pe()}function ua(a){console.error(a),ba.error=a.message,ba.loading=!1,bb("error",!0)}function ka(a=!1){ba.savedLocally=!0;let b=2e3,d=a?0:b;clearTimeout(re),re=setTimeout(j,d),bb("working",!0,!0);function j(){if(ha.currentUser())return ha.currentUser().update({data:{flintstone:JSON.stringify(ba.currentUser)}}).then(()=>{ba.error=!1,bb("working",!1,!1)}).catch(ua);try{ba.error=!1,Kb(Kc,ba),bb("working",!1,!1)}catch(o){ua(o)}}}function G(a=Yd()){nb(t`
    <div id=app ?data-loading=${ba.loading}>
      <header>${Ib()}</header>
      ${a}
      <loader></loader>
      <status-message>${ba.error?`Error: ${ba.error}`:"All changes saved"}</status-message>
      <mobile-only>${Zd()}</mobile-only>
    </div>`,document.body)}function Pe(){for(let[a,b]of Object.entries(ia))bb(a,b,b)}function ya(a,b){ia[a]=b,bb(a,b,b),Kb(Lc,ia)}function D(a,b,d){ba[a]=b,G(),d&&ka()}var od=a=>{let b=["name","password"],d={};return t`
  <form class=mount>
    ${rb({fields:b,formData:d})}
    ${E({className:"primary",content:"Create Account & Sign In",action:()=>{D("loading",!0),ha.acceptInvite(a,d.password,!0).then(()=>{ha.currentUser().update({full_name:d.name}),D("loading",!1)}).catch(j=>{ua(j),renderAll(Modal(AuthError(j.message)))})}})}
  </form>`};var pd=()=>{let a;return t`
  <form class=mount>
    <label class="smol light">
      New Password
      <input required @input=${b=>a=b.target.value} minlength=8 type=password name=password />
    </label>
    ${E({className:"primary",content:"Save New Password",action:()=>{D("loading",!0),ha.currentUser().update({password:a}).then(()=>{D("loading",!1),ka(!0)}).catch(b=>{ua(b),renderAll(Modal(AuthError(b.message)))})}})}
  </form>`};k.loading=!0;let Dc=()=>{qb();if(location.hash&&location.hash.length){let[a,b]=location.hash.slice(1).split("=");location.replace("#"),history.replaceState(null,null,location.href.slice(0,-1)),k.loading=!1;if(a&&b)switch(a){case"recovery_token":ha.recover(b,!0).then(()=>G(V(pd())));break;case"confirmation_token":ha.confirm(b,!0).then(()=>{G(),ka(!0)});break;case"invite_token":G(V(od(b)));break}}else k.loading=!1,G(),ka(!0);addEventListener("keydown",a=>{var b,d;a.key=="Control"&&(k.shortcutReady=!0),k.shortcutReady&&Fb[a.key]&&((d=(b=Fb[a.key])==null?void 0:b.action)==null||d.call(void 0,a))}),addEventListener("keyup",a=>{a.key=="Control"&&(k.shortcutReady=!1)})};Cc?Cc.then(a=>{k.currentUser=JSON.parse(a.user_metadata.flintstone),Dc()}).catch(a=>{console.log(a),Dc()}):k.savedLocally?Dc():(k.loading=!1,qb(),G(V(pb())));})();
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

(()=>{let Lc=Object.defineProperty,je=Object.prototype.hasOwnProperty,$a=a=>{let c;return()=>(c||(c={exports:{}},a(c.exports,c)),c.exports)},Mc=a=>{if(a&&a.__esModule)return a;let c={};Lc(c,"default",{value:a,enumerable:!0});for(let f in a)je.call(a,f)&&f!=="default"&&Lc(c,f,{get:()=>a[f],enumerable:!0});return c};var qe=$a(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var j=function(){function A(t,s){var O=[],N=!0,D=!1,T=void 0;try{for(var ea=t[Symbol.iterator](),Z;!(N=(Z=ea.next()).done);N=!0){O.push(Z.value);if(s&&O.length===s)break}}catch(J){D=!0,T=J}finally{try{!N&&ea.return&&ea.return()}finally{if(D)throw T}}return O}return function(t,s){if(Array.isArray(t))return t;{if(Symbol.iterator in Object(t))return A(t,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();a.getPagination=n;function n(A){var t=A.headers.get("Link"),s={};if(t==null)return null;t=t.split(",");for(var O=A.headers.get("X-Total-Count"),N=0,D=t.length;N<D;N++){var T=t[N].replace(/(^\s*|\s*$)/,""),ea=T.split(";"),Z=j(ea,2),J=Z[0],o=Z[1],B=J.match(/page=(\d+)/),q=B&&parseInt(B[1],10);o.match(/last/)?s.last=q:o.match(/next/)?s.next=q:o.match(/prev/)?s.prev=q:o.match(/first/)&&(s.first=q)}return s.last=Math.max(s.last||0,s.prev&&s.prev+1||0),s.current=s.next?s.next-1:s.last||1,s.total=O?parseInt(O,10):null,s}});var dd=$a(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.JSONHTTPError=a.TextHTTPError=a.HTTPError=a.getPagination=void 0;var j=Object.assign||function(J){for(var o=1;o<arguments.length;o++){var B=arguments[o];for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&(J[q]=B[q])}return J},n=function(){function J(o,B){for(var q=0;q<B.length;q++){var u=B[q];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,B,q){return B&&J(o.prototype,B),q&&J(o,q),o}}(),A=qe();Object.defineProperty(a,"getPagination",{enumerable:!0,get:function J(){return A.getPagination}});function t(J,o){if(!(J instanceof o))throw new TypeError("Cannot call a class as a function")}function s(J,o){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o==="object"||typeof o==="function")?o:J}function O(J,o){if(typeof o!=="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);J.prototype=Object.create(o&&o.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(J,o):J.__proto__=o)}function N(J){function o(){var B=Reflect.construct(J,Array.from(arguments));return Object.setPrototypeOf(B,Object.getPrototypeOf(this)),B}return o.prototype=Object.create(J.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(o,J):o.__proto__=J,o}var D=a.HTTPError=function(J){O(o,J);function o(B){t(this,o);var q=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,B.statusText));return q.name=q.constructor.name,typeof Error.captureStackTrace==="function"?Error.captureStackTrace(q,q.constructor):q.stack=new Error(B.statusText).stack,q.status=B.status,q}return o}(N(Error)),T=a.TextHTTPError=function(J){O(o,J);function o(B,q){t(this,o);var u=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,B));return u.data=q,u}return o}(D),ea=a.JSONHTTPError=function(J){O(o,J);function o(B,q){t(this,o);var u=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,B));return u.json=q,u}return o}(D),Z=function(){function J(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",B=arguments[1];t(this,J),this.apiURL=o,this.apiURL.match(/\/[^\/]?/)&&(this._sameOrigin=!0),this.defaultHeaders=B&&B.defaultHeaders||{}}return n(J,[{key:"headers",value:function o(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j({},this.defaultHeaders,{"Content-Type":"application/json"},B)}},{key:"parseJsonResponse",value:function o(B){return B.json().then(function(q){if(!B.ok)return Promise.reject(new ea(B,q));var u=(0,A.getPagination)(B);return u?{pagination:u,items:q}:q})}},{key:"request",value:function o(B){var q=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=this.headers(u.headers||{});return this._sameOrigin&&(u.credentials=u.credentials||"same-origin"),fetch(this.apiURL+B,j({},u,{headers:$})).then(function(R){var ca=R.headers.get("Content-Type");return ca&&ca.match(/json/)?q.parseJsonResponse(R):R.ok?R.text().then(function(Aa){Aa}):R.text().then(function(Aa){return Promise.reject(new T(R,Aa))})})}}]),J}();a.default=Z});var ke=$a(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;function j(s,O){if(!(s instanceof O))throw new TypeError("Cannot call a class as a function")}function n(s,O){for(var N=0;N<O.length;N++){var D=O[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(s,D.key,D)}}function A(s,O,N){return O&&n(s.prototype,O),N&&n(s,N),s}var t=function(){function s(O){j(this,s),this.user=O}return A(s,[{key:"listUsers",value:function O(N){return this.user._request("/admin/users",{method:"GET",audience:N})}},{key:"getUser",value:function O(N){return this.user._request("/admin/users/".concat(N.id))}},{key:"updateUser",value:function O(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.user._request("/admin/users/".concat(N.id),{method:"PUT",body:JSON.stringify(D)})}},{key:"createUser",value:function O(N,D){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return T.email=N,T.password=D,this.user._request("/admin/users",{method:"POST",body:JSON.stringify(T)})}},{key:"deleteUser",value:function O(N){return this.user._request("/admin/users/".concat(N.id),{method:"DELETE"})}}]),s}();a.default=t});var le=$a(a=>{"use strict";function j(I){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?j=function H(C){return typeof C}:j=function H(C){return C&&typeof Symbol==="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},j(I)}Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;var n=O(dd()),A=t(ke());function t(I){return I&&I.__esModule?I:{default:I}}function s(){if(typeof WeakMap!=="function")return null;var I=new WeakMap();return s=function H(){return I},I}function O(I){if(I&&I.__esModule)return I;if(I===null||j(I)!=="object"&&typeof I!=="function")return{default:I};var H=s();if(H&&H.has(I))return H.get(I);var C={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in I)if(Object.prototype.hasOwnProperty.call(I,U)){var pa=K?Object.getOwnPropertyDescriptor(I,U):null;pa&&(pa.get||pa.set)?Object.defineProperty(C,U,pa):C[U]=I[U]}return C.default=I,H&&H.set(I,C),C}function N(I,H){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(I);H&&(K=K.filter(function(U){return Object.getOwnPropertyDescriptor(I,U).enumerable})),C.push.apply(C,K)}return C}function D(I){for(var H=1;H<arguments.length;H++){var C=arguments[H]!=null?arguments[H]:{};H%2?N(Object(C),!0).forEach(function(K){T(I,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):N(Object(C)).forEach(function(K){Object.defineProperty(I,K,Object.getOwnPropertyDescriptor(C,K))})}return I}function T(I,H,C){return H in I?Object.defineProperty(I,H,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[H]=C,I}function ea(I,H){if(!(I instanceof H))throw new TypeError("Cannot call a class as a function")}function Z(I,H){for(var C=0;C<H.length;C++){var K=H[C];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(I,K.key,K)}}function J(I,H,C){return H&&Z(I.prototype,H),C&&Z(I,C),I}var o=60*1000,B="gotrue.user",q={},u=null,$={api:1,token:1,audience:1,url:1},R={api:1},ca=function I(){return typeof window!=="undefined"},Aa=function(){function I(H,C,K){ea(this,I),this.api=H,this.url=H.apiURL,this.audience=K,this._processTokenResponse(C),u=this}return J(I,[{key:"update",value:function H(C){var K=this;return this._request("/user",{method:"PUT",body:JSON.stringify(C)}).then(function(U){return K._saveUserData(U)._refreshSavedSession()})}},{key:"jwt",value:function H(C){var K=this.tokenDetails();if(K===null||K===void 0)return Promise.reject(new Error("Gotrue-js: failed getting jwt access token"));var U=K.expires_at,pa=K.refresh_token,Ia=K.access_token;return C||U-o<Date.now()?this._refreshToken(pa):Promise.resolve(Ia)}},{key:"logout",value:function H(){return this._request("/logout",{method:"POST"}).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this))}},{key:"_refreshToken",value:function H(C){var K=this;return q[C]?q[C]:q[C]=this.api.request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(C)}).then(function(U){return delete q[C],K._processTokenResponse(U),K._refreshSavedSession(),K.token.access_token}).catch(function(U){return delete q[C],K.clearSession(),Promise.reject(U)})}},{key:"_request",value:function H(C){var K=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U.headers=U.headers||{};var pa=U.audience||this.audience;return pa&&(U.headers["X-JWT-AUD"]=pa),this.jwt().then(function(Ia){return K.api.request(C,D({headers:Object.assign(U.headers,{Authorization:"Bearer ".concat(Ia)})},U)).catch(function(ma){return ma instanceof n.JSONHTTPError&&ma.json&&(ma.json.msg?ma.message=ma.json.msg:ma.json.error&&(ma.message="".concat(ma.json.error,": ").concat(ma.json.error_description))),Promise.reject(ma)})})}},{key:"getUserData",value:function H(){return this._request("/user").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this))}},{key:"_saveUserData",value:function H(C,K){for(var U in C){if(U in I.prototype||U in $)continue;this[U]=C[U]}return K&&(this._fromStorage=!0),this}},{key:"_processTokenResponse",value:function H(C){this.token=C;var K;try{K=JSON.parse(xa(C.access_token.split(".")[1])),this.token.expires_at=K.exp*1000}catch(U){console.error(new Error("Gotrue-js: Failed to parse tokenResponse claims: ".concat(JSON.stringify(C))))}}},{key:"_refreshSavedSession",value:function H(){return ca()&&localStorage.getItem(B)&&this._saveSession(),this}},{key:"_saveSession",value:function H(){return ca()&&localStorage.setItem(B,JSON.stringify(this._details)),this}},{key:"tokenDetails",value:function H(){return this.token}},{key:"clearSession",value:function H(){I.removeSavedSession(),this.token=null,u=null}},{key:"admin",get:function H(){return new A.default(this)}},{key:"_details",get:function H(){var C={};for(var K in this){if(K in I.prototype||K in R)continue;C[K]=this[K]}return C}}],[{key:"removeSavedSession",value:function H(){ca()&&localStorage.removeItem(B)}},{key:"recoverSession",value:function H(C){if(u)return u;var K=ca()&&localStorage.getItem(B);if(K)try{var U=JSON.parse(K),pa=U.url,Ia=U.token,ma=U.audience;if(!pa||!Ia)return null;var sb=C||new n.default(pa,{});return new I(sb,Ia,ma)._saveUserData(U,!0)}catch(db){return console.error(new Error("Gotrue-js: Error recovering session: ".concat(db))),null}return null}}]),I}();a.default=Aa;function xa(I){var H=I.replace(/-/g,"+").replace(/_/g,"/");switch(H.length%4){case 0:break;case 2:H+="==";break;case 3:H+="=";break;default:throw"Illegal base64url string!"}var C=window.atob(H);try{return decodeURIComponent(escape(C))}catch(K){return C}}});var Fe=$a(a=>{"use strict";function j(o){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?j=function B(q){return typeof q}:j=function B(q){return q&&typeof Symbol==="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},j(o)}Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;var n=O(dd()),A=t(le());function t(o){return o&&o.__esModule?o:{default:o}}function s(){if(typeof WeakMap!=="function")return null;var o=new WeakMap();return s=function B(){return o},o}function O(o){if(o&&o.__esModule)return o;if(o===null||j(o)!=="object"&&typeof o!=="function")return{default:o};var B=s();if(B&&B.has(o))return B.get(o);var q={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){var R=u?Object.getOwnPropertyDescriptor(o,$):null;R&&(R.get||R.set)?Object.defineProperty(q,$,R):q[$]=o[$]}return q.default=o,B&&B.set(o,q),q}function N(o,B){if(!(o instanceof B))throw new TypeError("Cannot call a class as a function")}function D(o,B){for(var q=0;q<B.length;q++){var u=B[q];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function T(o,B,q){return B&&D(o.prototype,B),q&&D(o,q),o}var ea=/^http:\/\//,Z="/.netlify/identity",J=function(){function o(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=B.APIUrl,u=q===void 0?Z:q,$=B.audience,R=$===void 0?"":$,ca=B.setCookie,Aa=ca===void 0?!1:ca;N(this,o),u.match(ea)&&console.warn(`Warning:

DO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!
GoTrue REQUIRES HTTPS to work securely.`),R&&(this.audience=R),this.setCookie=Aa,this.api=new n.default(u)}return T(o,[{key:"_request",value:function B(q){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u.headers=u.headers||{};var $=u.audience||this.audience;return $&&(u.headers["X-JWT-AUD"]=$),this.api.request(q,u).catch(function(R){return R instanceof n.JSONHTTPError&&R.json&&(R.json.msg?R.message=R.json.msg:R.json.error&&(R.message="".concat(R.json.error,": ").concat(R.json.error_description))),Promise.reject(R)})}},{key:"settings",value:function B(){return this._request("/settings")}},{key:"signup",value:function B(q,u,$){return this._request("/signup",{method:"POST",body:JSON.stringify({email:q,password:u,data:$})})}},{key:"login",value:function B(q,u,$){var R=this;return this._setRememberHeaders($),this._request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=password&username=".concat(encodeURIComponent(q),"&password=").concat(encodeURIComponent(u))}).then(function(ca){return A.default.removeSavedSession(),R.createUser(ca,$)})}},{key:"loginExternalUrl",value:function B(q){return"".concat(this.api.apiURL,"/authorize?provider=").concat(q)}},{key:"confirm",value:function B(q,u){return this._setRememberHeaders(u),this.verify("signup",q,u)}},{key:"requestPasswordRecovery",value:function B(q){return this._request("/recover",{method:"POST",body:JSON.stringify({email:q})})}},{key:"recover",value:function B(q,u){return this._setRememberHeaders(u),this.verify("recovery",q,u)}},{key:"acceptInvite",value:function B(q,u,$){var R=this;return this._setRememberHeaders($),this._request("/verify",{method:"POST",body:JSON.stringify({token:q,password:u,type:"signup"})}).then(function(ca){return R.createUser(ca,$)})}},{key:"acceptInviteExternalUrl",value:function B(q,u){return"".concat(this.api.apiURL,"/authorize?provider=").concat(q,"&invite_token=").concat(u)}},{key:"createUser",value:function B(q){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._setRememberHeaders(u);var $=new A.default(this.api,q,this.audience);return $.getUserData().then(function(R){return u&&R._saveSession(),R})}},{key:"currentUser",value:function B(){var q=A.default.recoverSession(this.api);return q&&this._setRememberHeaders(q._fromStorage),q}},{key:"verify",value:function B(q,u,$){var R=this;return this._setRememberHeaders($),this._request("/verify",{method:"POST",body:JSON.stringify({token:u,type:q})}).then(function(ca){return R.createUser(ca,$)})}},{key:"_setRememberHeaders",value:function B(q){this.setCookie&&(this.api.defaultHeaders=this.api.defaultHeaders||{},this.api.defaultHeaders["X-Use-Cookie"]=q?"1":"session")}}]),o}();a.default=J;typeof window!=="undefined"&&(window.GoTrue=J)});var Ee=$a((a,f)=>{(function(j,n){typeof a==="object"&&typeof f!=="undefined"?f.exports=n():typeof define==="function"&&define.amd?define(n):(j=j||self,j.DOMPurify=n())})(a,function(){"use strict";function j(v){if(Array.isArray(v)){for(var E=0,w=Array(v.length);E<v.length;E++)w[E]=v[E];return w}else return Array.from(v)}var n=Object.hasOwnProperty,A=Object.setPrototypeOf,t=Object.isFrozen,s=Object.freeze,O=Object.seal,N=Object.create,D=typeof Reflect!=="undefined"&&Reflect,T=D.apply,ea=D.construct;T||(T=function v(E,w,p){return E.apply(w,p)}),s||(s=function v(E){return E}),O||(O=function v(E){return E}),ea||(ea=function v(E,w){return new(Function.prototype.bind.apply(E,[null].concat(j(w))))()});var Z=xa(Array.prototype.forEach),J=xa(Array.prototype.pop),o=xa(Array.prototype.push),B=xa(String.prototype.toLowerCase),q=xa(String.prototype.match),u=xa(String.prototype.replace),$=xa(String.prototype.indexOf),R=xa(String.prototype.trim),ca=xa(RegExp.prototype.test),Aa=I(TypeError);function xa(v){return function(E){for(var w=arguments.length,p=Array(w>1?w-1:0),qa=1;qa<w;qa++)p[qa-1]=arguments[qa];return T(v,E,p)}}function I(v){return function(){for(var E=arguments.length,w=Array(E),p=0;p<E;p++)w[p]=arguments[p];return ea(v,w)}}function H(v,E){A&&A(v,null);for(var w=E.length;w--;){var p=E[w];if(typeof p==="string"){var qa=B(p);qa!==p&&(t(E)||(E[w]=qa),p=qa)}v[p]=!0}return v}function C(v){var E=N(null),w=void 0;for(w in v)T(n,v,[w])&&(E[w]=v[w]);return E}var K=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),pa=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ia=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ma=s(["#text"]),sb=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),db=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_b=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),eb=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zc=O(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Ac=O(/<%[\s\S]*|[\s\S]*%>/gm),Bc=O(/^data-[\-\w.\u00B7-\uFFFF]/),sa=O(/^aria-[\-\w]+$/),Cc=O(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dc=O(/^(?:\w+script|data):/i),tb=O(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),na=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol==="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};function Ba(v){if(Array.isArray(v)){for(var E=0,w=Array(v.length);E<v.length;E++)w[E]=v[E];return w}else return Array.from(v)}var $b=function v(){return typeof window==="undefined"?null:window},Ec=function v(E,w){if((typeof E==="undefined"?"undefined":na(E))!=="object"||typeof E.createPolicy!=="function")return null;var p=null,qa="data-tt-policy-suffix";w.currentScript&&w.currentScript.hasAttribute(qa)&&(p=w.currentScript.getAttribute(qa));var vb="dompurify"+(p?"#"+p:"");try{return E.createPolicy(vb,{createHTML:function Na(Ca){return Ca}})}catch(Na){return console.warn("TrustedTypes policy "+vb+" could not be created."),null}};function ub(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$b(),E=function V(m){return ub(m)};E.version="2.2.3",E.removed=[];if(!v||!v.document||v.document.nodeType!==9)return E.isSupported=!1,E;var w=v.document,p=v.document,qa=v.DocumentFragment,vb=v.HTMLTemplateElement,Na=v.Node,Ca=v.NodeFilter,Hb=v.NamedNodeMap,Fc=Hb===void 0?v.NamedNodeMap||v.MozNamedAttrMap:Hb,ac=v.Text,gb=v.Comment,Gc=v.DOMParser,bc=v.trustedTypes;if(typeof vb==="function"){var Za=p.createElement("template");Za.content&&Za.content.ownerDocument&&(p=Za.content.ownerDocument)}var ua=Ec(bc,w),Ib=ua&&ta?ua.createHTML(""):"",hb=p,Jb=hb.implementation,Hc=hb.createNodeIterator,ib=hb.getElementsByTagName,wb=hb.createDocumentFragment,cc=w.importNode,Kb={};try{Kb=C(p).documentMode?p.documentMode:{}}catch(V){}var Da={};E.isSupported=Jb&&typeof Jb.createHTMLDocument!=="undefined"&&Kb!==9;var Lb=zc,Mb=Ac,X=Bc,Ic=sa,l=Dc,i=tb,r=Cc,b=null,d=H({},[].concat(Ba(K),Ba(U),Ba(pa),Ba(Ia),Ba(ma))),e=null,g=H({},[].concat(Ba(sb),Ba(db),Ba(_b),Ba(eb))),h=null,z=null,x=!0,S=!0,P=!1,aa=!1,oa=!1,fa=!1,W=!1,va=!1,Oa=!1,Pa=!0,ta=!1,ba=!0,jb=!0,_a=!1,Ea={},dc=H({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Nb=null,ae=H({},["audio","video","img","source","image","track"]),Jc=null,be=H({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),xb=null,Ae=p.createElement("form"),Kc=function V(m){if(xb&&xb===m)return;(!m||(typeof m==="undefined"?"undefined":na(m))!=="object")&&(m={}),m=C(m),b="ALLOWED_TAGS"in m?H({},m.ALLOWED_TAGS):d,e="ALLOWED_ATTR"in m?H({},m.ALLOWED_ATTR):g,Jc="ADD_URI_SAFE_ATTR"in m?H(C(be),m.ADD_URI_SAFE_ATTR):be,Nb="ADD_DATA_URI_TAGS"in m?H(C(ae),m.ADD_DATA_URI_TAGS):ae,h="FORBID_TAGS"in m?H({},m.FORBID_TAGS):{},z="FORBID_ATTR"in m?H({},m.FORBID_ATTR):{},Ea="USE_PROFILES"in m?m.USE_PROFILES:!1,x=m.ALLOW_ARIA_ATTR!==!1,S=m.ALLOW_DATA_ATTR!==!1,P=m.ALLOW_UNKNOWN_PROTOCOLS||!1,aa=m.SAFE_FOR_TEMPLATES||!1,oa=m.WHOLE_DOCUMENT||!1,va=m.RETURN_DOM||!1,Oa=m.RETURN_DOM_FRAGMENT||!1,Pa=m.RETURN_DOM_IMPORT!==!1,ta=m.RETURN_TRUSTED_TYPE||!1,W=m.FORCE_BODY||!1,ba=m.SANITIZE_DOM!==!1,jb=m.KEEP_CONTENT!==!1,_a=m.IN_PLACE||!1,r=m.ALLOWED_URI_REGEXP||r,aa&&(S=!1),Oa&&(va=!0),Ea&&(b=H({},[].concat(Ba(ma))),e=[],Ea.html===!0&&(H(b,K),H(e,sb)),Ea.svg===!0&&(H(b,U),H(e,db),H(e,eb)),Ea.svgFilters===!0&&(H(b,pa),H(e,db),H(e,eb)),Ea.mathMl===!0&&(H(b,Ia),H(e,_b),H(e,eb))),m.ADD_TAGS&&(b===d&&(b=C(b)),H(b,m.ADD_TAGS)),m.ADD_ATTR&&(e===g&&(e=C(e)),H(e,m.ADD_ATTR)),m.ADD_URI_SAFE_ATTR&&H(Jc,m.ADD_URI_SAFE_ATTR),jb&&(b["#text"]=!0),oa&&H(b,["html","head","body"]),b.table&&(H(b,["tbody"]),delete h.tbody),s&&s(m),xb=m},kb=function V(m){o(E.removed,{element:m});try{m.parentNode.removeChild(m)}catch(G){m.outerHTML=Ib}},ce=function V(m,G){try{o(E.removed,{attribute:G.getAttributeNode(m),from:G})}catch(Q){o(E.removed,{attribute:null,from:G})}G.removeAttribute(m)},de=function V(m){var G=void 0,Q=void 0;if(W)m="<remove></remove>"+m;else{var ha=q(m,/^[\r\n\t ]+/);Q=ha&&ha[0]}var Ja=ua?ua.createHTML(m):m;try{G=new Gc().parseFromString(Ja,"text/html")}catch(Qa){}if(!G||!G.documentElement){G=Jb.createHTMLDocument("");var Fa=G,wa=Fa.body;wa.parentNode.removeChild(wa.parentNode.firstElementChild),wa.outerHTML=Ja}return m&&Q&&G.body.insertBefore(p.createTextNode(Q),G.body.childNodes[0]||null),ib.call(G,oa?"html":"body")[0]},ee=function V(m){return Hc.call(m.ownerDocument||m,m,Ca.SHOW_ELEMENT|Ca.SHOW_COMMENT|Ca.SHOW_TEXT,function(){return Ca.FILTER_ACCEPT},!1)},Be=function V(m){return m instanceof ac||m instanceof gb?!1:typeof m.nodeName!=="string"||typeof m.textContent!=="string"||typeof m.removeChild!=="function"||!(m.attributes instanceof Fc)||typeof m.removeAttribute!=="function"||typeof m.setAttribute!=="function"||typeof m.namespaceURI!=="string"?!0:!1},Ob=function V(m){return(typeof Na==="undefined"?"undefined":na(Na))==="object"?m instanceof Na:m&&(typeof m==="undefined"?"undefined":na(m))==="object"&&typeof m.nodeType==="number"&&typeof m.nodeName==="string"},Ua=function V(m,G,Q){if(!Da[m])return;Z(Da[m],function(ha){ha.call(E,G,Q,xb)})},fe=function V(m){var G=void 0;Ua("beforeSanitizeElements",m,null);if(Be(m))return kb(m),!0;if(q(m.nodeName,/[\u0080-\uFFFF]/))return kb(m),!0;var Q=B(m.nodeName);Ua("uponSanitizeElement",m,{tagName:Q,allowedTags:b});if((Q==="svg"||Q==="math")&&m.querySelectorAll("p, br, form, table, h1, h2, h3, h4, h5, h6").length!==0)return kb(m),!0;if(!Ob(m.firstElementChild)&&(!Ob(m.content)||!Ob(m.content.firstElementChild))&&ca(/<[/\w]/g,m.innerHTML)&&ca(/<[/\w]/g,m.textContent))return kb(m),!0;if(!b[Q]||h[Q]){if(jb&&!dc[Q]&&typeof m.insertAdjacentHTML==="function")try{var ha=m.innerHTML;m.insertAdjacentHTML("AfterEnd",ua?ua.createHTML(ha):ha)}catch(Ja){}return kb(m),!0}return(Q==="noscript"||Q==="noembed")&&ca(/<\/no(script|embed)/i,m.innerHTML)?(kb(m),!0):(aa&&m.nodeType===3&&(G=m.textContent,G=u(G,Lb," "),G=u(G,Mb," "),m.textContent!==G&&(o(E.removed,{element:m.cloneNode()}),m.textContent=G)),Ua("afterSanitizeElements",m,null),!1)},ge=function V(m,G,Q){if(ba&&(G==="id"||G==="name")&&(Q in p||Q in Ae))return!1;if(!(S&&ca(X,G))){if(!(x&&ca(Ic,G))){if(!e[G]||z[G])return!1;if(!Jc[G]){if(!ca(r,u(Q,i,""))){if(!((G==="src"||G==="xlink:href"||G==="href")&&m!=="script"&&$(Q,"data:")===0&&Nb[m])){if(!(P&&!ca(l,u(Q,i,"")))){if(Q)return!1}}}}}}return!0},he=function V(m){var G=void 0,Q=void 0,ha=void 0,Ja=void 0;Ua("beforeSanitizeAttributes",m,null);var Fa=m.attributes;if(!Fa)return;var wa={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:e};for(Ja=Fa.length;Ja--;){G=Fa[Ja];var Qa=G,Pb=Qa.name,ie=Qa.namespaceURI;Q=R(G.value),ha=B(Pb),wa.attrName=ha,wa.attrValue=Q,wa.keepAttr=!0,wa.forceKeepAttr=void 0,Ua("uponSanitizeAttribute",m,wa),Q=wa.attrValue;if(wa.forceKeepAttr)continue;ce(Pb,m);if(!wa.keepAttr)continue;if(ca(/\/>/i,Q)){ce(Pb,m);continue}aa&&(Q=u(Q,Lb," "),Q=u(Q,Mb," "));var De=m.nodeName.toLowerCase();if(!ge(De,ha,Q))continue;try{ie?m.setAttributeNS(ie,Pb,Q):m.setAttribute(Pb,Q),J(E.removed)}catch($f){}}Ua("afterSanitizeAttributes",m,null)},Ce=function V(m){var G=void 0,Q=ee(m);for(Ua("beforeSanitizeShadowDOM",m,null);G=Q.nextNode();){Ua("uponSanitizeShadowNode",G,null);if(fe(G))continue;G.content instanceof qa&&V(G.content),he(G)}Ua("afterSanitizeShadowDOM",m,null)};return E.sanitize=function(V,m){var G=void 0,Q=void 0,ha=void 0,Ja=void 0,Fa=void 0;V||(V="<!-->");if(typeof V!=="string"&&!Ob(V)){if(typeof V.toString!=="function")throw Aa("toString is not a function");{V=V.toString();if(typeof V!=="string")throw Aa("dirty is not a string, aborting")}}if(!E.isSupported){if(na(v.toStaticHTML)==="object"||typeof v.toStaticHTML==="function"){if(typeof V==="string")return v.toStaticHTML(V);if(Ob(V))return v.toStaticHTML(V.outerHTML)}return V}fa||Kc(m),E.removed=[],typeof V==="string"&&(_a=!1);if(!_a)if(V instanceof Na)G=de("<!---->"),Q=G.ownerDocument.importNode(V,!0),Q.nodeType===1&&Q.nodeName==="BODY"?G=Q:Q.nodeName==="HTML"?G=Q:G.appendChild(Q);else{if(!va&&!aa&&!oa&&V.indexOf("<")===-1)return ua&&ta?ua.createHTML(V):V;G=de(V);if(!G)return va?null:Ib}G&&W&&kb(G.firstChild);for(var wa=ee(_a?V:G);ha=wa.nextNode();){if(ha.nodeType===3&&ha===Ja)continue;if(fe(ha))continue;ha.content instanceof qa&&Ce(ha.content),he(ha),Ja=ha}Ja=null;if(_a)return V;if(va){if(Oa)for(Fa=wb.call(G.ownerDocument);G.firstChild;)Fa.appendChild(G.firstChild);else Fa=G;return Pa&&(Fa=cc.call(w,Fa,!0)),Fa}var Qa=oa?G.outerHTML:G.innerHTML;return aa&&(Qa=u(Qa,Lb," "),Qa=u(Qa,Mb," ")),ua&&ta?ua.createHTML(Qa):Qa},E.setConfig=function(V){Kc(V),fa=!0},E.clearConfig=function(){xb=null,fa=!1},E.isValidAttribute=function(V,m,G){xb||Kc({});var Q=B(V),ha=B(m);return ge(Q,ha,G)},E.addHook=function(V,m){if(typeof m!=="function")return;Da[V]=Da[V]||[],o(Da[V],m)},E.removeHook=function(V){Da[V]&&J(Da[V])},E.removeHooks=function(V){Da[V]&&(Da[V]=[])},E.removeAllHooks=function(){Da={}},E}var fb=ub();return fb})});var Se=$a((a,f)=>{(function(j,n){typeof a==="object"&&typeof f!=="undefined"?f.exports=n():typeof define==="function"&&define.amd?define(n):(j=typeof globalThis!=="undefined"?globalThis:j||self,j.marked=n())})(a,function(){"use strict";function j(l,i){for(var r=0;r<i.length;r++){var b=i[r];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(l,b.key,b)}}function n(l,i,r){return i&&j(l.prototype,i),r&&j(l,r),l}function A(l,i){if(!l)return;if(typeof l==="string")return t(l,i);var r=Object.prototype.toString.call(l).slice(8,-1);r==="Object"&&l.constructor&&(r=l.constructor.name);if(r==="Map"||r==="Set")return Array.from(l);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(l,i)}function t(l,i){(i==null||i>l.length)&&(i=l.length);for(var r=0,b=new Array(i);r<i;r++)b[r]=l[r];return b}function s(l,i){var r;if(typeof Symbol==="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(r=A(l))||i&&l&&typeof l.length==="number"){r&&(l=r);var b=0;return function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return r=l[Symbol.iterator](),r.next.bind(r)}function O(l,i){return i={exports:{}},l(i,i.exports),i.exports}var N=O(function(l){function i(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function r(b){l.exports.defaults=b}l.exports={defaults:i(),getDefaults:i,changeDefaults:r}}),D=N.defaults,T=N.getDefaults,ea=N.changeDefaults,Z=/[&<>"']/,J=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,B=/[<>"']|&(?!#?\w+;)/g,q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function l(i){return q[i]};function $(l,i){if(i){if(Z.test(l))return l.replace(J,u)}else if(o.test(l))return l.replace(B,u);return l}var R=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ca(l){return l.replace(R,function(i,r){return r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""})}var Aa=/(^|[^\[])\^/g;function xa(l,i){l=l.source||l,i=i||"";var r={replace:function b(d,e){return e=e.source||e,e=e.replace(Aa,"$1"),l=l.replace(d,e),r},getRegex:function b(){return new RegExp(l,i)}};return r}var I=/[^\w:]/g,H=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function C(l,i,r){if(l){var b;try{b=decodeURIComponent(ca(r)).replace(I,"").toLowerCase()}catch(d){return null}if(b.indexOf("javascript:")===0||b.indexOf("vbscript:")===0||b.indexOf("data:")===0)return null}i&&!H.test(r)&&(r=ma(i,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(d){return null}return r}var K={},U=/^[^:]+:\/*[^/]*$/,pa=/^([^:]+:)[\s\S]*$/,Ia=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ma(l,i){K[" "+l]||(U.test(l)?K[" "+l]=l+"/":K[" "+l]=eb(l,"/",!0)),l=K[" "+l];var r=l.indexOf(":")===-1;return i.substring(0,2)==="//"?r?i:l.replace(pa,"$1")+i:i.charAt(0)==="/"?r?i:l.replace(Ia,"$1")+i:l+i}var sb={exec:function l(){}};function db(l){for(var i=1,r,b;i<arguments.length;i++){r=arguments[i];for(b in r)Object.prototype.hasOwnProperty.call(r,b)&&(l[b]=r[b])}return l}function _b(l,i){var r=l.replace(/\|/g,function(e,g,h){for(var z=!1,x=g;--x>=0&&h[x]==="\\";)z=!z;return z?"|":" |"}),b=r.split(/ \|/),d=0;if(b.length>i)b.splice(i);else for(;b.length<i;)b.push("");for(;d<b.length;d++)b[d]=b[d].trim().replace(/\\\|/g,"|");return b}function eb(l,i,r){var b=l.length;if(b===0)return"";for(var d=0;d<b;){var e=l.charAt(b-d-1);if(e===i&&!r)d++;else if(e!==i&&r)d++;else break}return l.substr(0,b-d)}function zc(l,i){if(l.indexOf(i[1])===-1)return-1;for(var r=l.length,b=0,d=0;d<r;d++)if(l[d]==="\\")d++;else if(l[d]===i[0])b++;else if(l[d]===i[1]){b--;if(b<0)return d}return-1}function Ac(l){l&&l.sanitize&&!l.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Bc(l,i){if(i<1)return"";for(var r="";i>1;)i&1&&(r+=l),i>>=1,l+=l;return r+l}var sa={escape:$,unescape:ca,edit:xa,cleanUrl:C,resolveUrl:ma,noopTest:sb,merge:db,splitCells:_b,rtrim:eb,findClosingBracket:zc,checkSanitizeDeprecation:Ac,repeatString:Bc},Cc=N.defaults,Dc=sa.rtrim,tb=sa.splitCells,na=sa.escape,Ba=sa.findClosingBracket;function $b(l,i,r){var b=i.href,d=i.title?na(i.title):null,e=l[1].replace(/\\([\[\]])/g,"$1");return l[0].charAt(0)!=="!"?{type:"link",raw:r,href:b,title:d,text:e}:{type:"image",raw:r,href:b,title:d,text:na(e)}}function Ec(l,i){var r=l.match(/^(\s+)(?:```)/);if(r===null)return i;var b=r[1];return i.split(`
`).map(function(d){var e=d.match(/^\s+/);if(e===null)return d;var g=e[0];return g.length>=b.length?d.slice(b.length):d}).join(`
`)}var ub=function(){function l(r){this.options=r||Cc}var i=l.prototype;return i.space=function r(b){var d=this.rules.block.newline.exec(b);if(d)return d[0].length>1?{type:"space",raw:d[0]}:{raw:`
`}},i.code=function r(b,d){var e=this.rules.block.code.exec(b);if(e){var g=d[d.length-1];if(g&&g.type==="paragraph")return{raw:e[0],text:e[0].trimRight()};var h=e[0].replace(/^ {4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?h:Dc(h,`
`)}}},i.fences=function r(b){var d=this.rules.block.fences.exec(b);if(d){var e=d[0],g=Ec(e,d[3]||"");return{type:"code",raw:e,lang:d[2]?d[2].trim():d[2],text:g}}},i.heading=function r(b){var d=this.rules.block.heading.exec(b);if(d)return{type:"heading",raw:d[0],depth:d[1].length,text:d[2]}},i.nptable=function r(b){var d=this.rules.block.nptable.exec(b);if(d){var e={type:"table",header:tb(d[1].replace(/^ *| *\| *$/g,"")),align:d[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:d[3]?d[3].replace(/\n$/,"").split(`
`):[],raw:d[0]};if(e.header.length===e.align.length){var g=e.align.length,h;for(h=0;h<g;h++)/^ *-+: *$/.test(e.align[h])?e.align[h]="right":/^ *:-+: *$/.test(e.align[h])?e.align[h]="center":/^ *:-+ *$/.test(e.align[h])?e.align[h]="left":e.align[h]=null;for(g=e.cells.length,h=0;h<g;h++)e.cells[h]=tb(e.cells[h],e.header.length);return e}}},i.hr=function r(b){var d=this.rules.block.hr.exec(b);if(d)return{type:"hr",raw:d[0]}},i.blockquote=function r(b){var d=this.rules.block.blockquote.exec(b);if(d){var e=d[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:d[0],text:e}}},i.list=function r(b){var d=this.rules.block.list.exec(b);if(d){var e=d[0],g=d[2],h=g.length>1,z={type:"list",raw:e,ordered:h,start:h?+g.slice(0,-1):"",loose:!1,items:[]},x=d[0].match(this.rules.block.item),S=!1,P,aa,oa,fa,W,va,Oa,Pa,ta=x.length;oa=this.rules.block.listItemStart.exec(x[0]);for(var ba=0;ba<ta;ba++){P=x[ba],e=P;if(ba!==ta-1){fa=this.rules.block.listItemStart.exec(x[ba+1]);if(fa[1].length>oa[0].length||fa[1].length>3){x.splice(ba,2,x[ba]+`
`+x[ba+1]),ba--,ta--;continue}else(!this.options.pedantic||this.options.smartLists?fa[2][fa[2].length-1]!==g[g.length-1]:h===(fa[2].length===1))&&(W=x.slice(ba+1).join(`
`),z.raw=z.raw.substring(0,z.raw.length-W.length),ba=ta-1);oa=fa}aa=P.length,P=P.replace(/^ *([*+-]|\d+[.)]) ?/,""),~P.indexOf(`
 `)&&(aa-=P.length,P=this.options.pedantic?P.replace(/^ {1,4}/gm,""):P.replace(new RegExp("^ {1,"+aa+"}","gm"),"")),va=S||/\n\n(?!\s*$)/.test(P),ba!==ta-1&&(S=P.charAt(P.length-1)===`
`,va||(va=S)),va&&(z.loose=!0),this.options.gfm&&(Oa=/^\[[ xX]\] /.test(P),Pa=void 0,Oa&&(Pa=P[1]!==" ",P=P.replace(/^\[[ xX]\] +/,""))),z.items.push({type:"list_item",raw:e,task:Oa,checked:Pa,loose:va,text:P})}return z}},i.html=function r(b){var d=this.rules.block.html.exec(b);if(d)return{type:this.options.sanitize?"paragraph":"html",raw:d[0],pre:!this.options.sanitizer&&(d[1]==="pre"||d[1]==="script"||d[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(d[0]):na(d[0]):d[0]}},i.def=function r(b){var d=this.rules.block.def.exec(b);if(d){d[3]&&(d[3]=d[3].substring(1,d[3].length-1));var e=d[1].toLowerCase().replace(/\s+/g," ");return{tag:e,raw:d[0],href:d[2],title:d[3]}}},i.table=function r(b){var d=this.rules.block.table.exec(b);if(d){var e={type:"table",header:tb(d[1].replace(/^ *| *\| *$/g,"")),align:d[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:d[3]?d[3].replace(/\n$/,"").split(`
`):[]};if(e.header.length===e.align.length){e.raw=d[0];var g=e.align.length,h;for(h=0;h<g;h++)/^ *-+: *$/.test(e.align[h])?e.align[h]="right":/^ *:-+: *$/.test(e.align[h])?e.align[h]="center":/^ *:-+ *$/.test(e.align[h])?e.align[h]="left":e.align[h]=null;for(g=e.cells.length,h=0;h<g;h++)e.cells[h]=tb(e.cells[h].replace(/^ *\| *| *\| *$/g,""),e.header.length);return e}}},i.lheading=function r(b){var d=this.rules.block.lheading.exec(b);if(d)return{type:"heading",raw:d[0],depth:d[2].charAt(0)==="="?1:2,text:d[1]}},i.paragraph=function r(b){var d=this.rules.block.paragraph.exec(b);if(d)return{type:"paragraph",raw:d[0],text:d[1].charAt(d[1].length-1)===`
`?d[1].slice(0,-1):d[1]}},i.text=function r(b,d){var e=this.rules.block.text.exec(b);if(e){var g=d[d.length-1];return g&&g.type==="text"?{raw:e[0],text:e[0]}:{type:"text",raw:e[0],text:e[0]}}},i.escape=function r(b){var d=this.rules.inline.escape.exec(b);if(d)return{type:"escape",raw:d[0],text:na(d[1])}},i.tag=function r(b,d,e){var g=this.rules.inline.tag.exec(b);if(g)return!d&&/^<a /i.test(g[0])?d=!0:d&&/^<\/a>/i.test(g[0])&&(d=!1),!e&&/^<(pre|code|kbd|script)(\s|>)/i.test(g[0])?e=!0:e&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(g[0])&&(e=!1),{type:this.options.sanitize?"text":"html",raw:g[0],inLink:d,inRawBlock:e,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):na(g[0]):g[0]}},i.link=function r(b){var d=this.rules.inline.link.exec(b);if(d){var e=Ba(d[2],"()");if(e>-1){var g=d[0].indexOf("!")===0?5:4,h=g+d[1].length+e;d[2]=d[2].substring(0,e),d[0]=d[0].substring(0,h).trim(),d[3]=""}var z=d[2],x="";if(this.options.pedantic){var S=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(z);S?(z=S[1],x=S[3]):x=""}else x=d[3]?d[3].slice(1,-1):"";z=z.trim().replace(/^<([\s\S]*)>$/,"$1");var P=$b(d,{href:z?z.replace(this.rules.inline._escapes,"$1"):z,title:x?x.replace(this.rules.inline._escapes,"$1"):x},d[0]);return P}},i.reflink=function r(b,d){var e;if((e=this.rules.inline.reflink.exec(b))||(e=this.rules.inline.nolink.exec(b))){var g=(e[2]||e[1]).replace(/\s+/g," ");g=d[g.toLowerCase()];if(!g||!g.href){var h=e[0].charAt(0);return{type:"text",raw:h,text:h}}var z=$b(e,g,e[0]);return z}},i.strong=function r(b,d,e){e===void 0&&(e="");var g=this.rules.inline.strong.start.exec(b);if(g&&(!g[1]||g[1]&&(e===""||this.rules.inline.punctuation.exec(e)))){d=d.slice(-1*b.length);var h=g[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;h.lastIndex=0;for(var z;(g=h.exec(d))!=null;){z=this.rules.inline.strong.middle.exec(d.slice(0,g.index+3));if(z)return{type:"strong",raw:b.slice(0,z[0].length),text:b.slice(2,z[0].length-2)}}}},i.em=function r(b,d,e){e===void 0&&(e="");var g=this.rules.inline.em.start.exec(b);if(g&&(!g[1]||g[1]&&(e===""||this.rules.inline.punctuation.exec(e)))){d=d.slice(-1*b.length);var h=g[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;h.lastIndex=0;for(var z;(g=h.exec(d))!=null;){z=this.rules.inline.em.middle.exec(d.slice(0,g.index+2));if(z)return{type:"em",raw:b.slice(0,z[0].length),text:b.slice(1,z[0].length-1)}}}},i.codespan=function r(b){var d=this.rules.inline.code.exec(b);if(d){var e=d[2].replace(/\n/g," "),g=/[^ ]/.test(e),h=e.startsWith(" ")&&e.endsWith(" ");return g&&h&&(e=e.substring(1,e.length-1)),e=na(e,!0),{type:"codespan",raw:d[0],text:e}}},i.br=function r(b){var d=this.rules.inline.br.exec(b);if(d)return{type:"br",raw:d[0]}},i.del=function r(b){var d=this.rules.inline.del.exec(b);if(d)return{type:"del",raw:d[0],text:d[2]}},i.autolink=function r(b,d){var e=this.rules.inline.autolink.exec(b);if(e){var g,h;return e[2]==="@"?(g=na(this.options.mangle?d(e[1]):e[1]),h="mailto:"+g):(g=na(e[1]),h=g),{type:"link",raw:e[0],text:g,href:h,tokens:[{type:"text",raw:g,text:g}]}}},i.url=function r(b,d){var e;if(e=this.rules.inline.url.exec(b)){var g,h;if(e[2]==="@")g=na(this.options.mangle?d(e[0]):e[0]),h="mailto:"+g;else{var z;do z=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])[0];while(z!==e[0]);g=na(e[0]),e[1]==="www."?h="http://"+g:h=g}return{type:"link",raw:e[0],text:g,href:h,tokens:[{type:"text",raw:g,text:g}]}}},i.inlineText=function r(b,d,e){var g=this.rules.inline.text.exec(b);if(g){var h;return d?h=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):na(g[0]):g[0]:h=na(this.options.smartypants?e(g[0]):g[0]),{type:"text",raw:g[0],text:h}}},l}(),fb=sa.noopTest,v=sa.edit,E=sa.merge,w={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:fb,table:fb,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};w._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,w._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,w.def=v(w.def).replace("label",w._label).replace("title",w._title).getRegex(),w.bullet=/(?:[*+-]|\d{1,9}[.)])/,w.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,w.item=v(w.item,"gm").replace(/bull/g,w.bullet).getRegex(),w.listItemStart=v(/^( *)(bull)/).replace("bull",w.bullet).getRegex(),w.list=v(w.list).replace(/bull/g,w.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+w.def.source+")").getRegex(),w._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",w._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,w.html=v(w.html,"i").replace("comment",w._comment).replace("tag",w._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),w.paragraph=v(w._paragraph).replace("hr",w.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",w._tag).getRegex(),w.blockquote=v(w.blockquote).replace("paragraph",w.paragraph).getRegex(),w.normal=E({},w),w.gfm=E({},w.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),w.gfm.nptable=v(w.gfm.nptable).replace("hr",w.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",w._tag).getRegex(),w.gfm.table=v(w.gfm.table).replace("hr",w.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",w._tag).getRegex(),w.pedantic=E({},w.normal,{html:v(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",w._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:fb,paragraph:v(w.normal._paragraph).replace("hr",w.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",w.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var p={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:fb,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:fb,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/};p._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",p.punctuation=v(p.punctuation).replace(/punctuation/g,p._punctuation).getRegex(),p._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",p._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",p._comment=v(w._comment).replace("(?:-->|$)","-->").getRegex(),p.em.start=v(p.em.start).replace(/punctuation/g,p._punctuation).getRegex(),p.em.middle=v(p.em.middle).replace(/punctuation/g,p._punctuation).replace(/overlapSkip/g,p._overlapSkip).getRegex(),p.em.endAst=v(p.em.endAst,"g").replace(/punctuation/g,p._punctuation).getRegex(),p.em.endUnd=v(p.em.endUnd,"g").replace(/punctuation/g,p._punctuation).getRegex(),p.strong.start=v(p.strong.start).replace(/punctuation/g,p._punctuation).getRegex(),p.strong.middle=v(p.strong.middle).replace(/punctuation/g,p._punctuation).replace(/overlapSkip/g,p._overlapSkip).getRegex(),p.strong.endAst=v(p.strong.endAst,"g").replace(/punctuation/g,p._punctuation).getRegex(),p.strong.endUnd=v(p.strong.endUnd,"g").replace(/punctuation/g,p._punctuation).getRegex(),p.blockSkip=v(p._blockSkip,"g").getRegex(),p.overlapSkip=v(p._overlapSkip,"g").getRegex(),p._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,p._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,p._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,p.autolink=v(p.autolink).replace("scheme",p._scheme).replace("email",p._email).getRegex(),p._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,p.tag=v(p.tag).replace("comment",p._comment).replace("attribute",p._attribute).getRegex(),p._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,p._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,p._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,p.link=v(p.link).replace("label",p._label).replace("href",p._href).replace("title",p._title).getRegex(),p.reflink=v(p.reflink).replace("label",p._label).getRegex(),p.reflinkSearch=v(p.reflinkSearch,"g").replace("reflink",p.reflink).replace("nolink",p.nolink).getRegex(),p.normal=E({},p),p.pedantic=E({},p.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:v(/^!?\[(label)\]\((.*?)\)/).replace("label",p._label).getRegex(),reflink:v(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",p._label).getRegex()}),p.gfm=E({},p.normal,{escape:v(p.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),p.gfm.url=v(p.gfm.url,"i").replace("email",p.gfm._extended_email).getRegex(),p.breaks=E({},p.gfm,{br:v(p.br).replace("{2,}","*").getRegex(),text:v(p.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var qa={block:w,inline:p},vb=N.defaults,Na=qa.block,Ca=qa.inline,Hb=sa.repeatString;function Fc(l){return l.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ac(l){var i="",r,b,d=l.length;for(r=0;r<d;r++)b=l.charCodeAt(r),Math.random()>.5&&(b="x"+b.toString(16)),i+="&#"+b+";";return i}var gb=function(){function l(r){this.tokens=[],this.tokens.links=Object.create(null),this.options=r||vb,this.options.tokenizer=this.options.tokenizer||new ub(),this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var b={block:Na.normal,inline:Ca.normal};this.options.pedantic?(b.block=Na.pedantic,b.inline=Ca.pedantic):this.options.gfm&&(b.block=Na.gfm,this.options.breaks?b.inline=Ca.breaks:b.inline=Ca.gfm),this.tokenizer.rules=b}l.lex=function r(b,d){var e=new l(d);return e.lex(b)},l.lexInline=function r(b,d){var e=new l(d);return e.inlineTokens(b)};var i=l.prototype;return i.lex=function r(b){return b=b.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(b,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function r(b,d,e){d===void 0&&(d=[]),e===void 0&&(e=!0),b=b.replace(/^ +$/gm,"");for(var g,h,z,x;b;){if(g=this.tokenizer.space(b)){b=b.substring(g.raw.length),g.type&&d.push(g);continue}if(g=this.tokenizer.code(b,d)){b=b.substring(g.raw.length),g.type?d.push(g):(x=d[d.length-1],x.raw+=`
`+g.raw,x.text+=`
`+g.text);continue}if(g=this.tokenizer.fences(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.heading(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.nptable(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.hr(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.blockquote(b)){b=b.substring(g.raw.length),g.tokens=this.blockTokens(g.text,[],e),d.push(g);continue}if(g=this.tokenizer.list(b)){for(b=b.substring(g.raw.length),z=g.items.length,h=0;h<z;h++)g.items[h].tokens=this.blockTokens(g.items[h].text,[],!1);d.push(g);continue}if(g=this.tokenizer.html(b)){b=b.substring(g.raw.length),d.push(g);continue}if(e&&(g=this.tokenizer.def(b))){b=b.substring(g.raw.length),this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.lheading(b)){b=b.substring(g.raw.length),d.push(g);continue}if(e&&(g=this.tokenizer.paragraph(b))){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.text(b,d)){b=b.substring(g.raw.length),g.type?d.push(g):(x=d[d.length-1],x.raw+=`
`+g.raw,x.text+=`
`+g.text);continue}if(b){var S="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(S);break}else throw new Error(S)}}return d},i.inline=function r(b){var d,e,g,h,z,x,S=b.length;for(d=0;d<S;d++){x=b[d];switch(x.type){case"paragraph":case"text":case"heading":{x.tokens=[],this.inlineTokens(x.text,x.tokens);break}case"table":{for(x.tokens={header:[],cells:[]},h=x.header.length,e=0;e<h;e++)x.tokens.header[e]=[],this.inlineTokens(x.header[e],x.tokens.header[e]);for(h=x.cells.length,e=0;e<h;e++)for(z=x.cells[e],x.tokens.cells[e]=[],g=0;g<z.length;g++)x.tokens.cells[e][g]=[],this.inlineTokens(z[g],x.tokens.cells[e][g]);break}case"blockquote":{this.inline(x.tokens);break}case"list":{for(h=x.items.length,e=0;e<h;e++)this.inline(x.items[e].tokens);break}}}return b},i.inlineTokens=function r(b,d,e,g){d===void 0&&(d=[]),e===void 0&&(e=!1),g===void 0&&(g=!1);var h,z=b,x,S,P;if(this.tokens.links){var aa=Object.keys(this.tokens.links);if(aa.length>0)for(;(x=this.tokenizer.rules.inline.reflinkSearch.exec(z))!=null;)aa.includes(x[0].slice(x[0].lastIndexOf("[")+1,-1))&&(z=z.slice(0,x.index)+"["+Hb("a",x[0].length-2)+"]"+z.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(x=this.tokenizer.rules.inline.blockSkip.exec(z))!=null;)z=z.slice(0,x.index)+"["+Hb("a",x[0].length-2)+"]"+z.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;b;){S||(P=""),S=!1;if(h=this.tokenizer.escape(b)){b=b.substring(h.raw.length),d.push(h);continue}if(h=this.tokenizer.tag(b,e,g)){b=b.substring(h.raw.length),e=h.inLink,g=h.inRawBlock,d.push(h);continue}if(h=this.tokenizer.link(b)){b=b.substring(h.raw.length),h.type==="link"&&(h.tokens=this.inlineTokens(h.text,[],!0,g)),d.push(h);continue}if(h=this.tokenizer.reflink(b,this.tokens.links)){b=b.substring(h.raw.length),h.type==="link"&&(h.tokens=this.inlineTokens(h.text,[],!0,g)),d.push(h);continue}if(h=this.tokenizer.strong(b,z,P)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),d.push(h);continue}if(h=this.tokenizer.em(b,z,P)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),d.push(h);continue}if(h=this.tokenizer.codespan(b)){b=b.substring(h.raw.length),d.push(h);continue}if(h=this.tokenizer.br(b)){b=b.substring(h.raw.length),d.push(h);continue}if(h=this.tokenizer.del(b)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),d.push(h);continue}if(h=this.tokenizer.autolink(b,ac)){b=b.substring(h.raw.length),d.push(h);continue}if(!e&&(h=this.tokenizer.url(b,ac))){b=b.substring(h.raw.length),d.push(h);continue}if(h=this.tokenizer.inlineText(b,g,Fc)){b=b.substring(h.raw.length),P=h.raw.slice(-1),S=!0,d.push(h);continue}if(b){var oa="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(oa);break}else throw new Error(oa)}}return d},n(l,null,[{key:"rules",get:function r(){return{block:Na,inline:Ca}}}]),l}(),Gc=N.defaults,bc=sa.cleanUrl,Za=sa.escape,ua=function(){function l(r){this.options=r||Gc}var i=l.prototype;return i.code=function r(b,d,e){var g=(d||"").match(/\S*/)[0];if(this.options.highlight){var h=this.options.highlight(b,g);h!=null&&h!==b&&(e=!0,b=h)}return g?'<pre><code class="'+this.options.langPrefix+Za(g,!0)+'">'+(e?b:Za(b,!0))+`</code></pre>
`:"<pre><code>"+(e?b:Za(b,!0))+`</code></pre>
`},i.blockquote=function r(b){return`<blockquote>
`+b+`</blockquote>
`},i.html=function r(b){return b},i.heading=function r(b,d,e,g){return this.options.headerIds?"<h"+d+' id="'+this.options.headerPrefix+g.slug(e)+'">'+b+"</h"+d+`>
`:"<h"+d+">"+b+"</h"+d+`>
`},i.hr=function r(){return this.options.xhtml?`<hr/>
`:`<hr>
`},i.list=function r(b,d,e){var g=d?"ol":"ul",h=d&&e!==1?' start="'+e+'"':"";return"<"+g+h+`>
`+b+"</"+g+`>
`},i.listitem=function r(b){return"<li>"+b+`</li>
`},i.checkbox=function r(b){return"<input "+(b?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.paragraph=function r(b){return"<p>"+b+`</p>
`},i.table=function r(b,d){return d&&(d="<tbody>"+d+"</tbody>"),`<table>
<thead>
`+b+`</thead>
`+d+`</table>
`},i.tablerow=function r(b){return`<tr>
`+b+`</tr>
`},i.tablecell=function r(b,d){var e=d.header?"th":"td",g=d.align?"<"+e+' align="'+d.align+'">':"<"+e+">";return g+b+"</"+e+`>
`},i.strong=function r(b){return"<strong>"+b+"</strong>"},i.em=function r(b){return"<em>"+b+"</em>"},i.codespan=function r(b){return"<code>"+b+"</code>"},i.br=function r(){return this.options.xhtml?"<br/>":"<br>"},i.del=function r(b){return"<del>"+b+"</del>"},i.link=function r(b,d,e){b=bc(this.options.sanitize,this.options.baseUrl,b);if(b===null)return e;var g='<a href="'+Za(b)+'"';return d&&(g+=' title="'+d+'"'),g+=">"+e+"</a>",g},i.image=function r(b,d,e){b=bc(this.options.sanitize,this.options.baseUrl,b);if(b===null)return e;var g='<img src="'+b+'" alt="'+e+'"';return d&&(g+=' title="'+d+'"'),g+=this.options.xhtml?"/>":">",g},i.text=function r(b){return b},l}(),Ib=function(){function l(){}var i=l.prototype;return i.strong=function r(b){return b},i.em=function r(b){return b},i.codespan=function r(b){return b},i.del=function r(b){return b},i.html=function r(b){return b},i.text=function r(b){return b},i.link=function r(b,d,e){return""+e},i.image=function r(b,d,e){return""+e},i.br=function r(){return""},l}(),hb=function(){function l(){this.seen={}}var i=l.prototype;return i.serialize=function r(b){return b.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},i.getNextSafeSlug=function r(b,d){var e=b,g=0;if(this.seen.hasOwnProperty(e)){g=this.seen[b];do g++,e=b+"-"+g;while(this.seen.hasOwnProperty(e))}return d||(this.seen[b]=g,this.seen[e]=0),e},i.slug=function r(b,d){d===void 0&&(d={});var e=this.serialize(b);return this.getNextSafeSlug(e,d.dryrun)},l}(),Jb=N.defaults,Hc=sa.unescape,ib=function(){function l(r){this.options=r||Jb,this.options.renderer=this.options.renderer||new ua(),this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ib(),this.slugger=new hb()}l.parse=function r(b,d){var e=new l(d);return e.parse(b)},l.parseInline=function r(b,d){var e=new l(d);return e.parseInline(b)};var i=l.prototype;return i.parse=function r(b,d){d===void 0&&(d=!0);var e="",g,h,z,x,S,P,aa,oa,fa,W,va,Oa,Pa,ta,ba,jb,_a,Ea,dc=b.length;for(g=0;g<dc;g++){W=b[g];switch(W.type){case"space":continue;case"hr":{e+=this.renderer.hr();continue}case"heading":{e+=this.renderer.heading(this.parseInline(W.tokens),W.depth,Hc(this.parseInline(W.tokens,this.textRenderer)),this.slugger);continue}case"code":{e+=this.renderer.code(W.text,W.lang,W.escaped);continue}case"table":{for(oa="",aa="",x=W.header.length,h=0;h<x;h++)aa+=this.renderer.tablecell(this.parseInline(W.tokens.header[h]),{header:!0,align:W.align[h]});for(oa+=this.renderer.tablerow(aa),fa="",x=W.cells.length,h=0;h<x;h++){for(P=W.tokens.cells[h],aa="",S=P.length,z=0;z<S;z++)aa+=this.renderer.tablecell(this.parseInline(P[z]),{header:!1,align:W.align[z]});fa+=this.renderer.tablerow(aa)}e+=this.renderer.table(oa,fa);continue}case"blockquote":{fa=this.parse(W.tokens),e+=this.renderer.blockquote(fa);continue}case"list":{for(va=W.ordered,Oa=W.start,Pa=W.loose,x=W.items.length,fa="",h=0;h<x;h++)ba=W.items[h],jb=ba.checked,_a=ba.task,ta="",ba.task&&(Ea=this.renderer.checkbox(jb),Pa?ba.tokens.length>0&&ba.tokens[0].type==="text"?(ba.tokens[0].text=Ea+" "+ba.tokens[0].text,ba.tokens[0].tokens&&ba.tokens[0].tokens.length>0&&ba.tokens[0].tokens[0].type==="text"&&(ba.tokens[0].tokens[0].text=Ea+" "+ba.tokens[0].tokens[0].text)):ba.tokens.unshift({type:"text",text:Ea}):ta+=Ea),ta+=this.parse(ba.tokens,Pa),fa+=this.renderer.listitem(ta,_a,jb);e+=this.renderer.list(fa,va,Oa);continue}case"html":{e+=this.renderer.html(W.text);continue}case"paragraph":{e+=this.renderer.paragraph(this.parseInline(W.tokens));continue}case"text":{for(fa=W.tokens?this.parseInline(W.tokens):W.text;g+1<dc&&b[g+1].type==="text";)W=b[++g],fa+=`
`+(W.tokens?this.parseInline(W.tokens):W.text);e+=d?this.renderer.paragraph(fa):fa;continue}default:{var Nb='Token with "'+W.type+'" type was not found.';if(this.options.silent){console.error(Nb);return}else throw new Error(Nb)}}}return e},i.parseInline=function r(b,d){d=d||this.renderer;var e="",g,h,z=b.length;for(g=0;g<z;g++){h=b[g];switch(h.type){case"escape":{e+=d.text(h.text);break}case"html":{e+=d.html(h.text);break}case"link":{e+=d.link(h.href,h.title,this.parseInline(h.tokens,d));break}case"image":{e+=d.image(h.href,h.title,h.text);break}case"strong":{e+=d.strong(this.parseInline(h.tokens,d));break}case"em":{e+=d.em(this.parseInline(h.tokens,d));break}case"codespan":{e+=d.codespan(h.text);break}case"br":{e+=d.br();break}case"del":{e+=d.del(this.parseInline(h.tokens,d));break}case"text":{e+=d.text(h.text);break}default:{var x='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(x);return}else throw new Error(x)}}}return e},l}(),wb=sa.merge,cc=sa.checkSanitizeDeprecation,Kb=sa.escape,Da=N.getDefaults,Lb=N.changeDefaults,Mb=N.defaults;function X(l,i,r){if(typeof l==="undefined"||l===null)throw new Error("marked(): input parameter is undefined or null");if(typeof l!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(l)+", string expected");typeof i==="function"&&(r=i,i=null),i=wb({},X.defaults,i||{}),cc(i);if(r){var b=i.highlight,d;try{d=gb.lex(l,i)}catch(z){return r(z)}var e=function z(x){var S;if(!x)try{S=ib.parse(d,i)}catch(P){x=P}return i.highlight=b,x?r(x):r(null,S)};if(!b||b.length<3)return e();delete i.highlight;if(!d.length)return e();var g=0;X.walkTokens(d,function(z){z.type==="code"&&(g++,setTimeout(function(){b(z.text,z.lang,function(x,S){if(x)return e(x);S!=null&&S!==z.text&&(z.text=S,z.escaped=!0),g--,g===0&&e()})},0))}),g===0&&e();return}try{var h=gb.lex(l,i);return i.walkTokens&&X.walkTokens(h,i.walkTokens),ib.parse(h,i)}catch(z){z.message+=`
Please report this to https://github.com/markedjs/marked.`;if(i.silent)return"<p>An error occurred:</p><pre>"+Kb(z.message+"",!0)+"</pre>";throw z}}X.options=X.setOptions=function(l){return wb(X.defaults,l),Lb(X.defaults),X},X.getDefaults=Da,X.defaults=Mb,X.use=function(l){var i=wb({},l);l.renderer&&function(){var b=X.defaults.renderer||new ua(),d=function g(h){var z=b[h];b[h]=function(){for(var x=arguments.length,S=new Array(x),P=0;P<x;P++)S[P]=arguments[P];var aa=l.renderer[h].apply(b,S);return aa===!1&&(aa=z.apply(b,S)),aa}};for(var e in l.renderer)d(e);i.renderer=b}(),l.tokenizer&&function(){var b=X.defaults.tokenizer||new ub(),d=function g(h){var z=b[h];b[h]=function(){for(var x=arguments.length,S=new Array(x),P=0;P<x;P++)S[P]=arguments[P];var aa=l.tokenizer[h].apply(b,S);return aa===!1&&(aa=z.apply(b,S)),aa}};for(var e in l.tokenizer)d(e);i.tokenizer=b}();if(l.walkTokens){var r=X.defaults.walkTokens;i.walkTokens=function(b){l.walkTokens(b),r&&r(b)}}X.setOptions(i)},X.walkTokens=function(l,i){for(var r=s(l),b;!(b=r()).done;){var d=b.value;i(d);switch(d.type){case"table":{for(var e=s(d.tokens.header),g;!(g=e()).done;){var h=g.value;X.walkTokens(h,i)}for(var z=s(d.tokens.cells),x;!(x=z()).done;)for(var S=x.value,P=s(S),aa;!(aa=P()).done;){var oa=aa.value;X.walkTokens(oa,i)}break}case"list":{X.walkTokens(d.items,i);break}default:d.tokens&&X.walkTokens(d.tokens,i)}}},X.parseInline=function(l,i){if(typeof l==="undefined"||l===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof l!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(l)+", string expected");i=wb({},X.defaults,i||{}),cc(i);try{var r=gb.lexInline(l,i);return i.walkTokens&&X.walkTokens(r,i.walkTokens),ib.parseInline(r,i)}catch(b){b.message+=`
Please report this to https://github.com/markedjs/marked.`;if(i.silent)return"<p>An error occurred:</p><pre>"+Kb(b.message+"",!0)+"</pre>";throw b}},X.Parser=ib,X.parser=ib.parse,X.Renderer=ua,X.TextRenderer=Ib,X.Lexer=gb,X.lexer=gb.lex,X.Tokenizer=ub,X.Slugger=hb,X.parse=X;var Ic=X;return Ic})});const zh=Mc(Fe()),ga=new zh.default({APIUrl:"https://flintstone.app/.netlify/identity",audience:"",setCookie:!0});const Sc=new WeakMap(),Nc=a=>(...c)=>{const f=a(...c);return Sc.set(f,!0),f},lb=a=>typeof a==="function"&&Sc.has(a);const gc=typeof window!=="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,Tc=(a,c,f=null,j=null)=>{for(;c!==f;){const n=c.nextSibling;a.insertBefore(c,j),c=n}},Rb=(a,c,f=null)=>{for(;c!==f;){const j=c.nextSibling;a.removeChild(c),c=j}};const ya={},ia={};const Ka=`{{lit-${String(Math.random()).slice(2)}}}`,jc=`<!--${Ka}-->`,bd=new RegExp(`${Ka}|${jc}`),mb="$lit$";class Yc{constructor(a,c){this.parts=[],this.element=c;const f=[],j=[],n=document.createTreeWalker(c.content,133,null,!1);let A=0,t=-1,s=0;const{strings:O,values:{length:N}}=a;for(;s<N;){const D=n.nextNode();if(D===null){n.currentNode=j.pop();continue}t++;if(D.nodeType===1){if(D.hasAttributes()){const T=D.attributes,{length:ea}=T;let Z=0;for(let J=0;J<ea;J++)cd(T[J].name,mb)&&Z++;for(;Z-- >0;){const J=O[s],o=Sb.exec(J)[2],B=o.toLowerCase()+mb,q=D.getAttribute(B);D.removeAttribute(B);const u=q.split(bd);this.parts.push({type:"attribute",index:t,name:o,strings:u}),s+=u.length-1}}D.tagName==="TEMPLATE"&&(j.push(D),n.currentNode=D.content)}else if(D.nodeType===3){const T=D.data;if(T.indexOf(Ka)>=0){const ea=D.parentNode,Z=T.split(bd),J=Z.length-1;for(let o=0;o<J;o++){let B,q=Z[o];if(q==="")B=Ra();else{const u=Sb.exec(q);u!==null&&cd(u[2],mb)&&(q=q.slice(0,u.index)+u[1]+u[2].slice(0,-mb.length)+u[3]),B=document.createTextNode(q)}ea.insertBefore(B,D),this.parts.push({type:"node",index:++t})}Z[J]===""?(ea.insertBefore(Ra(),D),f.push(D)):D.data=Z[J],s+=J}}else if(D.nodeType===8)if(D.data===Ka){const T=D.parentNode;(D.previousSibling===null||t===A)&&(t++,T.insertBefore(Ra(),D)),A=t,this.parts.push({type:"node",index:t}),D.nextSibling===null?D.data="":(f.push(D),t--),s++}else{let T=-1;for(;(T=D.data.indexOf(Ka,T+1))!==-1;)this.parts.push({type:"node",index:-1}),s++}}for(const D of f)D.parentNode.removeChild(D)}}const cd=(a,c)=>{const f=a.length-c.length;return f>=0&&a.slice(f)===c},_c=a=>a.index!==-1,Ra=()=>document.createComment(""),Sb=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class hc{constructor(a,c,f){this.__parts=[],this.template=a,this.processor=c,this.options=f}update(a){let c=0;for(const f of this.__parts)f!==void 0&&f.setValue(a[c]),c++;for(const f of this.__parts)f!==void 0&&f.commit()}_clone(){const a=gc?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),c=[],f=this.template.parts,j=document.createTreeWalker(a,133,null,!1);let n=0,A=0,t,s=j.nextNode();for(;n<f.length;){t=f[n];if(!_c(t)){this.__parts.push(void 0),n++;continue}for(;A<t.index;)A++,s.nodeName==="TEMPLATE"&&(c.push(s),j.currentNode=s.content),(s=j.nextNode())===null&&(j.currentNode=c.pop(),s=j.nextNode());if(t.type==="node"){const O=this.processor.handleTextExpression(this.options);O.insertAfterNode(s.previousSibling),this.__parts.push(O)}else this.__parts.push(...this.processor.handleAttributeExpressions(s,t.name,t.strings,this.options));n++}return gc&&(document.adoptNode(a),customElements.upgrade(a)),a}}const $c=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:a=>a}),pe=` ${Ka} `;class zb{constructor(a,c,f,j){this.strings=a,this.values=c,this.type=f,this.processor=j}getHTML(){const a=this.strings.length-1;let c="",f=!1;for(let j=0;j<a;j++){const n=this.strings[j],A=n.lastIndexOf("<!--");f=(A>-1||f)&&n.indexOf("-->",A+1)===-1;const t=Sb.exec(n);t===null?c+=n+(f?pe:jc):c+=n.substr(0,t.index)+t[1]+t[2]+mb+t[3]+Ka}return c+=this.strings[a],c}getTemplateElement(){const a=document.createElement("template");let c=this.getHTML();return $c!==void 0&&(c=$c.createHTML(c)),a.innerHTML=c,a}}class ad extends zb{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const a=super.getTemplateElement(),c=a.content,f=c.firstChild;return c.removeChild(f),Tc(c,f.firstChild),a}}const yb=a=>a===null||!(typeof a==="object"||typeof a==="function"),ic=a=>Array.isArray(a)||!!(a&&a[Symbol.iterator]);class ec{constructor(a,c,f){this.dirty=!0,this.element=a,this.name=c,this.strings=f,this.parts=[];for(let j=0;j<f.length-1;j++)this.parts[j]=this._createPart()}_createPart(){return new Uc(this)}_getValue(){const a=this.strings,c=a.length-1,f=this.parts;if(c===1&&a[0]===""&&a[1]===""){const n=f[0].value;if(typeof n==="symbol")return String(n);if(typeof n==="string"||!ic(n))return n}let j="";for(let n=0;n<c;n++){j+=a[n];const A=f[n];if(A!==void 0){const t=A.value;if(yb(t)||!ic(t))j+=typeof t==="string"?t:String(t);else for(const s of t)j+=typeof s==="string"?s:String(s)}}return j+=a[c],j}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Uc{constructor(a){this.value=void 0,this.committer=a}setValue(a){a!==ya&&(!yb(a)||a!==this.value)&&(this.value=a,lb(a)||(this.committer.dirty=!0))}commit(){for(;lb(this.value);){const a=this.value;this.value=ya,a(this)}if(this.value===ya)return;this.committer.commit()}}class ab{constructor(a){this.value=void 0,this.__pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(Ra()),this.endNode=a.appendChild(Ra())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a.__insert(this.startNode=Ra()),a.__insert(this.endNode=Ra())}insertAfterPart(a){a.__insert(this.startNode=Ra()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this.__pendingValue=a}commit(){if(this.startNode.parentNode===null)return;for(;lb(this.__pendingValue);){const c=this.__pendingValue;this.__pendingValue=ya,c(this)}const a=this.__pendingValue;if(a===ya)return;yb(a)?a!==this.value&&this.__commitText(a):a instanceof zb?this.__commitTemplateResult(a):a instanceof Node?this.__commitNode(a):ic(a)?this.__commitIterable(a):a===ia?(this.value=ia,this.clear()):this.__commitText(a)}__insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}__commitNode(a){if(this.value===a)return;this.clear(),this.__insert(a),this.value=a}__commitText(a){const c=this.startNode.nextSibling;a=a==null?"":a;const f=typeof a==="string"?a:String(a);c===this.endNode.previousSibling&&c.nodeType===3?c.data=f:this.__commitNode(document.createTextNode(f)),this.value=a}__commitTemplateResult(a){const c=this.options.templateFactory(a);if(this.value instanceof hc&&this.value.template===c)this.value.update(a.values);else{const f=new hc(c,a.processor,this.options),j=f._clone();f.update(a.values),this.__commitNode(j),this.value=f}}__commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());const c=this.value;let f=0,j;for(const n of a)j=c[f],j===void 0&&(j=new ab(this.options),c.push(j),f===0?j.appendIntoPart(this):j.insertAfterPart(c[f-1])),j.setValue(n),j.commit(),f++;f<c.length&&(c.length=f,this.clear(j&&j.endNode))}clear(a=this.startNode){Rb(this.startNode.parentNode,a.nextSibling,this.endNode)}}class Pc{constructor(a,c,f){this.value=void 0,this.__pendingValue=void 0;if(f.length!==2||f[0]!==""||f[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=c,this.strings=f}setValue(a){this.__pendingValue=a}commit(){for(;lb(this.__pendingValue);){const c=this.__pendingValue;this.__pendingValue=ya,c(this)}if(this.__pendingValue===ya)return;const a=!!this.__pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=a),this.__pendingValue=ya}}class Rc extends ec{constructor(a,c,f){super(a,c,f);this.single=f.length===2&&f[0]===""&&f[1]===""}_createPart(){return new ne(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class ne extends Uc{}let Vc=!1;(()=>{try{const a={get capture(){return Vc=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}})();class Qc{constructor(a,c,f){this.value=void 0,this.__pendingValue=void 0,this.element=a,this.eventName=c,this.eventContext=f,this.__boundHandleEvent=j=>this.handleEvent(j)}setValue(a){this.__pendingValue=a}commit(){for(;lb(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=ya,n(this)}if(this.__pendingValue===ya)return;const a=this.__pendingValue,c=this.value,f=a==null||c!=null&&(a.capture!==c.capture||a.once!==c.once||a.passive!==c.passive),j=a!=null&&(c==null||f);f&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),j&&(this.__options=oe(a),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=a,this.__pendingValue=ya}handleEvent(a){typeof this.value==="function"?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}const oe=a=>a&&(Vc?{capture:a.capture,passive:a.passive,once:a.once}:a.capture);class me{handleAttributeExpressions(a,c,f,j){const n=c[0];if(n==="."){const t=new Rc(a,c.slice(1),f);return t.parts}if(n==="@")return[new Qc(a,c.slice(1),j.eventContext)];if(n==="?")return[new Pc(a,c.slice(1),f)];const A=new ec(a,c,f);return A.parts}handleTextExpression(a){return new ab(a)}}const fc=new me();function Wc(a){let c=Zc.get(a.type);c===void 0&&(c={stringsArray:new WeakMap(),keyString:new Map()},Zc.set(a.type,c));let f=c.stringsArray.get(a.strings);if(f!==void 0)return f;const j=a.strings.join(Ka);return f=c.keyString.get(j),f===void 0&&(f=new Yc(a,a.getTemplateElement()),c.keyString.set(j,f)),c.stringsArray.set(a.strings,f),f}const Zc=new Map();const Xc=new WeakMap(),Ab=(a,c,f)=>{let j=Xc.get(c);j===void 0&&(Rb(c,c.firstChild),Xc.set(c,j=new ab(Object.assign({templateFactory:Wc},f))),j.appendInto(c)),j.setValue(a),j.commit()};typeof window!=="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const y=(a,...c)=>new zb(a,c,"html",fc),Sa=(a,...c)=>new ad(a,c,"svg",fc);let _=(a,c=document)=>c.querySelector(a),za=a=>JSON.parse(JSON.stringify(a)),Sd=(a,c)=>Object.keys(a).forEach(f=>c[f]=a[f]),ka=(a,c)=>_(`[data-index="${a}"]`,c),La=(a,c,f)=>a.style.setProperty(`--${c}`,f),Xd=(a,c,f={})=>a.forEach(j=>c[j]=c[j]||f),hd=()=>location=location.href,Vd=(a,c)=>a.split(c)[0].length,Wd=(a,c)=>a.lastIndexOf(a.match(new RegExp(c,"g")).pop()),vd=a=>{let c=new Blob([JSON.stringify(a)],{type:"application/json"});return URL.createObjectURL(c)},Kd=a=>a.replace(/</g,"%3C").replace(/{/g,"B").replace(/expression\(.+?\)/g,""),Gb=(a,c)=>c==void 0?JSON.parse(localStorage.getItem(a)):localStorage.setItem(a,JSON.stringify(c)),Cb=(a,c)=>{let f=a.target;c[f.name]=f.value},cb=(a,c)=>document.documentElement.classList.toggle(a,c);const M=({title:a="",action:c=null,type:f="",content:j="",className:n="",disabled:A=!1})=>y`<button type=${f} ?disabled=${A} title=${a} class=${n} @click=${c}>${j}</button>`;const Y=a=>y`
<modal @click=${()=>Xa(!1)} class=mount>
  ${a}
</modal>`;const Va=(a="Your email or password may be invalid")=>y`
<span>
  ${a}.
  ${M({content:"Try logging in again",className:"link underline",action:()=>L(Y(pb()))})}
  or
  ${M({content:"continue using anonymously.",className:"link underline",action:()=>L()})}
</span>`;const ob=({fields:a,formData:c})=>a.map(f=>y`
<label>
  ${f}
  <input required=true @input=${j=>Cb(j,c)}
  type=${/email|password/.test(f)?f:"text"}
  name=${f} />
</label>`);const gd=()=>{let a=["email"],c={};return y`
  <form class=mount>
    ${ob({fields:a,formData:c})}
    ${M({className:"primary",content:"Send Recovery Email",action:()=>{F("loading",!0),ga.requestPasswordRecovery(c.email).then(()=>{F("loading",!1),L(Y("Recovery email sent. Check your inbox."))}).catch(f=>{ra(f),L(Y(Va(f.message)))})}})}
    ${M({className:"link",content:"Back to sign in",action:()=>L(Y(pb()))})}
  </form>`};const nb=()=>y`
<div>
  <h1 class=mount>Welcome to <span style="color: var(--primary)">Flintstone</span>!</h1>
  <p>The tool for creating formal-ish documents on the go.</p>
</div>
<form class="mount">
${M({content:"Start from scratch",className:"primary",action:()=>Eb.then(a=>{k.savedLocally=!0,k.loading=!1,k.currentUser.styles=a.currentUser.styles,Bb(),L(),ja(!0),console.log(k.currentUser.styles)})})}
${M({content:"Use the starter template",className:"link",action:()=>Eb.then(a=>{Sd(a,k),k.savedLocally=!0,k.loading=!1,Bb(),L(),ja(!0)}).catch(a=>{ra(a),L(Y(Va(a.message)))})})}
</form>`;function pb(){let a={};return y`
  <form class=mount>
    <label>
      Email
      <input required @input=${c=>Cb(c,a)} type=email name=email />
    </label>
    <label>
      Password
      <input required @input=${c=>Cb(c,a)} type=password name=password />
      ${M({className:"link",content:"Forgot Password",action:()=>L(Y(gd()))})}
    </label>

    ${M({className:"primary",content:"Sign In",action:()=>{F("loading",!0),ga.login(a.email,a.password,!0).then(()=>{ja(!0),hd()}).catch(c=>{ra(c),L(Y(Va(c.message)))})}})}
    ${M({className:"link",content:"Continue using anonymously",action:()=>k.savedLocally?L():L(Y(nb()))})}
  </form>`}const id=()=>{let a=ga.currentUser();return y`
  <form class=mount>
    ${M({className:"primary",content:"Sign Out",action:()=>{F("loading",!0),ga.currentUser().logout().then(()=>location=location.href)}})}
    ${M({className:"link",content:y`Continue as <strong>${a.user_metadata.full_name||a.email}</strong>`,action:()=>L()})}
  </form>`};const jd=()=>{let a=["name","email","password"],c={};return y`
  <form class=mount>
    ${ob({fields:a,formData:c})}
    ${M({className:"primary",content:"Create Account",action:()=>{F("loading",!0),ga.signup(c.email,c.password,{full_name:c.name}).then(()=>{F("loading",!1),L(Y("Confirmation email sent. Check your inbox."))}).catch(f=>{ra(f),L(Y(Va(f.message)))})}})}
    ${M({className:"link",content:"Continue using anonymously",action:()=>k.savedLocally?L():L(Y(nb()))})}
  </form>`};const bb=({content:a,className:c=""})=>Sa`
<svg class=${c} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 216 216">
  ${a}
</svg>`;const Ta=a=>{a==void 0?(Ya("showStyles",!Ma.showStyles),L()):(Ya("showStyles",a),L())};const Gd=()=>{k.loading=!0,k.showPreview=!0,L(),setTimeout(()=>{print(),F("loading",!1)},500)};let vc="flintstone_data",wc="flintstone_preferences",Td={expandedAdjustments:[],shortcutReady:!1,exportSelection:{},forImport:{},importSelection:{},currentUser:{documents:[{id:"New Document",body:""}],datasets:[{id:"New Data",fields:[["",""]]}],styles:{}}},Ud={dark:!1,showStyles:!1,showMenu:!1},Ga=["documents","datasets"],kc=["Shift","Control"];const ud=(a,c,f)=>{let j=`${a.id}_${c}`,n=A=>{A.target.checked?k.exportSelection[f].push(za(a)):k.exportSelection[f]=k.exportSelection[f].filter(t=>t.id!=a.id),L(Y(Ub()))};return y`
  <label class=flex style="margin-bottom: .5rem">
    <input name=${j} type=checkbox @input=${n} />
    <h3>${a.id}</h3>
  </label>`};const pc=a=>{var j;let c,f=new FileReader();k.forImport={},((j=a.dataTransfer)==null?void 0:j.items)?(a.preventDefault(),c=a.dataTransfer.items[0].getAsFile()):a.dataTransfer?(a.preventDefault(),c=a.dataTransfer.files[0]):c=a.target.files[0],f.onerror=ra,f.onload=function(){let n=JSON.parse(this.result);Ga.map(A=>k.forImport[A]=n[A]||[]),k.importSelection=za(k.forImport),k.loading=!1,L(Y(Wa()))},F("loading",!0),f.readAsText(c)};const Wa=()=>Object.keys(k.forImport).length?y`
  <form class=mount>
    ${Ga.map(a=>Vb(k.forImport,a,"import"))}
    ${M({className:"primary",content:"Import Selected",disabled:!Ga.some(a=>{var c;return(c=k.importSelection[a])==null?void 0:c.length}),action:()=>{for(let a of Ga)k.currentUser[a]=k.currentUser[a].concat(k.importSelection[a]);F("forImport",{})}})}
    ${M({className:"link",content:"Back to editing",action:()=>L()})}
  </form>`:y`
  <input class=mount type=file accept=".json" @input=${pc} @dragleave=${a=>{a.preventDefault(),L()}} @drop=${pc} />
  <h3 class=mount style="pointer-events: none;">Click or drop a file to import it.</h3>`;const wd=(a,c,f)=>{let j=`${a.id}_${c}`,n=A=>{A.target.checked?k.importSelection[f].push(za(a)):k.importSelection[f]=k.importSelection[f].filter(t=>t.id!=a.id),L(Y(Wa()))};return y`
  <label class=flex style="margin-bottom: .5rem">
    <input checked name=${j} type=checkbox @input=${n} />
    <h3>${a.id}</h3>
  </label>`};const Vb=(a,c,f)=>{var j;return y`
<div style="width: 100%">
  ${a[c]&&((j=Object.keys(a[c]))==null?void 0:j.length)?y`
      <label style="margin-bottom: .5rem;">${c}</label>
      ${a[c].map((n,A)=>{if(f=="import")return wd(n,A,c);if(f=="export")return ud(n,A,c)})}`:ia}
</div>`};const Ub=()=>y`
<form class=mount>
  ${Ga.map(a=>Vb(k.currentUser,a,"export"))}
  <a class="button primary" 
  ?disabled=${!Ga.some(a=>{var c;return(c=k.exportSelection[a])==null?void 0:c.length})} 
  href=${vd(k.exportSelection)} 
  download="Flintstone Export (${new Date().toLocaleDateString()})">
    Export Selected
  </a>
  ${M({className:"link",content:"Back to editing",action:()=>L()})}
</form>`;const Ed=()=>y`
<nav>
${M({className:"icon",content:`✨ ${Ma.showStyles?"Close":"Open"} style editor`,action:()=>{Xa(!1),Ta()}})}
${M({className:"icon",content:"🖨️ Print current document",action:Gd})}
${M({className:"icon",content:"⛵ Start an import",action:()=>L(Y(Wa()))})}
${M({className:"icon",content:"🚚 Start an export",action:()=>{k.exportSelection={},Ga.map(a=>k.exportSelection[a]=[]),L(Y(Ub()))}})}
${M({className:"icon",content:y`<light>🌞</light><dark>🌝</dark> Switch to <light>dark</light><dark>light</dark> theme`,action:()=>Ya("dark",!Ma.dark)})}
</nav>`;const Fd=()=>y`
<div id=logo>
  <light>
    <desktop-only>
      <img alt="Flintstone logo" src="logo.svg" />
    </desktop-only>
    <mobile-only>
      <img alt="Flintstone logo" src="logo-icon.svg" />
    </mobile-only>
  </light>
  <dark>
    <desktop-only>
      <img alt="Flintstone logo" src="logo-light.svg" />
    </desktop-only>
    <mobile-only>
      <img alt="Flintstone logo" src="logo-icon-light.svg" />
    </mobile-only>
  </dark>
</div>`;const Db=()=>{let a=ga.currentUser();return y`
  ${Fd()}
  ${a?ia:M({className:"primary",content:"Sign up",action:()=>L(Y(jd()))})}
  ${M({className:"link",content:a?y`Signed in as <strong>${a.user_metadata.full_name||a.email}</strong>`:"Sign in",action:a?()=>L(Y(id())):()=>L(Y(pb()))})}
  ${k.savedLocally?y`<separator></separator>`:ia}
  ${k.savedLocally?M({title:`${k.showMenu?"Close":"Open"} menu`,content:bb({content:Sa`
            <line y1="30" x2="100%" y2="30"/>
            <line y1="50%" x2="100%" y2="50%"/>
            <line y1="186" x2="100%" y2="186"/>`}),className:"icon menu-toggle",action:()=>Xa()}):ia}
  ${Ed()}`};const Xa=a=>{a==void 0?(Ya("showMenu",!Ma.showMenu),Ab(Db(),_("header"))):(Ya("showMenu",a),Ab(Db(),_("header")))};class la{constructor(a,c=()=>null){this.elements=Array.isArray(a)?a:[a],this.modifier=c,this.duration=300}added(){let a=this.elements[0];a.style.transition="none",a.style.opacity=0,La(a,"translateY",1),La(a,"scaleY",0),setTimeout(()=>{a.style.transition="",a.style.opacity=1,La(a,"translateY",0),La(a,"scaleY",1)},10)}removed(){let{elements:a,duration:c,modifier:f}=this,j=a[0];j.style.opacity=0,La(j,"scaleY",0),setTimeout(()=>{f(),j.style.transition="none",j.style.opacity=1,La(j,"scaleY",1),setTimeout(()=>j.style.transition="",c)},c)}swapped(a){let[c,f]=this.elements;La(c,"translateY",a),La(f,"translateY",a*-1),this.elements.map(j=>j.style.transition="none"),setTimeout(()=>{this.elements.map(j=>{j.style.transition="",La(j,"translateY",0)}),this.modifier()},10)}}const Tb=a=>{F("currentDataset",k.currentUser.datasets[a])};const kd=()=>{var n;let a={id:"New Data",fields:[["",""]]},c=k.currentUser.datasets.length;k.currentUser.datasets.push(a),Tb(c);let f=ka(c,_(".data .sets")),j=new la(f);j.added(),(n=_(".data [data-active] input"))==null?void 0:n.focus(),ja()};const ld=()=>{k.currentDataset.fields.push(["",""]),F("currentDataset",k.currentDataset,!0);let a=ka(k.currentDataset.fields.length-1,_(".fields"));new la(a).added()};const md=a=>{let c=k.currentUser.datasets[a],f=za(c);f.id=c.id+" copy",k.currentUser.datasets.push(f),F("currentUser",k.currentUser),F("currentDataset",f,!0);let j=ka(a+1,_(".data .sets")),n=new la(j);n.added()};const nd=a=>{let c=k.currentUser.datasets,f=c[a];if(!confirm(`Are you sure you want to delete ${f.id}?`))return;let j=ka(a,_(".data .sets")),n=new la(j,()=>{c.splice(a,1),k.currentUser.datasets=c,F("currentDataset",k.currentUser.datasets[0],!0)});n.removed()};const od=a=>{k.currentDataset.id=a,F("currentDataset",k.currentDataset,!0)};const rd=a=>{let c=ka(a,_(".fields")),f=new la(c,()=>{k.currentDataset.fields.splice(a,1),F("currentDataset",k.currentDataset,!0)});f.removed()};const sd=(a,c)=>{let[f,j]=k.currentDataset.fields[a];k.currentDataset.fields[a]=[c,j],F("currentDataset",k.currentDataset,!0)};const td=(a,c)=>{let[f,j]=k.currentDataset.fields[a];k.currentDataset.fields[a]=[f,c],F("currentDataset",k.currentDataset,!0)};const oc=(a,c)=>{document.activeElement.blur();let f=c>0?"down":"up",j=k.currentDataset.fields[a],n=a+c,A=_(".fields"),t=ka(a,A),s=ka(n,A);k.currentDataset.fields.splice(a,1),k.currentDataset.fields.splice(n,0,j),F("currentDataset",k.currentDataset,!0);let O=new la([t,s],()=>_(`[title*="${f}"]`,s).focus());O.swapped(c)};const pd=([a,c],f,j)=>{let n=`${j}_${f}_key`,A=`${j}_${f}_value`;return y`
  <li data-index=${f}>
    <key>
      <input 
      title="Rename this field"
      type=text
      .value=${a} 
      id=${n}
      @input=${t=>sd(f,t.target.value)} />
    </key>
    <value>
      <input 
      title="Change the value this field"
      type=text
      .value=${c} 
      id=${A}
      @input=${t=>td(f,t.target.value)} />
    </value>
    <actions>
      <div class=join-buttons>
        ${M({title:"Move field up",className:"icon",disabled:f==0,content:bb({content:Sa`<polyline points="184.69 146.81 108 70.12 31.31 146.81" />`,className:"line"}),action:()=>oc(f,-1)})}
        ${M({title:"Move field down",className:"icon",disabled:f==k.currentDataset.fields.length-1,content:bb({content:Sa`<polyline points="184.69 70.12 108 146.81 31.31 70.12" />`,className:"line"}),action:()=>oc(f,1)})}
      </div>
      ${M({title:"Delete field",className:"icon",content:"🗑️",action:()=>rd(f)})}
    </actions>
  </li>
  `};const qd=()=>{let a=k.currentDataset;return y`
  <div @click=${()=>Ta(!1)} class="pane data">
    <label for="currentDatasetTitle">Current data</label>
    ${a?y`
      <div class="selection mount">

        <div class="selection__header">
          <h2 data-active=true>
            <input 
            id=currentDatasetTitle
            title="Rename the current data set"
            type=text 
            .value=${a.id} 
            @input=${c=>od(c.target.value)} />
          </h2>
        </div>

        <ul class="fields">
        ${a.fields.length?y`
            <li>
              <label>Name</label>
              <label>Value</label>
              <span></span>
            </li>`:ia}
        ${a.fields.map((c,f)=>pd(c,f,a.id))}
          <button @click=${ld}>Add Field</button>
        </ul>

      </div>`:ia}

    <label>All data</label>
    <ul class="sets mount">
      ${k.currentUser.datasets.map((c,f)=>y`
      <li data-index=${f}>
        ${M({title:`Select ${c.id}`,className:"link",action:()=>Tb(f),content:y`<h4>${c.id}</h4>`})}
        ${M({title:`Duplicate ${c.id}`,className:"icon",action:()=>md(f),content:"📄"})}
        ${k.currentUser.datasets.length>1?M({title:`Delete ${c.id}`,className:"icon",action:()=>nd(f),content:"🗑️"}):ia}
      </li>`)}
      <button @click=${kd}>Add Data</button>
    </ul>
  </div>`};const Wb=a=>{F("currentDocument",k.currentUser.documents[a])};const zd=()=>{var n;let a={id:"New Document",body:""},c=k.currentUser.documents.length;k.currentUser.documents.push(a),Wb(c);let f=ka(c,_(".documents .sets")),j=new la(f);j.added(),(n=_(".documents [data-active] input"))==null?void 0:n.focus(),ja()};const Ad=a=>{let c=k.currentUser.documents,f=c[a];if(!confirm(`Are you sure you want to delete ${f.id}?`))return;let j=ka(a,_(".documents .sets")),n=new la(j,()=>{c.splice(a,1),k.currentUser.documents=c,F("currentDocument",k.currentUser.documents[0],!0)});n.removed()};const Bd=a=>{k.currentDocument.id=a,F("currentDocument",k.currentDocument,!0)};const Cd=a=>{let c=k.currentUser.documents[a],f=za(c);f.id=c.id+" copy",k.currentUser.documents.push(f),F("currentUser",k.currentUser),F("currentDocument",f,!0);let j=ka(k.currentUser.documents.length-1,_(".documents .sets")),n=new la(j);n.added()};let qc=a=>`page_${a+1}`,ve=/\n\s*\-{3,}\s*\n/;const yd=()=>{let a=k.currentDocument.body,c=n=>{var A;F("showPreview",!0),(A=_("#"+qc(n)))==null?void 0:A.scrollIntoView()},f=n=>{let A=n.match(/.+?(\n|$)/)[0],t=A.trim();return t.replace(/^[^A-z0-9]*|[^A-z0-9]*$/g,"")},j=a.split(ve);return j.length||(j=[a]),y`
  <div class=toc-wrapper>
    <h3>Pages</h3>
    <ol class=toc>
      ${j.map((n,A)=>y`
        <li>
          <button class=link @click=${()=>c(A)}>
            ${A+1}. ${f(n)}
          </button>
        </li>`)}
    </ol>
  </div>`};const Dd=()=>{let a=k.currentDocument;return y`
  <div class="pane documents">
    <label for="currentDocumentTitle">Current document</label>
    ${a?y`
      <div class="selection mount">

        <div class="selection__header">
          <h2 data-active=true>
            <input 
            type=text 
            id=currentDocumentTitle
            .value=${a.id} 
            @input=${c=>Bd(c.target.value)} />
          </h2>
        </div>
        
        ${a.body.length?yd():ia}
      </div>
      `:ia}

    <label>All documents</label>
    <ul class="sets mount">
      ${k.currentUser.documents.map((c,f)=>y`
      <li data-index=${f}>
        ${M({title:`Select ${c.id}`,className:"link",action:()=>Wb(f),content:y`<h4>${c.id}</h4>`})}
        ${M({title:`Duplicate ${c.id}`,className:"icon",action:()=>Cd(f),content:"📄"})}
        ${k.currentUser.documents.length>1?M({title:`Delete ${c.id}`,className:"icon",action:()=>Ad(f),content:"🗑️"}):ia}
      </li>`)}
      <button @click=${zd}>Add Document</button>
    </ul>
  </div>`};const Oc=new WeakMap(),Qb=Nc(a=>c=>{if(!(c instanceof ab))throw new Error("unsafeHTML can only be used in text bindings");const f=Oc.get(c);if(f!==void 0&&yb(a)&&a===f.value&&c.value===f.fragment)return;const j=document.createElement("template");j.innerHTML=a;const n=document.importNode(j.content,!0);c.setValue(n),Oc.set(c,{value:a,fragment:n})});const Sj=Mc(Ee()),Tj=Mc(Se());function ue(a){for(let[c,f]of k.currentDataset.fields)if(c==a)return f}function rc(a){return ue(a.slice(1,-1).trim(),k.currentDataset.fields)}let sc=/\{.+?\}/g;const xd=()=>{if(!k.currentDocument.body.length)return y`
    <div class=preview__page>
      <p>
        Write something in <a class=link @click=${()=>F("showPreview",!1)}>the editor</a> to see it
        show
        up here.
      </p>
    </div>`;let a=k.currentDocument.body.replace(sc,rc),c=Sj.sanitize(Tj.default(a));return c.split("<hr>").map((f,j)=>y`
      <div id=${qc(j)} class=preview__page>
        ${Qb(f)}
      </div>`)};const Hd=()=>{let a=([f,j])=>{if(/content|font-family/i.test(f))if(j.length)j='"'+j.replace(/"/g,'\\"')+'"';else return;return j=j.replace(sc,rc),[f,Kd(j)].join(":")},c=`\r
  <style>${Object.entries(k.currentUser.styles).map(([f,j])=>`.preview ${f} {\r
        ${Object.entries(j).map(a).join(";")}\r
      }`).join("")}</style>`;return y`

  <toolbar>
    <button 
    ?data-active=${!k.showPreview} 
    title="Show editor" 
    class=icon
    @click=${()=>F("showPreview",!1)}>
      ✍️
    </button>
    <button 
    ?data-active=${k.showPreview} 
    title="Show preview" 
    class=icon
    @click=${()=>F("showPreview",!0)}>
      👀
    </button>
    <a 
    title="Format your text like a pro with the Markdown cheatsheet."
    class="button icon" 
    rel="noopener"
    target=_blank 
    href="https://www.markdownguide.org/cheat-sheet/">
      ❓
    </a>
  </toolbar>

  ${k.showPreview?y`
      <div class=preview>
        <div class=preview__wrapper>
          ${xd()}
        </div>
      </div>
      ${Qb(c)}`:y`
      <textarea 
      class=editor 
      placeholder="Start typing when you're ready..."
      @input=${f=>{k.currentDocument.body=f.target.value,ja()}}>${k.currentDocument.body}</textarea>`}`};let rb=["font-family","font-size","font-weight","line-height","letter-spacing","text-transform","text-align","color"],Yb=["font-weight","text-transform","color"],Zd=["content","color","font-size","font-weight","text-transform","letter-spacing","text-align"],_d=["padding-left","padding-right","color","list-style"],$d=["font-size","font-weight","text-transform","text-align","color"],qb={".preview__wrapper":{normieName:"global",useAdjustments:["font-family","font-size","line-height","--vertical-space"]},".preview__page":{normieName:"pages",useAdjustments:["padding-top","padding-bottom","padding-left","padding-right"]},".preview__wrapper::before":{normieName:"header",useAdjustments:Zd},".preview__wrapper::after":{normieName:"footer",useAdjustments:Zd},h1:{normieName:"level 1 headings",useAdjustments:rb},h2:{normieName:"level 2 headings",useAdjustments:rb},h3:{normieName:"level 3 headings",useAdjustments:rb},h4:{normieName:"level 4 headings",useAdjustments:rb},h5:{normieName:"level 5 headings",useAdjustments:rb},h6:{normieName:"level 6 headings",useAdjustments:rb},a:{normieName:"links",useAdjustments:Yb},strong:{normieName:"bold text",useAdjustments:Yb},em:{normieName:"italic Text",useAdjustments:Yb},del:{normieName:"strikethroughs",useAdjustments:Yb},ul:{normieName:"unordered lists",useAdjustments:_d},ol:{normieName:"ordered lists",useAdjustments:_d},blockquote:{normieName:"block quotes",useAdjustments:["color","padding-left","padding-right","border-width","border-color"]},img:{normieName:"images",useAdjustments:["width"]},th:{normieName:"table headings",useAdjustments:$d},td:{normieName:"table cells",useAdjustments:$d}};class xc{constructor(a){this.type=a}}class Zb extends xc{constructor({placeholder:a}){super("text");this.placeholder=a||""}}class Ha extends xc{constructor({min:a,max:c,step:f,unit:j}){super("range");this.min=a||0,this.max=c||100,this.step=f||1,this.unit=j||""}}class yc extends xc{constructor({options:a,defaultValue:c}){super("select");this.options=a||[],this.defaultValue=c||""}}let Ld={content:new Zb({placeholder:"{ date }"}),"font-family":new Zb({placeholder:"Helvetica"}),"font-size":new Ha({min:8,max:72,step:1,unit:"px"}),"font-weight":new Ha({min:300,max:900,step:50}),"letter-spacing":new Ha({min:-5,max:5,step:.2,unit:"px"}),"line-height":new Ha({min:.5,max:3,step:.1}),"--vertical-space":new Ha({min:0,max:56,step:1,unit:"px"}),"text-transform":new yc({defaultValue:"none",options:["capitalize","uppercase","lowercase","none"]}),"text-align":new yc({defaultValue:"left",options:["left","center","right"]}),width:new Ha({min:0,max:100,step:1,unit:"%"}),"list-style":new yc({defaultValue:"disc",options:["disc","circle","square","decimal","lower-alpha","upper-alpha","lower-roman","upper-roman","none"]}),color:new Zb({placeholder:"Tomato"}),"border-color":new Zb({placeholder:"DodgerBlue"}),"border-width":new Ha({min:0,max:10,step:.5,unit:"px"}),"padding-top":new Ha({min:0,max:56,step:1,unit:"px"}),"padding-bottom":new Ha({min:0,max:56,step:1,unit:"px"}),"padding-left":new Ha({min:0,max:56,step:1,unit:"px"}),"padding-right":new Ha({min:0,max:56,step:1,unit:"px"})};const Xb=(a,c,f)=>{k.currentUser.styles[a][c]=f,F("currentUser",k.currentUser,!0)};let uc=a=>a.replace(/-+/g," ").trim(),we=a=>parseFloat(a.replace(/turn|deg|pt|px|rem|em|ch|in|vw|vh|%/g,"").trim()),Md=([a,{normieName:c}],[f,{min:j,max:n,step:A,unit:t}])=>{let s=k.currentUser.styles[a][f]||"",O=we(s),N=uc(f);return y`
  <label>
    <span class=label>
      <span class=label__name>${N}</span>
      <span class=label__value>${s||""}</span>
    </span>
    <input 
    title='Change ${c} ${N}'
    min=${j}
    max=${n}
    step=${A}
    .value=${O}
    type=range
    @input=${D=>Xb(a,f,D.target.value+t)} />
  </label>`},Od=([a,{normieName:c}],[f,{placeholder:j}])=>{let n=k.currentUser.styles[a][f],A=uc(f);return y`
  <label>
    <span class=label>
      <span class=label__name>${A}</span>
    </span>
    <input
    title='Change ${c} ${A}'
    placeholder=${j}
    .value=${n||""}
    type=text
    @input=${t=>Xb(a,f,t.target.value)} />
  </label>`},Nd=([a,{normieName:c}],[f,{options:j,defaultValue:n}])=>{let A=k.currentUser.styles[a][f]||n,t=uc(f);return y`
  <label>
    <span class=label>
      <span class=label__name>${t}</span>
    </span>
    <select
    title='Change ${c} ${t}'
    .value=${A||""}
    @input=${s=>Xb(a,f,s.target.value)}>
      ${j.map(s=>y`<option ?selected=${s==A}>${s}</option>`)}
    </select>
  </label>`};const tc=a=>{let c=document.createElement("style");c.id="temp",c.innerHTML=`\r
  .preview ${a} {\r
    box-shadow: 0 0 0 var(--borderWidth) var(--primary-80);\r
    border-radius: var(--radius);\r
    transition: box-shadow var(--transition);\r
  }`,document.body.appendChild(c)};const Pd=a=>{Eb.then(c=>{let f=k.currentUser.styles;f[a]=za(c.currentUser.styles[a]),k.expandedAdjustments.push(qb[a].normieName),F("currentUser",k.currentUser,!0)})};const Qd=a=>{let c=k.expandedAdjustments,f=c.includes(a);f?c.splice(c.indexOf(a),1):c.push(a),F("expandedAdjustments",c)};const Rd=([a,{normieName:c,useAdjustments:f}])=>{let j=k.expandedAdjustments.includes(c);return y`
  <div 
  class=adjustment 
  ?data-expanded=${j}
  @mouseenter=${()=>tc(a)} 
  @touchstart=${()=>tc(a)}
  @mouseleave=${()=>{var n;return(n=_("#temp"))==null?void 0:n.remove()}}
  @touchend=${()=>{var n;return(n=_("#temp"))==null?void 0:n.remove()}}>

    <button class=adjustment__header @click=${()=>Qd(c)}>
      <h3 class=adjustment__header--title>${c}</h3>
      <div class=adjustment__header--actions>
      ${M({title:`Reset ${c.replace(/s$/,"")} styles`,className:"icon",disabled:!j,content:"↩",action:()=>Pd(a)})}
      </div>
    </button>
    
    ${j?Object.entries(Ld).map(([n,A])=>{if(!f.includes(n))return;let t=[a,{normieName:c,useAdjustments:f}],s=[n,A];switch(A.type){case"range":return Md(t,s);case"text":return Od(t,s);case"select":return Nd(t,s)}}):ia}
  </div>`};const Id=()=>y`
<div class="styles">
  <div class=styles__header>
  ${k.showPreview?y`
      <p class=hint>
        Change the look and feel of your document here.
      </p>`:y`
      <p class=hint>
        <button class="link primary" @click=${()=>F("showPreview",!0)}>Show the document preview</button> to see your
        changes.
      </p>`}
  <actions>
  ${M({title:"Close style editor",className:"icon",content:bb({content:Sa`<path d="M73.67,26.62,155.05,108,73.67,189.38" />`,className:"line"}),action:()=>Ta(!1)})}
  </actions>
  </div>
  <div class=adjustments>
    ${Object.entries(qb).map(Rd)}
  </div>
</div>`;const Jd=()=>y`
<main 
@click=${()=>Xa(!1)}
@dragleave=${L}
@dragenter=${()=>L(Y(Wa()))}
@dragover=${a=>a.preventDefault()}>
  <section @click=${()=>Ta(!1)} class="aside left">${Dd()}</section>
  <section @click=${()=>Ta(!1)} class="center">${Hd()}</section>
  <section class="aside right">
    ${qd()}
    ${Id()}
  </section>
</main>`;let ye=ga.currentUser(),da=Gb(vc)||Td,Yd=setTimeout(()=>0,0);const k=da;let mc=ye==null?void 0:ye.getUserData(),Eb=fetch("/defaults.json").then(a=>a.json()),Ma=Gb(wc)||Ud;function Bb(){da.currentDataset=da.currentUser.datasets[0],da.currentDocument=da.currentUser.documents[0],da.savedLocally=da.savedLocally||!1,da.showPreview=da.showPreview||!1,da.showStyles=da.showStyles||!1,da.expandedAdjustments=da.expandedAdjustments||["global","pages"],da.currentUser.styles=da.currentUser.styles||{},Xd(Object.keys(qb),da.currentUser.styles),ze()}function ra(a){console.error(a),da.error=a.message,da.loading=!1,cb("error",!0)}function ja(a=!1){da.savedLocally=!0;let c=2000,f=a?0:c;clearTimeout(Yd),Yd=setTimeout(j,f),cb("working",!0);function j(){if(ga.currentUser())return ga.currentUser().update({data:{flintstone:JSON.stringify(da.currentUser)}}).then(()=>{da.error=!1,cb("working",!1)}).catch(ra);try{da.error=!1,Gb(vc,da),cb("working",!1)}catch(n){ra(n)}}}function L(a=Jd()){Ab(y`
    <div id=app ?data-loading=${da.loading}>
      <header>${Db()}</header>
      ${a}
      <loader></loader>
      <status-message>
        ${da.error?`Error: ${da.error}`:"All changes saved"}
      </status-message>
    </div>`,document.body)}function ze(){for(let[a,c]of Object.entries(Ma))cb(a,c)}function Ya(a,c){Ma[a]=c,cb(a,c),Gb(wc,Ma)}function F(a,c,f){da[a]=c,L(),f&&ja()}const ed=a=>{let c=["name","password"],f={};return y`
  <form class=mount>
    ${ob({fields:c,formData:f})}
    ${M({className:"primary",content:"Create Account & Sign In",action:()=>{F("loading",!0),ga.acceptInvite(a,f.password,!0).then(()=>{ga.currentUser().update({full_name:f.name}),F("loading",!1)}).catch(j=>{ra(j),renderAll(Modal(AuthError(j.message)))})}})}
  </form>`};const fd=()=>{let a;return y`
  <form class=mount>
    <label>
      New Password
      <input required @input=${c=>a=c.target.value} minlength=8 type=password name=password />
    </label>
    ${M({className:"primary",content:"Save New Password",action:()=>{F("loading",!0),ga.currentUser().update({password:a}).then(()=>{F("loading",!1),ja(!0)}).catch(c=>{ra(c),renderAll(Modal(AuthError(c.message)))})}})}
  </form>`};const Fb=a=>{let c=_(".editor");if(document.activeElement!=c)return;let{selectionStart:f,selectionEnd:j}=c,n=k.currentDocument.body,A=a.length,t=A*-1,s=/\s/,O=!1,N=n.substring(f,j),D=n.substr(0,f),T=n.substr(j);if(N.length){let Z=D.slice(t)==a,J=T.slice(0,A)==a;O=Z&&J,O&&(k.currentDocument.body=D.slice(0,t)+N+T.slice(A)),O||(k.currentDocument.body=D+a+N+a+T)}if(!N.length){let Z=D.split(s).pop()+T.split(s).shift(),J=D.substr(0,Wd(D,s)+1),o=T.substr(Vd(T,s)),B=Z.slice(0,A)==a,q=Z.slice(t)==a;O=B&&q,Z=O?Z.slice(A,t):a+Z+a,k.currentDocument.body=J+Z+o}c.value=k.currentDocument.body,ja();let ea=O?t:A;c.selectionStart=f+ea,c.selectionEnd=j+ea};const xe={b:()=>Fb("**"),i:()=>Fb("_"),"`":()=>Fb("`"),Delete:()=>Fb("~")},lc=xe;k.loading=!0;let nc=()=>{Bb();if(location.hash&&location.hash.length){let[a,c]=location.hash.slice(1).split("=");location.replace("#"),history.replaceState(null,null,location.href.slice(0,-1)),k.loading=!1;if(a&&c)switch(a){case"recovery_token":ga.recover(c,!0).then(()=>L(Y(fd())));break;case"confirmation_token":ga.confirm(c,!0).then(()=>{L(),ja(!0)});break;case"invite_token":L(Y(ed(c)));break}}else k.loading=!1,L(),ja(!0)};mc?mc.then(a=>{k.currentUser=JSON.parse(a.user_metadata.flintstone),nc()}).catch(a=>{console.log(a),nc()}):k.savedLocally?nc():(k.loading=!1,L(Y(nb())));addEventListener("keydown",a=>{var c;kc.some(f=>f==a.key)?k.shortcutReady=!0:k.shortcutReady&&lc[a.key]&&(a.preventDefault(),(c=lc[a.key])==null?void 0:c.call())});addEventListener("keyup",a=>{kc.some(c=>c==a.key)&&(k.shortcutReady=!1)});})();

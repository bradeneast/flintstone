(()=>{let Ic=Object.defineProperty,ee=Object.prototype.hasOwnProperty,$a=a=>{let d;return()=>(d||(d={exports:{}},a(d.exports,d)),d.exports)},Jc=a=>{if(a&&a.__esModule)return a;let d={};Ic(d,"default",{value:a,enumerable:!0});for(let f in a)ee.call(a,f)&&f!=="default"&&Ic(d,f,{get:()=>a[f],enumerable:!0});return d};var le=$a(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var j=function(){function C(y,s){var Q=[],N=!0,I=!1,Z=void 0;try{for(var ha=y[Symbol.iterator](),da;!(N=(da=ha.next()).done);N=!0){Q.push(da.value);if(s&&Q.length===s)break}}catch(L){I=!0,Z=L}finally{try{!N&&ha.return&&ha.return()}finally{if(I)throw Z}}return Q}return function(y,s){if(Array.isArray(y))return y;{if(Symbol.iterator in Object(y))return C(y,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();a.getPagination=n;function n(C){var y=C.headers.get("Link"),s={};if(y==null)return null;y=y.split(",");for(var Q=C.headers.get("X-Total-Count"),N=0,I=y.length;N<I;N++){var Z=y[N].replace(/(^\s*|\s*$)/,""),ha=Z.split(";"),da=j(ha,2),L=da[0],o=da[1],A=L.match(/page=(\d+)/),q=A&&parseInt(A[1],10);o.match(/last/)?s.last=q:o.match(/next/)?s.next=q:o.match(/prev/)?s.prev=q:o.match(/first/)&&(s.first=q)}return s.last=Math.max(s.last||0,s.prev&&s.prev+1||0),s.current=s.next?s.next-1:s.last||1,s.total=Q?parseInt(Q,10):null,s}});var ad=$a(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.JSONHTTPError=a.TextHTTPError=a.HTTPError=a.getPagination=void 0;var j=Object.assign||function(L){for(var o=1;o<arguments.length;o++){var A=arguments[o];for(var q in A)Object.prototype.hasOwnProperty.call(A,q)&&(L[q]=A[q])}return L},n=function(){function L(o,A){for(var q=0;q<A.length;q++){var t=A[q];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}return function(o,A,q){return A&&L(o.prototype,A),q&&L(o,q),o}}(),C=le();Object.defineProperty(a,"getPagination",{enumerable:!0,get:function L(){return C.getPagination}});function y(L,o){if(!(L instanceof o))throw new TypeError("Cannot call a class as a function")}function s(L,o){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o==="object"||typeof o==="function")?o:L}function Q(L,o){if(typeof o!=="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);L.prototype=Object.create(o&&o.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(L,o):L.__proto__=o)}function N(L){function o(){var A=Reflect.construct(L,Array.from(arguments));return Object.setPrototypeOf(A,Object.getPrototypeOf(this)),A}return o.prototype=Object.create(L.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(o,L):o.__proto__=L,o}var I=a.HTTPError=function(L){Q(o,L);function o(A){y(this,o);var q=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,A.statusText));return q.name=q.constructor.name,typeof Error.captureStackTrace==="function"?Error.captureStackTrace(q,q.constructor):q.stack=new Error(A.statusText).stack,q.status=A.status,q}return o}(N(Error)),Z=a.TextHTTPError=function(L){Q(o,L);function o(A,q){y(this,o);var t=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,A));return t.data=q,t}return o}(I),ha=a.JSONHTTPError=function(L){Q(o,L);function o(A,q){y(this,o);var t=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,A));return t.json=q,t}return o}(I),da=function(){function L(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",A=arguments[1];y(this,L),this.apiURL=o,this.apiURL.match(/\/[^\/]?/)&&(this._sameOrigin=!0),this.defaultHeaders=A&&A.defaultHeaders||{}}return n(L,[{key:"headers",value:function o(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j({},this.defaultHeaders,{"Content-Type":"application/json"},A)}},{key:"parseJsonResponse",value:function o(A){return A.json().then(function(q){if(!A.ok)return Promise.reject(new ha(A,q));var t=(0,C.getPagination)(A);return t?{pagination:t,items:q}:q})}},{key:"request",value:function o(A){var q=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=this.headers(t.headers||{});return this._sameOrigin&&(t.credentials=t.credentials||"same-origin"),fetch(this.apiURL+A,j({},t,{headers:Y})).then(function(R){var ba=R.headers.get("Content-Type");return ba&&ba.match(/json/)?q.parseJsonResponse(R):R.ok?R.text().then(function(Aa){Aa}):R.text().then(function(Aa){return Promise.reject(new Z(R,Aa))})})}}]),L}();a.default=da});var fe=$a(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;function j(s,Q){if(!(s instanceof Q))throw new TypeError("Cannot call a class as a function")}function n(s,Q){for(var N=0;N<Q.length;N++){var I=Q[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(s,I.key,I)}}function C(s,Q,N){return Q&&n(s.prototype,Q),N&&n(s,N),s}var y=function(){function s(Q){j(this,s),this.user=Q}return C(s,[{key:"listUsers",value:function Q(N){return this.user._request("/admin/users",{method:"GET",audience:N})}},{key:"getUser",value:function Q(N){return this.user._request("/admin/users/".concat(N.id))}},{key:"updateUser",value:function Q(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.user._request("/admin/users/".concat(N.id),{method:"PUT",body:JSON.stringify(I)})}},{key:"createUser",value:function Q(N,I){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Z.email=N,Z.password=I,this.user._request("/admin/users",{method:"POST",body:JSON.stringify(Z)})}},{key:"deleteUser",value:function Q(N){return this.user._request("/admin/users/".concat(N.id),{method:"DELETE"})}}]),s}();a.default=y});var ge=$a(a=>{"use strict";function j(H){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?j=function G(B){return typeof B}:j=function G(B){return B&&typeof Symbol==="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},j(H)}Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;var n=Q(ad()),C=y(fe());function y(H){return H&&H.__esModule?H:{default:H}}function s(){if(typeof WeakMap!=="function")return null;var H=new WeakMap();return s=function G(){return H},H}function Q(H){if(H&&H.__esModule)return H;if(H===null||j(H)!=="object"&&typeof H!=="function")return{default:H};var G=s();if(G&&G.has(H))return G.get(H);var B={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in H)if(Object.prototype.hasOwnProperty.call(H,T)){var pa=J?Object.getOwnPropertyDescriptor(H,T):null;pa&&(pa.get||pa.set)?Object.defineProperty(B,T,pa):B[T]=H[T]}return B.default=H,G&&G.set(H,B),B}function N(H,G){var B=Object.keys(H);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(H);G&&(J=J.filter(function(T){return Object.getOwnPropertyDescriptor(H,T).enumerable})),B.push.apply(B,J)}return B}function I(H){for(var G=1;G<arguments.length;G++){var B=arguments[G]!=null?arguments[G]:{};G%2?N(Object(B),!0).forEach(function(J){Z(H,J,B[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(B)):N(Object(B)).forEach(function(J){Object.defineProperty(H,J,Object.getOwnPropertyDescriptor(B,J))})}return H}function Z(H,G,B){return G in H?Object.defineProperty(H,G,{value:B,enumerable:!0,configurable:!0,writable:!0}):H[G]=B,H}function ha(H,G){if(!(H instanceof G))throw new TypeError("Cannot call a class as a function")}function da(H,G){for(var B=0;B<G.length;B++){var J=G[B];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(H,J.key,J)}}function L(H,G,B){return G&&da(H.prototype,G),B&&da(H,B),H}var o=60*1000,A="gotrue.user",q={},t=null,Y={api:1,token:1,audience:1,url:1},R={api:1},ba=function H(){return typeof window!=="undefined"},Aa=function(){function H(G,B,J){ha(this,H),this.api=G,this.url=G.apiURL,this.audience=J,this._processTokenResponse(B),t=this}return L(H,[{key:"update",value:function G(B){var J=this;return this._request("/user",{method:"PUT",body:JSON.stringify(B)}).then(function(T){return J._saveUserData(T)._refreshSavedSession()})}},{key:"jwt",value:function G(B){var J=this.tokenDetails();if(J===null||J===void 0)return Promise.reject(new Error("Gotrue-js: failed getting jwt access token"));var T=J.expires_at,pa=J.refresh_token,Ia=J.access_token;return B||T-o<Date.now()?this._refreshToken(pa):Promise.resolve(Ia)}},{key:"logout",value:function G(){return this._request("/logout",{method:"POST"}).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this))}},{key:"_refreshToken",value:function G(B){var J=this;return q[B]?q[B]:q[B]=this.api.request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(B)}).then(function(T){return delete q[B],J._processTokenResponse(T),J._refreshSavedSession(),J.token.access_token}).catch(function(T){return delete q[B],J.clearSession(),Promise.reject(T)})}},{key:"_request",value:function G(B){var J=this,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};T.headers=T.headers||{};var pa=T.audience||this.audience;return pa&&(T.headers["X-JWT-AUD"]=pa),this.jwt().then(function(Ia){return J.api.request(B,I({headers:Object.assign(T.headers,{Authorization:"Bearer ".concat(Ia)})},T)).catch(function(la){return la instanceof n.JSONHTTPError&&la.json&&(la.json.msg?la.message=la.json.msg:la.json.error&&(la.message="".concat(la.json.error,": ").concat(la.json.error_description))),Promise.reject(la)})})}},{key:"getUserData",value:function G(){return this._request("/user").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this))}},{key:"_saveUserData",value:function G(B,J){for(var T in B){if(T in H.prototype||T in Y)continue;this[T]=B[T]}return J&&(this._fromStorage=!0),this}},{key:"_processTokenResponse",value:function G(B){this.token=B;var J;try{J=JSON.parse(xa(B.access_token.split(".")[1])),this.token.expires_at=J.exp*1000}catch(T){console.error(new Error("Gotrue-js: Failed to parse tokenResponse claims: ".concat(JSON.stringify(B))))}}},{key:"_refreshSavedSession",value:function G(){return ba()&&localStorage.getItem(A)&&this._saveSession(),this}},{key:"_saveSession",value:function G(){return ba()&&localStorage.setItem(A,JSON.stringify(this._details)),this}},{key:"tokenDetails",value:function G(){return this.token}},{key:"clearSession",value:function G(){H.removeSavedSession(),this.token=null,t=null}},{key:"admin",get:function G(){return new C.default(this)}},{key:"_details",get:function G(){var B={};for(var J in this){if(J in H.prototype||J in R)continue;B[J]=this[J]}return B}}],[{key:"removeSavedSession",value:function G(){ba()&&localStorage.removeItem(A)}},{key:"recoverSession",value:function G(B){if(t)return t;var J=ba()&&localStorage.getItem(A);if(J)try{var T=JSON.parse(J),pa=T.url,Ia=T.token,la=T.audience;if(!pa||!Ia)return null;var sb=B||new n.default(pa,{});return new H(sb,Ia,la)._saveUserData(T,!0)}catch(db){return console.error(new Error("Gotrue-js: Error recovering session: ".concat(db))),null}return null}}]),H}();a.default=Aa;function xa(H){var G=H.replace(/-/g,"+").replace(/_/g,"/");switch(G.length%4){case 0:break;case 2:G+="==";break;case 3:G+="=";break;default:throw"Illegal base64url string!"}var B=window.atob(G);try{return decodeURIComponent(escape(B))}catch(J){return B}}});var ze=$a(a=>{"use strict";function j(o){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?j=function A(q){return typeof q}:j=function A(q){return q&&typeof Symbol==="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},j(o)}Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;var n=Q(ad()),C=y(ge());function y(o){return o&&o.__esModule?o:{default:o}}function s(){if(typeof WeakMap!=="function")return null;var o=new WeakMap();return s=function A(){return o},o}function Q(o){if(o&&o.__esModule)return o;if(o===null||j(o)!=="object"&&typeof o!=="function")return{default:o};var A=s();if(A&&A.has(o))return A.get(o);var q={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in o)if(Object.prototype.hasOwnProperty.call(o,Y)){var R=t?Object.getOwnPropertyDescriptor(o,Y):null;R&&(R.get||R.set)?Object.defineProperty(q,Y,R):q[Y]=o[Y]}return q.default=o,A&&A.set(o,q),q}function N(o,A){if(!(o instanceof A))throw new TypeError("Cannot call a class as a function")}function I(o,A){for(var q=0;q<A.length;q++){var t=A[q];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}function Z(o,A,q){return A&&I(o.prototype,A),q&&I(o,q),o}var ha=/^http:\/\//,da="/.netlify/identity",L=function(){function o(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=A.APIUrl,t=q===void 0?da:q,Y=A.audience,R=Y===void 0?"":Y,ba=A.setCookie,Aa=ba===void 0?!1:ba;N(this,o),t.match(ha)&&console.warn(`Warning:

DO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!
GoTrue REQUIRES HTTPS to work securely.`),R&&(this.audience=R),this.setCookie=Aa,this.api=new n.default(t)}return Z(o,[{key:"_request",value:function A(q){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.headers=t.headers||{};var Y=t.audience||this.audience;return Y&&(t.headers["X-JWT-AUD"]=Y),this.api.request(q,t).catch(function(R){return R instanceof n.JSONHTTPError&&R.json&&(R.json.msg?R.message=R.json.msg:R.json.error&&(R.message="".concat(R.json.error,": ").concat(R.json.error_description))),Promise.reject(R)})}},{key:"settings",value:function A(){return this._request("/settings")}},{key:"signup",value:function A(q,t,Y){return this._request("/signup",{method:"POST",body:JSON.stringify({email:q,password:t,data:Y})})}},{key:"login",value:function A(q,t,Y){var R=this;return this._setRememberHeaders(Y),this._request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=password&username=".concat(encodeURIComponent(q),"&password=").concat(encodeURIComponent(t))}).then(function(ba){return C.default.removeSavedSession(),R.createUser(ba,Y)})}},{key:"loginExternalUrl",value:function A(q){return"".concat(this.api.apiURL,"/authorize?provider=").concat(q)}},{key:"confirm",value:function A(q,t){return this._setRememberHeaders(t),this.verify("signup",q,t)}},{key:"requestPasswordRecovery",value:function A(q){return this._request("/recover",{method:"POST",body:JSON.stringify({email:q})})}},{key:"recover",value:function A(q,t){return this._setRememberHeaders(t),this.verify("recovery",q,t)}},{key:"acceptInvite",value:function A(q,t,Y){var R=this;return this._setRememberHeaders(Y),this._request("/verify",{method:"POST",body:JSON.stringify({token:q,password:t,type:"signup"})}).then(function(ba){return R.createUser(ba,Y)})}},{key:"acceptInviteExternalUrl",value:function A(q,t){return"".concat(this.api.apiURL,"/authorize?provider=").concat(q,"&invite_token=").concat(t)}},{key:"createUser",value:function A(q){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._setRememberHeaders(t);var Y=new C.default(this.api,q,this.audience);return Y.getUserData().then(function(R){return t&&R._saveSession(),R})}},{key:"currentUser",value:function A(){var q=C.default.recoverSession(this.api);return q&&this._setRememberHeaders(q._fromStorage),q}},{key:"verify",value:function A(q,t,Y){var R=this;return this._setRememberHeaders(Y),this._request("/verify",{method:"POST",body:JSON.stringify({token:t,type:q})}).then(function(ba){return R.createUser(ba,Y)})}},{key:"_setRememberHeaders",value:function A(q){this.setCookie&&(this.api.defaultHeaders=this.api.defaultHeaders||{},this.api.defaultHeaders["X-Use-Cookie"]=q?"1":"session")}}]),o}();a.default=L;typeof window!=="undefined"&&(window.GoTrue=L)});var ye=$a((a,f)=>{(function(j,n){typeof a==="object"&&typeof f!=="undefined"?f.exports=n():typeof define==="function"&&define.amd?define(n):(j=j||self,j.DOMPurify=n())})(a,function(){"use strict";function j(u){if(Array.isArray(u)){for(var D=0,v=Array(u.length);D<u.length;D++)v[D]=u[D];return v}else return Array.from(u)}var n=Object.hasOwnProperty,C=Object.setPrototypeOf,y=Object.isFrozen,s=Object.freeze,Q=Object.seal,N=Object.create,I=typeof Reflect!=="undefined"&&Reflect,Z=I.apply,ha=I.construct;Z||(Z=function u(D,v,p){return D.apply(v,p)}),s||(s=function u(D){return D}),Q||(Q=function u(D){return D}),ha||(ha=function u(D,v){return new(Function.prototype.bind.apply(D,[null].concat(j(v))))()});var da=xa(Array.prototype.forEach),L=xa(Array.prototype.pop),o=xa(Array.prototype.push),A=xa(String.prototype.toLowerCase),q=xa(String.prototype.match),t=xa(String.prototype.replace),Y=xa(String.prototype.indexOf),R=xa(String.prototype.trim),ba=xa(RegExp.prototype.test),Aa=H(TypeError);function xa(u){return function(D){for(var v=arguments.length,p=Array(v>1?v-1:0),qa=1;qa<v;qa++)p[qa-1]=arguments[qa];return Z(u,D,p)}}function H(u){return function(){for(var D=arguments.length,v=Array(D),p=0;p<D;p++)v[p]=arguments[p];return ha(u,v)}}function G(u,D){C&&C(u,null);for(var v=D.length;v--;){var p=D[v];if(typeof p==="string"){var qa=A(p);qa!==p&&(y(D)||(D[v]=qa),p=qa)}u[p]=!0}return u}function B(u){var D=N(null),v=void 0;for(v in u)Z(n,u,[v])&&(D[v]=u[v]);return D}var J=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),pa=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ia=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),la=s(["#text"]),sb=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),db=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zb=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),eb=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wc=Q(/\{\{[\s\S]*|[\s\S]*\}\}/gm),xc=Q(/<%[\s\S]*|[\s\S]*%>/gm),yc=Q(/^data-[\-\w.\u00B7-\uFFFF]/),sa=Q(/^aria-[\-\w]+$/),zc=Q(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ac=Q(/^(?:\w+script|data):/i),tb=Q(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ma=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol==="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};function Ba(u){if(Array.isArray(u)){for(var D=0,v=Array(u.length);D<u.length;D++)v[D]=u[D];return v}else return Array.from(u)}var _b=function u(){return typeof window==="undefined"?null:window},Bc=function u(D,v){if((typeof D==="undefined"?"undefined":ma(D))!=="object"||typeof D.createPolicy!=="function")return null;var p=null,qa="data-tt-policy-suffix";v.currentScript&&v.currentScript.hasAttribute(qa)&&(p=v.currentScript.getAttribute(qa));var vb="dompurify"+(p?"#"+p:"");try{return D.createPolicy(vb,{createHTML:function Na(Ca){return Ca}})}catch(Na){return console.warn("TrustedTypes policy "+vb+" could not be created."),null}};function ub(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_b(),D=function U(m){return ub(m)};D.version="2.2.3",D.removed=[];if(!u||!u.document||u.document.nodeType!==9)return D.isSupported=!1,D;var v=u.document,p=u.document,qa=u.DocumentFragment,vb=u.HTMLTemplateElement,Na=u.Node,Ca=u.NodeFilter,Gb=u.NamedNodeMap,Cc=Gb===void 0?u.NamedNodeMap||u.MozNamedAttrMap:Gb,$b=u.Text,gb=u.Comment,Dc=u.DOMParser,ac=u.trustedTypes;if(typeof vb==="function"){var Za=p.createElement("template");Za.content&&Za.content.ownerDocument&&(p=Za.content.ownerDocument)}var ua=Bc(ac,v),Hb=ua&&ta?ua.createHTML(""):"",hb=p,Ib=hb.implementation,Ec=hb.createNodeIterator,ib=hb.getElementsByTagName,wb=hb.createDocumentFragment,bc=v.importNode,Jb={};try{Jb=B(p).documentMode?p.documentMode:{}}catch(U){}var Da={};D.isSupported=Ib&&typeof Ib.createHTMLDocument!=="undefined"&&Jb!==9;var Kb=wc,Lb=xc,W=yc,Fc=sa,k=Ac,i=tb,r=zc,b=null,c=G({},[].concat(Ba(J),Ba(T),Ba(pa),Ba(Ia),Ba(la))),e=null,g=G({},[].concat(Ba(sb),Ba(db),Ba(Zb),Ba(eb))),h=null,z=null,w=!0,S=!0,O=!1,_=!1,na=!1,ea=!1,V=!1,va=!1,Oa=!1,Pa=!0,ta=!1,$=!0,jb=!0,_a=!1,Ea={},cc=G({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Mb=null,Xd=G({},["audio","video","img","source","image","track"]),Gc=null,Yd=G({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),xb=null,ue=p.createElement("form"),Hc=function U(m){if(xb&&xb===m)return;(!m||(typeof m==="undefined"?"undefined":ma(m))!=="object")&&(m={}),m=B(m),b="ALLOWED_TAGS"in m?G({},m.ALLOWED_TAGS):c,e="ALLOWED_ATTR"in m?G({},m.ALLOWED_ATTR):g,Gc="ADD_URI_SAFE_ATTR"in m?G(B(Yd),m.ADD_URI_SAFE_ATTR):Yd,Mb="ADD_DATA_URI_TAGS"in m?G(B(Xd),m.ADD_DATA_URI_TAGS):Xd,h="FORBID_TAGS"in m?G({},m.FORBID_TAGS):{},z="FORBID_ATTR"in m?G({},m.FORBID_ATTR):{},Ea="USE_PROFILES"in m?m.USE_PROFILES:!1,w=m.ALLOW_ARIA_ATTR!==!1,S=m.ALLOW_DATA_ATTR!==!1,O=m.ALLOW_UNKNOWN_PROTOCOLS||!1,_=m.SAFE_FOR_TEMPLATES||!1,na=m.WHOLE_DOCUMENT||!1,va=m.RETURN_DOM||!1,Oa=m.RETURN_DOM_FRAGMENT||!1,Pa=m.RETURN_DOM_IMPORT!==!1,ta=m.RETURN_TRUSTED_TYPE||!1,V=m.FORCE_BODY||!1,$=m.SANITIZE_DOM!==!1,jb=m.KEEP_CONTENT!==!1,_a=m.IN_PLACE||!1,r=m.ALLOWED_URI_REGEXP||r,_&&(S=!1),Oa&&(va=!0),Ea&&(b=G({},[].concat(Ba(la))),e=[],Ea.html===!0&&(G(b,J),G(e,sb)),Ea.svg===!0&&(G(b,T),G(e,db),G(e,eb)),Ea.svgFilters===!0&&(G(b,pa),G(e,db),G(e,eb)),Ea.mathMl===!0&&(G(b,Ia),G(e,Zb),G(e,eb))),m.ADD_TAGS&&(b===c&&(b=B(b)),G(b,m.ADD_TAGS)),m.ADD_ATTR&&(e===g&&(e=B(e)),G(e,m.ADD_ATTR)),m.ADD_URI_SAFE_ATTR&&G(Gc,m.ADD_URI_SAFE_ATTR),jb&&(b["#text"]=!0),na&&G(b,["html","head","body"]),b.table&&(G(b,["tbody"]),delete h.tbody),s&&s(m),xb=m},kb=function U(m){o(D.removed,{element:m});try{m.parentNode.removeChild(m)}catch(F){m.outerHTML=Hb}},Zd=function U(m,F){try{o(D.removed,{attribute:F.getAttributeNode(m),from:F})}catch(P){o(D.removed,{attribute:null,from:F})}F.removeAttribute(m)},_d=function U(m){var F=void 0,P=void 0;if(V)m="<remove></remove>"+m;else{var ga=q(m,/^[\r\n\t ]+/);P=ga&&ga[0]}var Ja=ua?ua.createHTML(m):m;try{F=new Dc().parseFromString(Ja,"text/html")}catch(Qa){}if(!F||!F.documentElement){F=Ib.createHTMLDocument("");var Fa=F,wa=Fa.body;wa.parentNode.removeChild(wa.parentNode.firstElementChild),wa.outerHTML=Ja}return m&&P&&F.body.insertBefore(p.createTextNode(P),F.body.childNodes[0]||null),ib.call(F,na?"html":"body")[0]},$d=function U(m){return Ec.call(m.ownerDocument||m,m,Ca.SHOW_ELEMENT|Ca.SHOW_COMMENT|Ca.SHOW_TEXT,function(){return Ca.FILTER_ACCEPT},!1)},ve=function U(m){return m instanceof $b||m instanceof gb?!1:typeof m.nodeName!=="string"||typeof m.textContent!=="string"||typeof m.removeChild!=="function"||!(m.attributes instanceof Cc)||typeof m.removeAttribute!=="function"||typeof m.setAttribute!=="function"||typeof m.namespaceURI!=="string"?!0:!1},Nb=function U(m){return(typeof Na==="undefined"?"undefined":ma(Na))==="object"?m instanceof Na:m&&(typeof m==="undefined"?"undefined":ma(m))==="object"&&typeof m.nodeType==="number"&&typeof m.nodeName==="string"},Ua=function U(m,F,P){if(!Da[m])return;da(Da[m],function(ga){ga.call(D,F,P,xb)})},ae=function U(m){var F=void 0;Ua("beforeSanitizeElements",m,null);if(ve(m))return kb(m),!0;if(q(m.nodeName,/[\u0080-\uFFFF]/))return kb(m),!0;var P=A(m.nodeName);Ua("uponSanitizeElement",m,{tagName:P,allowedTags:b});if((P==="svg"||P==="math")&&m.querySelectorAll("p, br, form, table, h1, h2, h3, h4, h5, h6").length!==0)return kb(m),!0;if(!Nb(m.firstElementChild)&&(!Nb(m.content)||!Nb(m.content.firstElementChild))&&ba(/<[/\w]/g,m.innerHTML)&&ba(/<[/\w]/g,m.textContent))return kb(m),!0;if(!b[P]||h[P]){if(jb&&!cc[P]&&typeof m.insertAdjacentHTML==="function")try{var ga=m.innerHTML;m.insertAdjacentHTML("AfterEnd",ua?ua.createHTML(ga):ga)}catch(Ja){}return kb(m),!0}return(P==="noscript"||P==="noembed")&&ba(/<\/no(script|embed)/i,m.innerHTML)?(kb(m),!0):(_&&m.nodeType===3&&(F=m.textContent,F=t(F,Kb," "),F=t(F,Lb," "),m.textContent!==F&&(o(D.removed,{element:m.cloneNode()}),m.textContent=F)),Ua("afterSanitizeElements",m,null),!1)},be=function U(m,F,P){if($&&(F==="id"||F==="name")&&(P in p||P in ue))return!1;if(!(S&&ba(W,F))){if(!(w&&ba(Fc,F))){if(!e[F]||z[F])return!1;if(!Gc[F]){if(!ba(r,t(P,i,""))){if(!((F==="src"||F==="xlink:href"||F==="href")&&m!=="script"&&Y(P,"data:")===0&&Mb[m])){if(!(O&&!ba(k,t(P,i,"")))){if(P)return!1}}}}}}return!0},ce=function U(m){var F=void 0,P=void 0,ga=void 0,Ja=void 0;Ua("beforeSanitizeAttributes",m,null);var Fa=m.attributes;if(!Fa)return;var wa={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:e};for(Ja=Fa.length;Ja--;){F=Fa[Ja];var Qa=F,Ob=Qa.name,de=Qa.namespaceURI;P=R(F.value),ga=A(Ob),wa.attrName=ga,wa.attrValue=P,wa.keepAttr=!0,wa.forceKeepAttr=void 0,Ua("uponSanitizeAttribute",m,wa),P=wa.attrValue;if(wa.forceKeepAttr)continue;Zd(Ob,m);if(!wa.keepAttr)continue;if(ba(/\/>/i,P)){Zd(Ob,m);continue}_&&(P=t(P,Kb," "),P=t(P,Lb," "));var xe=m.nodeName.toLowerCase();if(!be(xe,ga,P))continue;try{de?m.setAttributeNS(de,Ob,P):m.setAttribute(Ob,P),L(D.removed)}catch(Tf){}}Ua("afterSanitizeAttributes",m,null)},we=function U(m){var F=void 0,P=$d(m);for(Ua("beforeSanitizeShadowDOM",m,null);F=P.nextNode();){Ua("uponSanitizeShadowNode",F,null);if(ae(F))continue;F.content instanceof qa&&U(F.content),ce(F)}Ua("afterSanitizeShadowDOM",m,null)};return D.sanitize=function(U,m){var F=void 0,P=void 0,ga=void 0,Ja=void 0,Fa=void 0;U||(U="<!-->");if(typeof U!=="string"&&!Nb(U)){if(typeof U.toString!=="function")throw Aa("toString is not a function");{U=U.toString();if(typeof U!=="string")throw Aa("dirty is not a string, aborting")}}if(!D.isSupported){if(ma(u.toStaticHTML)==="object"||typeof u.toStaticHTML==="function"){if(typeof U==="string")return u.toStaticHTML(U);if(Nb(U))return u.toStaticHTML(U.outerHTML)}return U}ea||Hc(m),D.removed=[],typeof U==="string"&&(_a=!1);if(!_a)if(U instanceof Na)F=_d("<!---->"),P=F.ownerDocument.importNode(U,!0),P.nodeType===1&&P.nodeName==="BODY"?F=P:P.nodeName==="HTML"?F=P:F.appendChild(P);else{if(!va&&!_&&!na&&U.indexOf("<")===-1)return ua&&ta?ua.createHTML(U):U;F=_d(U);if(!F)return va?null:Hb}F&&V&&kb(F.firstChild);for(var wa=$d(_a?U:F);ga=wa.nextNode();){if(ga.nodeType===3&&ga===Ja)continue;if(ae(ga))continue;ga.content instanceof qa&&we(ga.content),ce(ga),Ja=ga}Ja=null;if(_a)return U;if(va){if(Oa)for(Fa=wb.call(F.ownerDocument);F.firstChild;)Fa.appendChild(F.firstChild);else Fa=F;return Pa&&(Fa=bc.call(v,Fa,!0)),Fa}var Qa=na?F.outerHTML:F.innerHTML;return _&&(Qa=t(Qa,Kb," "),Qa=t(Qa,Lb," ")),ua&&ta?ua.createHTML(Qa):Qa},D.setConfig=function(U){Hc(U),ea=!0},D.clearConfig=function(){xb=null,ea=!1},D.isValidAttribute=function(U,m,F){xb||Hc({});var P=A(U),ga=A(m);return be(P,ga,F)},D.addHook=function(U,m){if(typeof m!=="function")return;Da[U]=Da[U]||[],o(Da[U],m)},D.removeHook=function(U){Da[U]&&L(Da[U])},D.removeHooks=function(U){Da[U]&&(Da[U]=[])},D.removeAllHooks=function(){Da={}},D}var fb=ub();return fb})});var Me=$a((a,f)=>{(function(j,n){typeof a==="object"&&typeof f!=="undefined"?f.exports=n():typeof define==="function"&&define.amd?define(n):(j=typeof globalThis!=="undefined"?globalThis:j||self,j.marked=n())})(a,function(){"use strict";function j(k,i){for(var r=0;r<i.length;r++){var b=i[r];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(k,b.key,b)}}function n(k,i,r){return i&&j(k.prototype,i),r&&j(k,r),k}function C(k,i){if(!k)return;if(typeof k==="string")return y(k,i);var r=Object.prototype.toString.call(k).slice(8,-1);r==="Object"&&k.constructor&&(r=k.constructor.name);if(r==="Map"||r==="Set")return Array.from(k);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(k,i)}function y(k,i){(i==null||i>k.length)&&(i=k.length);for(var r=0,b=new Array(i);r<i;r++)b[r]=k[r];return b}function s(k,i){var r;if(typeof Symbol==="undefined"||k[Symbol.iterator]==null){if(Array.isArray(k)||(r=C(k))||i&&k&&typeof k.length==="number"){r&&(k=r);var b=0;return function(){return b>=k.length?{done:!0}:{done:!1,value:k[b++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return r=k[Symbol.iterator](),r.next.bind(r)}function Q(k,i){return i={exports:{}},k(i,i.exports),i.exports}var N=Q(function(k){function i(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function r(b){k.exports.defaults=b}k.exports={defaults:i(),getDefaults:i,changeDefaults:r}}),I=N.defaults,Z=N.getDefaults,ha=N.changeDefaults,da=/[&<>"']/,L=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,A=/[<>"']|&(?!#?\w+;)/g,q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=function k(i){return q[i]};function Y(k,i){if(i){if(da.test(k))return k.replace(L,t)}else if(o.test(k))return k.replace(A,t);return k}var R=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ba(k){return k.replace(R,function(i,r){return r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""})}var Aa=/(^|[^\[])\^/g;function xa(k,i){k=k.source||k,i=i||"";var r={replace:function b(c,e){return e=e.source||e,e=e.replace(Aa,"$1"),k=k.replace(c,e),r},getRegex:function b(){return new RegExp(k,i)}};return r}var H=/[^\w:]/g,G=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function B(k,i,r){if(k){var b;try{b=decodeURIComponent(ba(r)).replace(H,"").toLowerCase()}catch(c){return null}if(b.indexOf("javascript:")===0||b.indexOf("vbscript:")===0||b.indexOf("data:")===0)return null}i&&!G.test(r)&&(r=la(i,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(c){return null}return r}var J={},T=/^[^:]+:\/*[^/]*$/,pa=/^([^:]+:)[\s\S]*$/,Ia=/^([^:]+:\/*[^/]*)[\s\S]*$/;function la(k,i){J[" "+k]||(T.test(k)?J[" "+k]=k+"/":J[" "+k]=eb(k,"/",!0)),k=J[" "+k];var r=k.indexOf(":")===-1;return i.substring(0,2)==="//"?r?i:k.replace(pa,"$1")+i:i.charAt(0)==="/"?r?i:k.replace(Ia,"$1")+i:k+i}var sb={exec:function k(){}};function db(k){for(var i=1,r,b;i<arguments.length;i++){r=arguments[i];for(b in r)Object.prototype.hasOwnProperty.call(r,b)&&(k[b]=r[b])}return k}function Zb(k,i){var r=k.replace(/\|/g,function(e,g,h){for(var z=!1,w=g;--w>=0&&h[w]==="\\";)z=!z;return z?"|":" |"}),b=r.split(/ \|/),c=0;if(b.length>i)b.splice(i);else for(;b.length<i;)b.push("");for(;c<b.length;c++)b[c]=b[c].trim().replace(/\\\|/g,"|");return b}function eb(k,i,r){var b=k.length;if(b===0)return"";for(var c=0;c<b;){var e=k.charAt(b-c-1);if(e===i&&!r)c++;else if(e!==i&&r)c++;else break}return k.substr(0,b-c)}function wc(k,i){if(k.indexOf(i[1])===-1)return-1;for(var r=k.length,b=0,c=0;c<r;c++)if(k[c]==="\\")c++;else if(k[c]===i[0])b++;else if(k[c]===i[1]){b--;if(b<0)return c}return-1}function xc(k){k&&k.sanitize&&!k.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function yc(k,i){if(i<1)return"";for(var r="";i>1;)i&1&&(r+=k),i>>=1,k+=k;return r+k}var sa={escape:Y,unescape:ba,edit:xa,cleanUrl:B,resolveUrl:la,noopTest:sb,merge:db,splitCells:Zb,rtrim:eb,findClosingBracket:wc,checkSanitizeDeprecation:xc,repeatString:yc},zc=N.defaults,Ac=sa.rtrim,tb=sa.splitCells,ma=sa.escape,Ba=sa.findClosingBracket;function _b(k,i,r){var b=i.href,c=i.title?ma(i.title):null,e=k[1].replace(/\\([\[\]])/g,"$1");return k[0].charAt(0)!=="!"?{type:"link",raw:r,href:b,title:c,text:e}:{type:"image",raw:r,href:b,title:c,text:ma(e)}}function Bc(k,i){var r=k.match(/^(\s+)(?:```)/);if(r===null)return i;var b=r[1];return i.split(`
`).map(function(c){var e=c.match(/^\s+/);if(e===null)return c;var g=e[0];return g.length>=b.length?c.slice(b.length):c}).join(`
`)}var ub=function(){function k(r){this.options=r||zc}var i=k.prototype;return i.space=function r(b){var c=this.rules.block.newline.exec(b);if(c)return c[0].length>1?{type:"space",raw:c[0]}:{raw:`
`}},i.code=function r(b,c){var e=this.rules.block.code.exec(b);if(e){var g=c[c.length-1];if(g&&g.type==="paragraph")return{raw:e[0],text:e[0].trimRight()};var h=e[0].replace(/^ {4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?h:Ac(h,`
`)}}},i.fences=function r(b){var c=this.rules.block.fences.exec(b);if(c){var e=c[0],g=Bc(e,c[3]||"");return{type:"code",raw:e,lang:c[2]?c[2].trim():c[2],text:g}}},i.heading=function r(b){var c=this.rules.block.heading.exec(b);if(c)return{type:"heading",raw:c[0],depth:c[1].length,text:c[2]}},i.nptable=function r(b){var c=this.rules.block.nptable.exec(b);if(c){var e={type:"table",header:tb(c[1].replace(/^ *| *\| *$/g,"")),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:c[3]?c[3].replace(/\n$/,"").split(`
`):[],raw:c[0]};if(e.header.length===e.align.length){var g=e.align.length,h;for(h=0;h<g;h++)/^ *-+: *$/.test(e.align[h])?e.align[h]="right":/^ *:-+: *$/.test(e.align[h])?e.align[h]="center":/^ *:-+ *$/.test(e.align[h])?e.align[h]="left":e.align[h]=null;for(g=e.cells.length,h=0;h<g;h++)e.cells[h]=tb(e.cells[h],e.header.length);return e}}},i.hr=function r(b){var c=this.rules.block.hr.exec(b);if(c)return{type:"hr",raw:c[0]}},i.blockquote=function r(b){var c=this.rules.block.blockquote.exec(b);if(c){var e=c[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:c[0],text:e}}},i.list=function r(b){var c=this.rules.block.list.exec(b);if(c){var e=c[0],g=c[2],h=g.length>1,z={type:"list",raw:e,ordered:h,start:h?+g.slice(0,-1):"",loose:!1,items:[]},w=c[0].match(this.rules.block.item),S=!1,O,_,na,ea,V,va,Oa,Pa,ta=w.length;na=this.rules.block.listItemStart.exec(w[0]);for(var $=0;$<ta;$++){O=w[$],e=O;if($!==ta-1){ea=this.rules.block.listItemStart.exec(w[$+1]);if(ea[1].length>na[0].length||ea[1].length>3){w.splice($,2,w[$]+`
`+w[$+1]),$--,ta--;continue}else(!this.options.pedantic||this.options.smartLists?ea[2][ea[2].length-1]!==g[g.length-1]:h===(ea[2].length===1))&&(V=w.slice($+1).join(`
`),z.raw=z.raw.substring(0,z.raw.length-V.length),$=ta-1);na=ea}_=O.length,O=O.replace(/^ *([*+-]|\d+[.)]) ?/,""),~O.indexOf(`
 `)&&(_-=O.length,O=this.options.pedantic?O.replace(/^ {1,4}/gm,""):O.replace(new RegExp("^ {1,"+_+"}","gm"),"")),va=S||/\n\n(?!\s*$)/.test(O),$!==ta-1&&(S=O.charAt(O.length-1)===`
`,va||(va=S)),va&&(z.loose=!0),this.options.gfm&&(Oa=/^\[[ xX]\] /.test(O),Pa=void 0,Oa&&(Pa=O[1]!==" ",O=O.replace(/^\[[ xX]\] +/,""))),z.items.push({type:"list_item",raw:e,task:Oa,checked:Pa,loose:va,text:O})}return z}},i.html=function r(b){var c=this.rules.block.html.exec(b);if(c)return{type:this.options.sanitize?"paragraph":"html",raw:c[0],pre:!this.options.sanitizer&&(c[1]==="pre"||c[1]==="script"||c[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):ma(c[0]):c[0]}},i.def=function r(b){var c=this.rules.block.def.exec(b);if(c){c[3]&&(c[3]=c[3].substring(1,c[3].length-1));var e=c[1].toLowerCase().replace(/\s+/g," ");return{tag:e,raw:c[0],href:c[2],title:c[3]}}},i.table=function r(b){var c=this.rules.block.table.exec(b);if(c){var e={type:"table",header:tb(c[1].replace(/^ *| *\| *$/g,"")),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:c[3]?c[3].replace(/\n$/,"").split(`
`):[]};if(e.header.length===e.align.length){e.raw=c[0];var g=e.align.length,h;for(h=0;h<g;h++)/^ *-+: *$/.test(e.align[h])?e.align[h]="right":/^ *:-+: *$/.test(e.align[h])?e.align[h]="center":/^ *:-+ *$/.test(e.align[h])?e.align[h]="left":e.align[h]=null;for(g=e.cells.length,h=0;h<g;h++)e.cells[h]=tb(e.cells[h].replace(/^ *\| *| *\| *$/g,""),e.header.length);return e}}},i.lheading=function r(b){var c=this.rules.block.lheading.exec(b);if(c)return{type:"heading",raw:c[0],depth:c[2].charAt(0)==="="?1:2,text:c[1]}},i.paragraph=function r(b){var c=this.rules.block.paragraph.exec(b);if(c)return{type:"paragraph",raw:c[0],text:c[1].charAt(c[1].length-1)===`
`?c[1].slice(0,-1):c[1]}},i.text=function r(b,c){var e=this.rules.block.text.exec(b);if(e){var g=c[c.length-1];return g&&g.type==="text"?{raw:e[0],text:e[0]}:{type:"text",raw:e[0],text:e[0]}}},i.escape=function r(b){var c=this.rules.inline.escape.exec(b);if(c)return{type:"escape",raw:c[0],text:ma(c[1])}},i.tag=function r(b,c,e){var g=this.rules.inline.tag.exec(b);if(g)return!c&&/^<a /i.test(g[0])?c=!0:c&&/^<\/a>/i.test(g[0])&&(c=!1),!e&&/^<(pre|code|kbd|script)(\s|>)/i.test(g[0])?e=!0:e&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(g[0])&&(e=!1),{type:this.options.sanitize?"text":"html",raw:g[0],inLink:c,inRawBlock:e,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):ma(g[0]):g[0]}},i.link=function r(b){var c=this.rules.inline.link.exec(b);if(c){var e=Ba(c[2],"()");if(e>-1){var g=c[0].indexOf("!")===0?5:4,h=g+c[1].length+e;c[2]=c[2].substring(0,e),c[0]=c[0].substring(0,h).trim(),c[3]=""}var z=c[2],w="";if(this.options.pedantic){var S=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(z);S?(z=S[1],w=S[3]):w=""}else w=c[3]?c[3].slice(1,-1):"";z=z.trim().replace(/^<([\s\S]*)>$/,"$1");var O=_b(c,{href:z?z.replace(this.rules.inline._escapes,"$1"):z,title:w?w.replace(this.rules.inline._escapes,"$1"):w},c[0]);return O}},i.reflink=function r(b,c){var e;if((e=this.rules.inline.reflink.exec(b))||(e=this.rules.inline.nolink.exec(b))){var g=(e[2]||e[1]).replace(/\s+/g," ");g=c[g.toLowerCase()];if(!g||!g.href){var h=e[0].charAt(0);return{type:"text",raw:h,text:h}}var z=_b(e,g,e[0]);return z}},i.strong=function r(b,c,e){e===void 0&&(e="");var g=this.rules.inline.strong.start.exec(b);if(g&&(!g[1]||g[1]&&(e===""||this.rules.inline.punctuation.exec(e)))){c=c.slice(-1*b.length);var h=g[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;h.lastIndex=0;for(var z;(g=h.exec(c))!=null;){z=this.rules.inline.strong.middle.exec(c.slice(0,g.index+3));if(z)return{type:"strong",raw:b.slice(0,z[0].length),text:b.slice(2,z[0].length-2)}}}},i.em=function r(b,c,e){e===void 0&&(e="");var g=this.rules.inline.em.start.exec(b);if(g&&(!g[1]||g[1]&&(e===""||this.rules.inline.punctuation.exec(e)))){c=c.slice(-1*b.length);var h=g[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;h.lastIndex=0;for(var z;(g=h.exec(c))!=null;){z=this.rules.inline.em.middle.exec(c.slice(0,g.index+2));if(z)return{type:"em",raw:b.slice(0,z[0].length),text:b.slice(1,z[0].length-1)}}}},i.codespan=function r(b){var c=this.rules.inline.code.exec(b);if(c){var e=c[2].replace(/\n/g," "),g=/[^ ]/.test(e),h=e.startsWith(" ")&&e.endsWith(" ");return g&&h&&(e=e.substring(1,e.length-1)),e=ma(e,!0),{type:"codespan",raw:c[0],text:e}}},i.br=function r(b){var c=this.rules.inline.br.exec(b);if(c)return{type:"br",raw:c[0]}},i.del=function r(b){var c=this.rules.inline.del.exec(b);if(c)return{type:"del",raw:c[0],text:c[2]}},i.autolink=function r(b,c){var e=this.rules.inline.autolink.exec(b);if(e){var g,h;return e[2]==="@"?(g=ma(this.options.mangle?c(e[1]):e[1]),h="mailto:"+g):(g=ma(e[1]),h=g),{type:"link",raw:e[0],text:g,href:h,tokens:[{type:"text",raw:g,text:g}]}}},i.url=function r(b,c){var e;if(e=this.rules.inline.url.exec(b)){var g,h;if(e[2]==="@")g=ma(this.options.mangle?c(e[0]):e[0]),h="mailto:"+g;else{var z;do z=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])[0];while(z!==e[0]);g=ma(e[0]),e[1]==="www."?h="http://"+g:h=g}return{type:"link",raw:e[0],text:g,href:h,tokens:[{type:"text",raw:g,text:g}]}}},i.inlineText=function r(b,c,e){var g=this.rules.inline.text.exec(b);if(g){var h;return c?h=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):ma(g[0]):g[0]:h=ma(this.options.smartypants?e(g[0]):g[0]),{type:"text",raw:g[0],text:h}}},k}(),fb=sa.noopTest,u=sa.edit,D=sa.merge,v={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:fb,table:fb,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};v._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,v._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,v.def=u(v.def).replace("label",v._label).replace("title",v._title).getRegex(),v.bullet=/(?:[*+-]|\d{1,9}[.)])/,v.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,v.item=u(v.item,"gm").replace(/bull/g,v.bullet).getRegex(),v.listItemStart=u(/^( *)(bull)/).replace("bull",v.bullet).getRegex(),v.list=u(v.list).replace(/bull/g,v.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+v.def.source+")").getRegex(),v._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",v._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,v.html=u(v.html,"i").replace("comment",v._comment).replace("tag",v._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),v.paragraph=u(v._paragraph).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",v._tag).getRegex(),v.blockquote=u(v.blockquote).replace("paragraph",v.paragraph).getRegex(),v.normal=D({},v),v.gfm=D({},v.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),v.gfm.nptable=u(v.gfm.nptable).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",v._tag).getRegex(),v.gfm.table=u(v.gfm.table).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",v._tag).getRegex(),v.pedantic=D({},v.normal,{html:u(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",v._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:fb,paragraph:u(v.normal._paragraph).replace("hr",v.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",v.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var p={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:fb,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:fb,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/};p._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",p.punctuation=u(p.punctuation).replace(/punctuation/g,p._punctuation).getRegex(),p._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",p._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",p._comment=u(v._comment).replace("(?:-->|$)","-->").getRegex(),p.em.start=u(p.em.start).replace(/punctuation/g,p._punctuation).getRegex(),p.em.middle=u(p.em.middle).replace(/punctuation/g,p._punctuation).replace(/overlapSkip/g,p._overlapSkip).getRegex(),p.em.endAst=u(p.em.endAst,"g").replace(/punctuation/g,p._punctuation).getRegex(),p.em.endUnd=u(p.em.endUnd,"g").replace(/punctuation/g,p._punctuation).getRegex(),p.strong.start=u(p.strong.start).replace(/punctuation/g,p._punctuation).getRegex(),p.strong.middle=u(p.strong.middle).replace(/punctuation/g,p._punctuation).replace(/overlapSkip/g,p._overlapSkip).getRegex(),p.strong.endAst=u(p.strong.endAst,"g").replace(/punctuation/g,p._punctuation).getRegex(),p.strong.endUnd=u(p.strong.endUnd,"g").replace(/punctuation/g,p._punctuation).getRegex(),p.blockSkip=u(p._blockSkip,"g").getRegex(),p.overlapSkip=u(p._overlapSkip,"g").getRegex(),p._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,p._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,p._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,p.autolink=u(p.autolink).replace("scheme",p._scheme).replace("email",p._email).getRegex(),p._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,p.tag=u(p.tag).replace("comment",p._comment).replace("attribute",p._attribute).getRegex(),p._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,p._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,p._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,p.link=u(p.link).replace("label",p._label).replace("href",p._href).replace("title",p._title).getRegex(),p.reflink=u(p.reflink).replace("label",p._label).getRegex(),p.reflinkSearch=u(p.reflinkSearch,"g").replace("reflink",p.reflink).replace("nolink",p.nolink).getRegex(),p.normal=D({},p),p.pedantic=D({},p.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",p._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",p._label).getRegex()}),p.gfm=D({},p.normal,{escape:u(p.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),p.gfm.url=u(p.gfm.url,"i").replace("email",p.gfm._extended_email).getRegex(),p.breaks=D({},p.gfm,{br:u(p.br).replace("{2,}","*").getRegex(),text:u(p.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var qa={block:v,inline:p},vb=N.defaults,Na=qa.block,Ca=qa.inline,Gb=sa.repeatString;function Cc(k){return k.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function $b(k){var i="",r,b,c=k.length;for(r=0;r<c;r++)b=k.charCodeAt(r),Math.random()>.5&&(b="x"+b.toString(16)),i+="&#"+b+";";return i}var gb=function(){function k(r){this.tokens=[],this.tokens.links=Object.create(null),this.options=r||vb,this.options.tokenizer=this.options.tokenizer||new ub(),this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var b={block:Na.normal,inline:Ca.normal};this.options.pedantic?(b.block=Na.pedantic,b.inline=Ca.pedantic):this.options.gfm&&(b.block=Na.gfm,this.options.breaks?b.inline=Ca.breaks:b.inline=Ca.gfm),this.tokenizer.rules=b}k.lex=function r(b,c){var e=new k(c);return e.lex(b)},k.lexInline=function r(b,c){var e=new k(c);return e.inlineTokens(b)};var i=k.prototype;return i.lex=function r(b){return b=b.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(b,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function r(b,c,e){c===void 0&&(c=[]),e===void 0&&(e=!0),b=b.replace(/^ +$/gm,"");for(var g,h,z,w;b;){if(g=this.tokenizer.space(b)){b=b.substring(g.raw.length),g.type&&c.push(g);continue}if(g=this.tokenizer.code(b,c)){b=b.substring(g.raw.length),g.type?c.push(g):(w=c[c.length-1],w.raw+=`
`+g.raw,w.text+=`
`+g.text);continue}if(g=this.tokenizer.fences(b)){b=b.substring(g.raw.length),c.push(g);continue}if(g=this.tokenizer.heading(b)){b=b.substring(g.raw.length),c.push(g);continue}if(g=this.tokenizer.nptable(b)){b=b.substring(g.raw.length),c.push(g);continue}if(g=this.tokenizer.hr(b)){b=b.substring(g.raw.length),c.push(g);continue}if(g=this.tokenizer.blockquote(b)){b=b.substring(g.raw.length),g.tokens=this.blockTokens(g.text,[],e),c.push(g);continue}if(g=this.tokenizer.list(b)){for(b=b.substring(g.raw.length),z=g.items.length,h=0;h<z;h++)g.items[h].tokens=this.blockTokens(g.items[h].text,[],!1);c.push(g);continue}if(g=this.tokenizer.html(b)){b=b.substring(g.raw.length),c.push(g);continue}if(e&&(g=this.tokenizer.def(b))){b=b.substring(g.raw.length),this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(b)){b=b.substring(g.raw.length),c.push(g);continue}if(g=this.tokenizer.lheading(b)){b=b.substring(g.raw.length),c.push(g);continue}if(e&&(g=this.tokenizer.paragraph(b))){b=b.substring(g.raw.length),c.push(g);continue}if(g=this.tokenizer.text(b,c)){b=b.substring(g.raw.length),g.type?c.push(g):(w=c[c.length-1],w.raw+=`
`+g.raw,w.text+=`
`+g.text);continue}if(b){var S="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(S);break}else throw new Error(S)}}return c},i.inline=function r(b){var c,e,g,h,z,w,S=b.length;for(c=0;c<S;c++){w=b[c];switch(w.type){case"paragraph":case"text":case"heading":{w.tokens=[],this.inlineTokens(w.text,w.tokens);break}case"table":{for(w.tokens={header:[],cells:[]},h=w.header.length,e=0;e<h;e++)w.tokens.header[e]=[],this.inlineTokens(w.header[e],w.tokens.header[e]);for(h=w.cells.length,e=0;e<h;e++)for(z=w.cells[e],w.tokens.cells[e]=[],g=0;g<z.length;g++)w.tokens.cells[e][g]=[],this.inlineTokens(z[g],w.tokens.cells[e][g]);break}case"blockquote":{this.inline(w.tokens);break}case"list":{for(h=w.items.length,e=0;e<h;e++)this.inline(w.items[e].tokens);break}}}return b},i.inlineTokens=function r(b,c,e,g){c===void 0&&(c=[]),e===void 0&&(e=!1),g===void 0&&(g=!1);var h,z=b,w,S,O;if(this.tokens.links){var _=Object.keys(this.tokens.links);if(_.length>0)for(;(w=this.tokenizer.rules.inline.reflinkSearch.exec(z))!=null;)_.includes(w[0].slice(w[0].lastIndexOf("[")+1,-1))&&(z=z.slice(0,w.index)+"["+Gb("a",w[0].length-2)+"]"+z.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(w=this.tokenizer.rules.inline.blockSkip.exec(z))!=null;)z=z.slice(0,w.index)+"["+Gb("a",w[0].length-2)+"]"+z.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;b;){S||(O=""),S=!1;if(h=this.tokenizer.escape(b)){b=b.substring(h.raw.length),c.push(h);continue}if(h=this.tokenizer.tag(b,e,g)){b=b.substring(h.raw.length),e=h.inLink,g=h.inRawBlock,c.push(h);continue}if(h=this.tokenizer.link(b)){b=b.substring(h.raw.length),h.type==="link"&&(h.tokens=this.inlineTokens(h.text,[],!0,g)),c.push(h);continue}if(h=this.tokenizer.reflink(b,this.tokens.links)){b=b.substring(h.raw.length),h.type==="link"&&(h.tokens=this.inlineTokens(h.text,[],!0,g)),c.push(h);continue}if(h=this.tokenizer.strong(b,z,O)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),c.push(h);continue}if(h=this.tokenizer.em(b,z,O)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),c.push(h);continue}if(h=this.tokenizer.codespan(b)){b=b.substring(h.raw.length),c.push(h);continue}if(h=this.tokenizer.br(b)){b=b.substring(h.raw.length),c.push(h);continue}if(h=this.tokenizer.del(b)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),c.push(h);continue}if(h=this.tokenizer.autolink(b,$b)){b=b.substring(h.raw.length),c.push(h);continue}if(!e&&(h=this.tokenizer.url(b,$b))){b=b.substring(h.raw.length),c.push(h);continue}if(h=this.tokenizer.inlineText(b,g,Cc)){b=b.substring(h.raw.length),O=h.raw.slice(-1),S=!0,c.push(h);continue}if(b){var na="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(na);break}else throw new Error(na)}}return c},n(k,null,[{key:"rules",get:function r(){return{block:Na,inline:Ca}}}]),k}(),Dc=N.defaults,ac=sa.cleanUrl,Za=sa.escape,ua=function(){function k(r){this.options=r||Dc}var i=k.prototype;return i.code=function r(b,c,e){var g=(c||"").match(/\S*/)[0];if(this.options.highlight){var h=this.options.highlight(b,g);h!=null&&h!==b&&(e=!0,b=h)}return g?'<pre><code class="'+this.options.langPrefix+Za(g,!0)+'">'+(e?b:Za(b,!0))+`</code></pre>
`:"<pre><code>"+(e?b:Za(b,!0))+`</code></pre>
`},i.blockquote=function r(b){return`<blockquote>
`+b+`</blockquote>
`},i.html=function r(b){return b},i.heading=function r(b,c,e,g){return this.options.headerIds?"<h"+c+' id="'+this.options.headerPrefix+g.slug(e)+'">'+b+"</h"+c+`>
`:"<h"+c+">"+b+"</h"+c+`>
`},i.hr=function r(){return this.options.xhtml?`<hr/>
`:`<hr>
`},i.list=function r(b,c,e){var g=c?"ol":"ul",h=c&&e!==1?' start="'+e+'"':"";return"<"+g+h+`>
`+b+"</"+g+`>
`},i.listitem=function r(b){return"<li>"+b+`</li>
`},i.checkbox=function r(b){return"<input "+(b?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.paragraph=function r(b){return"<p>"+b+`</p>
`},i.table=function r(b,c){return c&&(c="<tbody>"+c+"</tbody>"),`<table>
<thead>
`+b+`</thead>
`+c+`</table>
`},i.tablerow=function r(b){return`<tr>
`+b+`</tr>
`},i.tablecell=function r(b,c){var e=c.header?"th":"td",g=c.align?"<"+e+' align="'+c.align+'">':"<"+e+">";return g+b+"</"+e+`>
`},i.strong=function r(b){return"<strong>"+b+"</strong>"},i.em=function r(b){return"<em>"+b+"</em>"},i.codespan=function r(b){return"<code>"+b+"</code>"},i.br=function r(){return this.options.xhtml?"<br/>":"<br>"},i.del=function r(b){return"<del>"+b+"</del>"},i.link=function r(b,c,e){b=ac(this.options.sanitize,this.options.baseUrl,b);if(b===null)return e;var g='<a href="'+Za(b)+'"';return c&&(g+=' title="'+c+'"'),g+=">"+e+"</a>",g},i.image=function r(b,c,e){b=ac(this.options.sanitize,this.options.baseUrl,b);if(b===null)return e;var g='<img src="'+b+'" alt="'+e+'"';return c&&(g+=' title="'+c+'"'),g+=this.options.xhtml?"/>":">",g},i.text=function r(b){return b},k}(),Hb=function(){function k(){}var i=k.prototype;return i.strong=function r(b){return b},i.em=function r(b){return b},i.codespan=function r(b){return b},i.del=function r(b){return b},i.html=function r(b){return b},i.text=function r(b){return b},i.link=function r(b,c,e){return""+e},i.image=function r(b,c,e){return""+e},i.br=function r(){return""},k}(),hb=function(){function k(){this.seen={}}var i=k.prototype;return i.serialize=function r(b){return b.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},i.getNextSafeSlug=function r(b,c){var e=b,g=0;if(this.seen.hasOwnProperty(e)){g=this.seen[b];do g++,e=b+"-"+g;while(this.seen.hasOwnProperty(e))}return c||(this.seen[b]=g,this.seen[e]=0),e},i.slug=function r(b,c){c===void 0&&(c={});var e=this.serialize(b);return this.getNextSafeSlug(e,c.dryrun)},k}(),Ib=N.defaults,Ec=sa.unescape,ib=function(){function k(r){this.options=r||Ib,this.options.renderer=this.options.renderer||new ua(),this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Hb(),this.slugger=new hb()}k.parse=function r(b,c){var e=new k(c);return e.parse(b)},k.parseInline=function r(b,c){var e=new k(c);return e.parseInline(b)};var i=k.prototype;return i.parse=function r(b,c){c===void 0&&(c=!0);var e="",g,h,z,w,S,O,_,na,ea,V,va,Oa,Pa,ta,$,jb,_a,Ea,cc=b.length;for(g=0;g<cc;g++){V=b[g];switch(V.type){case"space":continue;case"hr":{e+=this.renderer.hr();continue}case"heading":{e+=this.renderer.heading(this.parseInline(V.tokens),V.depth,Ec(this.parseInline(V.tokens,this.textRenderer)),this.slugger);continue}case"code":{e+=this.renderer.code(V.text,V.lang,V.escaped);continue}case"table":{for(na="",_="",w=V.header.length,h=0;h<w;h++)_+=this.renderer.tablecell(this.parseInline(V.tokens.header[h]),{header:!0,align:V.align[h]});for(na+=this.renderer.tablerow(_),ea="",w=V.cells.length,h=0;h<w;h++){for(O=V.tokens.cells[h],_="",S=O.length,z=0;z<S;z++)_+=this.renderer.tablecell(this.parseInline(O[z]),{header:!1,align:V.align[z]});ea+=this.renderer.tablerow(_)}e+=this.renderer.table(na,ea);continue}case"blockquote":{ea=this.parse(V.tokens),e+=this.renderer.blockquote(ea);continue}case"list":{for(va=V.ordered,Oa=V.start,Pa=V.loose,w=V.items.length,ea="",h=0;h<w;h++)$=V.items[h],jb=$.checked,_a=$.task,ta="",$.task&&(Ea=this.renderer.checkbox(jb),Pa?$.tokens.length>0&&$.tokens[0].type==="text"?($.tokens[0].text=Ea+" "+$.tokens[0].text,$.tokens[0].tokens&&$.tokens[0].tokens.length>0&&$.tokens[0].tokens[0].type==="text"&&($.tokens[0].tokens[0].text=Ea+" "+$.tokens[0].tokens[0].text)):$.tokens.unshift({type:"text",text:Ea}):ta+=Ea),ta+=this.parse($.tokens,Pa),ea+=this.renderer.listitem(ta,_a,jb);e+=this.renderer.list(ea,va,Oa);continue}case"html":{e+=this.renderer.html(V.text);continue}case"paragraph":{e+=this.renderer.paragraph(this.parseInline(V.tokens));continue}case"text":{for(ea=V.tokens?this.parseInline(V.tokens):V.text;g+1<cc&&b[g+1].type==="text";)V=b[++g],ea+=`
`+(V.tokens?this.parseInline(V.tokens):V.text);e+=c?this.renderer.paragraph(ea):ea;continue}default:{var Mb='Token with "'+V.type+'" type was not found.';if(this.options.silent){console.error(Mb);return}else throw new Error(Mb)}}}return e},i.parseInline=function r(b,c){c=c||this.renderer;var e="",g,h,z=b.length;for(g=0;g<z;g++){h=b[g];switch(h.type){case"escape":{e+=c.text(h.text);break}case"html":{e+=c.html(h.text);break}case"link":{e+=c.link(h.href,h.title,this.parseInline(h.tokens,c));break}case"image":{e+=c.image(h.href,h.title,h.text);break}case"strong":{e+=c.strong(this.parseInline(h.tokens,c));break}case"em":{e+=c.em(this.parseInline(h.tokens,c));break}case"codespan":{e+=c.codespan(h.text);break}case"br":{e+=c.br();break}case"del":{e+=c.del(this.parseInline(h.tokens,c));break}case"text":{e+=c.text(h.text);break}default:{var w='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(w);return}else throw new Error(w)}}}return e},k}(),wb=sa.merge,bc=sa.checkSanitizeDeprecation,Jb=sa.escape,Da=N.getDefaults,Kb=N.changeDefaults,Lb=N.defaults;function W(k,i,r){if(typeof k==="undefined"||k===null)throw new Error("marked(): input parameter is undefined or null");if(typeof k!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(k)+", string expected");typeof i==="function"&&(r=i,i=null),i=wb({},W.defaults,i||{}),bc(i);if(r){var b=i.highlight,c;try{c=gb.lex(k,i)}catch(z){return r(z)}var e=function z(w){var S;if(!w)try{S=ib.parse(c,i)}catch(O){w=O}return i.highlight=b,w?r(w):r(null,S)};if(!b||b.length<3)return e();delete i.highlight;if(!c.length)return e();var g=0;W.walkTokens(c,function(z){z.type==="code"&&(g++,setTimeout(function(){b(z.text,z.lang,function(w,S){if(w)return e(w);S!=null&&S!==z.text&&(z.text=S,z.escaped=!0),g--,g===0&&e()})},0))}),g===0&&e();return}try{var h=gb.lex(k,i);return i.walkTokens&&W.walkTokens(h,i.walkTokens),ib.parse(h,i)}catch(z){z.message+=`
Please report this to https://github.com/markedjs/marked.`;if(i.silent)return"<p>An error occurred:</p><pre>"+Jb(z.message+"",!0)+"</pre>";throw z}}W.options=W.setOptions=function(k){return wb(W.defaults,k),Kb(W.defaults),W},W.getDefaults=Da,W.defaults=Lb,W.use=function(k){var i=wb({},k);k.renderer&&function(){var b=W.defaults.renderer||new ua(),c=function g(h){var z=b[h];b[h]=function(){for(var w=arguments.length,S=new Array(w),O=0;O<w;O++)S[O]=arguments[O];var _=k.renderer[h].apply(b,S);return _===!1&&(_=z.apply(b,S)),_}};for(var e in k.renderer)c(e);i.renderer=b}(),k.tokenizer&&function(){var b=W.defaults.tokenizer||new ub(),c=function g(h){var z=b[h];b[h]=function(){for(var w=arguments.length,S=new Array(w),O=0;O<w;O++)S[O]=arguments[O];var _=k.tokenizer[h].apply(b,S);return _===!1&&(_=z.apply(b,S)),_}};for(var e in k.tokenizer)c(e);i.tokenizer=b}();if(k.walkTokens){var r=W.defaults.walkTokens;i.walkTokens=function(b){k.walkTokens(b),r&&r(b)}}W.setOptions(i)},W.walkTokens=function(k,i){for(var r=s(k),b;!(b=r()).done;){var c=b.value;i(c);switch(c.type){case"table":{for(var e=s(c.tokens.header),g;!(g=e()).done;){var h=g.value;W.walkTokens(h,i)}for(var z=s(c.tokens.cells),w;!(w=z()).done;)for(var S=w.value,O=s(S),_;!(_=O()).done;){var na=_.value;W.walkTokens(na,i)}break}case"list":{W.walkTokens(c.items,i);break}default:c.tokens&&W.walkTokens(c.tokens,i)}}},W.parseInline=function(k,i){if(typeof k==="undefined"||k===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof k!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(k)+", string expected");i=wb({},W.defaults,i||{}),bc(i);try{var r=gb.lexInline(k,i);return i.walkTokens&&W.walkTokens(r,i.walkTokens),ib.parseInline(r,i)}catch(b){b.message+=`
Please report this to https://github.com/markedjs/marked.`;if(i.silent)return"<p>An error occurred:</p><pre>"+Jb(b.message+"",!0)+"</pre>";throw b}},W.Parser=ib,W.parser=ib.parse,W.Renderer=ua,W.TextRenderer=Hb,W.Lexer=gb,W.lexer=gb.lex,W.Tokenizer=ub,W.Slugger=hb,W.parse=W;var Fc=W;return Fc})});const ph=Jc(ze()),fa=new ph.default({APIUrl:"https://flintstone.app/.netlify/identity",audience:"",setCookie:!0});const Pc=new WeakMap(),Kc=a=>(...d)=>{const f=a(...d);return Pc.set(f,!0),f},lb=a=>typeof a==="function"&&Pc.has(a);const fc=typeof window!=="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,Qc=(a,d,f=null,j=null)=>{for(;d!==f;){const n=d.nextSibling;a.insertBefore(d,j),d=n}},Qb=(a,d,f=null)=>{for(;d!==f;){const j=d.nextSibling;a.removeChild(d),d=j}};const ya={},ia={};const Ka=`{{lit-${String(Math.random()).slice(2)}}}`,ic=`<!--${Ka}-->`,_c=new RegExp(`${Ka}|${ic}`),mb="$lit$";class Vc{constructor(a,d){this.parts=[],this.element=d;const f=[],j=[],n=document.createTreeWalker(d.content,133,null,!1);let C=0,y=-1,s=0;const{strings:Q,values:{length:N}}=a;for(;s<N;){const I=n.nextNode();if(I===null){n.currentNode=j.pop();continue}y++;if(I.nodeType===1){if(I.hasAttributes()){const Z=I.attributes,{length:ha}=Z;let da=0;for(let L=0;L<ha;L++)$c(Z[L].name,mb)&&da++;for(;da-- >0;){const L=Q[s],o=Rb.exec(L)[2],A=o.toLowerCase()+mb,q=I.getAttribute(A);I.removeAttribute(A);const t=q.split(_c);this.parts.push({type:"attribute",index:y,name:o,strings:t}),s+=t.length-1}}I.tagName==="TEMPLATE"&&(j.push(I),n.currentNode=I.content)}else if(I.nodeType===3){const Z=I.data;if(Z.indexOf(Ka)>=0){const ha=I.parentNode,da=Z.split(_c),L=da.length-1;for(let o=0;o<L;o++){let A,q=da[o];if(q==="")A=Ra();else{const t=Rb.exec(q);t!==null&&$c(t[2],mb)&&(q=q.slice(0,t.index)+t[1]+t[2].slice(0,-mb.length)+t[3]),A=document.createTextNode(q)}ha.insertBefore(A,I),this.parts.push({type:"node",index:++y})}da[L]===""?(ha.insertBefore(Ra(),I),f.push(I)):I.data=da[L],s+=L}}else if(I.nodeType===8)if(I.data===Ka){const Z=I.parentNode;(I.previousSibling===null||y===C)&&(y++,Z.insertBefore(Ra(),I)),C=y,this.parts.push({type:"node",index:y}),I.nextSibling===null?I.data="":(f.push(I),y--),s++}else{let Z=-1;for(;(Z=I.data.indexOf(Ka,Z+1))!==-1;)this.parts.push({type:"node",index:-1}),s++}}for(const I of f)I.parentNode.removeChild(I)}}const $c=(a,d)=>{const f=a.length-d.length;return f>=0&&a.slice(f)===d},Xc=a=>a.index!==-1,Ra=()=>document.createComment(""),Rb=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class gc{constructor(a,d,f){this.__parts=[],this.template=a,this.processor=d,this.options=f}update(a){let d=0;for(const f of this.__parts)f!==void 0&&f.setValue(a[d]),d++;for(const f of this.__parts)f!==void 0&&f.commit()}_clone(){const a=fc?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),d=[],f=this.template.parts,j=document.createTreeWalker(a,133,null,!1);let n=0,C=0,y,s=j.nextNode();for(;n<f.length;){y=f[n];if(!Xc(y)){this.__parts.push(void 0),n++;continue}for(;C<y.index;)C++,s.nodeName==="TEMPLATE"&&(d.push(s),j.currentNode=s.content),(s=j.nextNode())===null&&(j.currentNode=d.pop(),s=j.nextNode());if(y.type==="node"){const Q=this.processor.handleTextExpression(this.options);Q.insertAfterNode(s.previousSibling),this.__parts.push(Q)}else this.__parts.push(...this.processor.handleAttributeExpressions(s,y.name,y.strings,this.options));n++}return fc&&(document.adoptNode(a),customElements.upgrade(a)),a}}const Yc=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:a=>a}),ke=` ${Ka} `;class zb{constructor(a,d,f,j){this.strings=a,this.values=d,this.type=f,this.processor=j}getHTML(){const a=this.strings.length-1;let d="",f=!1;for(let j=0;j<a;j++){const n=this.strings[j],C=n.lastIndexOf("<!--");f=(C>-1||f)&&n.indexOf("-->",C+1)===-1;const y=Rb.exec(n);y===null?d+=n+(f?ke:ic):d+=n.substr(0,y.index)+y[1]+y[2]+mb+y[3]+Ka}return d+=this.strings[a],d}getTemplateElement(){const a=document.createElement("template");let d=this.getHTML();return Yc!==void 0&&(d=Yc.createHTML(d)),a.innerHTML=d,a}}class Zc extends zb{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const a=super.getTemplateElement(),d=a.content,f=d.firstChild;return d.removeChild(f),Qc(d,f.firstChild),a}}const yb=a=>a===null||!(typeof a==="object"||typeof a==="function"),hc=a=>Array.isArray(a)||!!(a&&a[Symbol.iterator]);class dc{constructor(a,d,f){this.dirty=!0,this.element=a,this.name=d,this.strings=f,this.parts=[];for(let j=0;j<f.length-1;j++)this.parts[j]=this._createPart()}_createPart(){return new Rc(this)}_getValue(){const a=this.strings,d=a.length-1,f=this.parts;if(d===1&&a[0]===""&&a[1]===""){const n=f[0].value;if(typeof n==="symbol")return String(n);if(typeof n==="string"||!hc(n))return n}let j="";for(let n=0;n<d;n++){j+=a[n];const C=f[n];if(C!==void 0){const y=C.value;if(yb(y)||!hc(y))j+=typeof y==="string"?y:String(y);else for(const s of y)j+=typeof s==="string"?s:String(s)}}return j+=a[d],j}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Rc{constructor(a){this.value=void 0,this.committer=a}setValue(a){a!==ya&&(!yb(a)||a!==this.value)&&(this.value=a,lb(a)||(this.committer.dirty=!0))}commit(){for(;lb(this.value);){const a=this.value;this.value=ya,a(this)}if(this.value===ya)return;this.committer.commit()}}class ab{constructor(a){this.value=void 0,this.__pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(Ra()),this.endNode=a.appendChild(Ra())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a.__insert(this.startNode=Ra()),a.__insert(this.endNode=Ra())}insertAfterPart(a){a.__insert(this.startNode=Ra()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this.__pendingValue=a}commit(){if(this.startNode.parentNode===null)return;for(;lb(this.__pendingValue);){const d=this.__pendingValue;this.__pendingValue=ya,d(this)}const a=this.__pendingValue;if(a===ya)return;yb(a)?a!==this.value&&this.__commitText(a):a instanceof zb?this.__commitTemplateResult(a):a instanceof Node?this.__commitNode(a):hc(a)?this.__commitIterable(a):a===ia?(this.value=ia,this.clear()):this.__commitText(a)}__insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}__commitNode(a){if(this.value===a)return;this.clear(),this.__insert(a),this.value=a}__commitText(a){const d=this.startNode.nextSibling;a=a==null?"":a;const f=typeof a==="string"?a:String(a);d===this.endNode.previousSibling&&d.nodeType===3?d.data=f:this.__commitNode(document.createTextNode(f)),this.value=a}__commitTemplateResult(a){const d=this.options.templateFactory(a);if(this.value instanceof gc&&this.value.template===d)this.value.update(a.values);else{const f=new gc(d,a.processor,this.options),j=f._clone();f.update(a.values),this.__commitNode(j),this.value=f}}__commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());const d=this.value;let f=0,j;for(const n of a)j=d[f],j===void 0&&(j=new ab(this.options),d.push(j),f===0?j.appendIntoPart(this):j.insertAfterPart(d[f-1])),j.setValue(n),j.commit(),f++;f<d.length&&(d.length=f,this.clear(j&&j.endNode))}clear(a=this.startNode){Qb(this.startNode.parentNode,a.nextSibling,this.endNode)}}class Mc{constructor(a,d,f){this.value=void 0,this.__pendingValue=void 0;if(f.length!==2||f[0]!==""||f[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=d,this.strings=f}setValue(a){this.__pendingValue=a}commit(){for(;lb(this.__pendingValue);){const d=this.__pendingValue;this.__pendingValue=ya,d(this)}if(this.__pendingValue===ya)return;const a=!!this.__pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=a),this.__pendingValue=ya}}class Oc extends dc{constructor(a,d,f){super(a,d,f);this.single=f.length===2&&f[0]===""&&f[1]===""}_createPart(){return new ie(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class ie extends Rc{}let Sc=!1;(()=>{try{const a={get capture(){return Sc=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}})();class Nc{constructor(a,d,f){this.value=void 0,this.__pendingValue=void 0,this.element=a,this.eventName=d,this.eventContext=f,this.__boundHandleEvent=j=>this.handleEvent(j)}setValue(a){this.__pendingValue=a}commit(){for(;lb(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=ya,n(this)}if(this.__pendingValue===ya)return;const a=this.__pendingValue,d=this.value,f=a==null||d!=null&&(a.capture!==d.capture||a.once!==d.once||a.passive!==d.passive),j=a!=null&&(d==null||f);f&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),j&&(this.__options=je(a),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=a,this.__pendingValue=ya}handleEvent(a){typeof this.value==="function"?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}const je=a=>a&&(Sc?{capture:a.capture,passive:a.passive,once:a.once}:a.capture);class he{handleAttributeExpressions(a,d,f,j){const n=d[0];if(n==="."){const y=new Oc(a,d.slice(1),f);return y.parts}if(n==="@")return[new Nc(a,d.slice(1),j.eventContext)];if(n==="?")return[new Mc(a,d.slice(1),f)];const C=new dc(a,d,f);return C.parts}handleTextExpression(a){return new ab(a)}}const ec=new he();function Tc(a){let d=Wc.get(a.type);d===void 0&&(d={stringsArray:new WeakMap(),keyString:new Map()},Wc.set(a.type,d));let f=d.stringsArray.get(a.strings);if(f!==void 0)return f;const j=a.strings.join(Ka);return f=d.keyString.get(j),f===void 0&&(f=new Vc(a,a.getTemplateElement()),d.keyString.set(j,f)),d.stringsArray.set(a.strings,f),f}const Wc=new Map();const Uc=new WeakMap(),Ab=(a,d,f)=>{let j=Uc.get(d);j===void 0&&(Qb(d,d.firstChild),Uc.set(d,j=new ab(Object.assign({templateFactory:Tc},f))),j.appendInto(d)),j.setValue(a),j.commit()};typeof window!=="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const x=(a,...d)=>new zb(a,d,"html",ec),Sa=(a,...d)=>new Zc(a,d,"svg",ec);let aa=(a,d=document)=>d.querySelector(a),za=a=>JSON.parse(JSON.stringify(a)),Pd=(a,d)=>Object.keys(a).forEach(f=>d[f]=a[f]),ja=(a,d)=>aa(`[data-index="${a}"]`,d),La=(a,d,f)=>a.style.setProperty(`--${d}`,f),Sd=(a,d,f={})=>a.forEach(j=>d[j]=d[j]||f),ed=()=>location=location.href,sd=a=>{let d=new Blob([JSON.stringify(a)],{type:"application/json"});return URL.createObjectURL(d)},Hd=a=>a.replace(/</g,"%3C").replace(/{/g,"B").replace(/expression\(.+?\)/g,""),Fb=(a,d)=>d==void 0?JSON.parse(localStorage.getItem(a)):localStorage.setItem(a,JSON.stringify(d)),Cb=(a,d)=>{let f=a.target;d[f.name]=f.value},cb=(a,d)=>document.documentElement.classList.toggle(a,d);const M=({title:a="",action:d=null,type:f="",content:j="",className:n="",disabled:C=!1})=>x`<button type=${f} ?disabled=${C} title=${a} class=${n} @click=${d}>${j}</button>`;const X=a=>x`
<modal @click=${()=>Xa(!1)} class=mount>
  ${a}
</modal>`;const Va=(a="Your email or password may be invalid")=>x`
<span>
  ${a}.
  ${M({content:"Try logging in again",className:"link underline",action:()=>K(X(pb()))})}
  or
  ${M({content:"continue using anonymously.",className:"link underline",action:()=>K()})}
</span>`;const ob=({fields:a,formData:d})=>a.map(f=>x`
<label>
  ${f}
  <input required=true @input=${j=>Cb(j,d)}
  type=${/email|password/.test(f)?f:"text"}
  name=${f} />
</label>`);const dd=()=>{let a=["email"],d={};return x`
  <form class=mount>
    ${ob({fields:a,formData:d})}
    ${M({className:"primary",content:"Send Recovery Email",action:()=>{E("loading",!0),fa.requestPasswordRecovery(d.email).then(()=>{E("loading",!1),K(X("Recovery email sent. Check your inbox."))}).catch(f=>{ra(f),K(X(Va(f.message)))})}})}
    ${M({className:"link",content:"Back to sign in",action:()=>K(X(pb()))})}
  </form>`};const nb=()=>x`
<div>
  <h1 class=mount>Welcome to <span style="color: var(--primary)">Flintstone</span>!</h1>
  <p>The tool for creating formal-ish documents on the go.</p>
</div>
<form class="mount">
${M({content:"Start from scratch",className:"primary",action:()=>Eb.then(a=>{l.savedLocally=!0,l.loading=!1,l.currentUser.styles=a.currentUser.styles,Bb(),K(),oa(!0),console.log(l.currentUser.styles)})})}
${M({content:"Use the starter template",className:"link",action:()=>Eb.then(a=>{Pd(a,l),l.savedLocally=!0,l.loading=!1,Bb(),K(),oa(!0)}).catch(a=>{ra(a),K(X(Va(a.message)))})})}
</form>`;function pb(){let a={};return x`
  <form class=mount>
    <label>
      Email
      <input required @input=${d=>Cb(d,a)} type=email name=email />
    </label>
    <label>
      Password
      <input required @input=${d=>Cb(d,a)} type=password name=password />
      ${M({className:"link",content:"Forgot Password",action:()=>K(X(dd()))})}
    </label>

    ${M({className:"primary",content:"Sign In",action:()=>{E("loading",!0),fa.login(a.email,a.password,!0).then(()=>{oa(!0),ed()}).catch(d=>{ra(d),K(X(Va(d.message)))})}})}
    ${M({className:"link",content:"Continue using anonymously",action:()=>l.savedLocally?K():K(X(nb()))})}
  </form>`}const fd=()=>{let a=fa.currentUser();return x`
  <form class=mount>
    ${M({className:"primary",content:"Sign Out",action:()=>{E("loading",!0),fa.currentUser().logout().then(()=>location=location.href)}})}
    ${M({className:"link",content:x`Continue as <strong>${a.user_metadata.full_name||a.email}</strong>`,action:()=>K()})}
  </form>`};const gd=()=>{let a=["name","email","password"],d={};return x`
  <form class=mount>
    ${ob({fields:a,formData:d})}
    ${M({className:"primary",content:"Create Account",action:()=>{E("loading",!0),fa.signup(d.email,d.password,{full_name:d.name}).then(()=>{E("loading",!1),K(X("Confirmation email sent. Check your inbox."))}).catch(f=>{ra(f),K(X(Va(f.message)))})}})}
    ${M({className:"link",content:"Continue using anonymously",action:()=>l.savedLocally?K():K(X(nb()))})}
  </form>`};const bb=({content:a,className:d=""})=>Sa`
<svg class=${d} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 216 216">
  ${a}
</svg>`;const Ta=a=>{a==void 0?(Ya("showStyles",!Ma.showStyles),K()):(Ya("showStyles",a),K())};const Dd=()=>{l.loading=!0,l.showPreview=!0,K(),setTimeout(()=>{print(),E("loading",!1)},500)};let sc="flintstone_data",tc="flintstone_preferences",Qd={expandedAdjustments:[],exportSelection:{},forImport:{},currentUser:{documents:[{id:"New Document",body:""}],datasets:[{id:"New Data",fields:[["",""]]}],styles:{}}},Rd={dark:!1,showStyles:!1,showMenu:!1},Ga=["documents","datasets"];const rd=(a,d,f)=>{let j=`${a.id}_${d}`,n=C=>{C.target.checked?l.exportSelection[f].push(za(a)):l.exportSelection[f]=l.exportSelection[f].filter(y=>y.id!=a.id),K(X(Tb()))};return x`
  <label class=flex style="margin-bottom: .5rem">
    <input name=${j} type=checkbox @input=${n} />
    <h3>${a.id}</h3>
  </label>`};const mc=a=>{var j;let d,f=new FileReader();l.forImport={},((j=a.dataTransfer)==null?void 0:j.items)?(a.preventDefault(),d=a.dataTransfer.items[0].getAsFile()):a.dataTransfer?(a.preventDefault(),d=a.dataTransfer.files[0]):d=a.target.files[0],f.onerror=ra,f.onload=function(){let n=JSON.parse(this.result);Ga.map(C=>l.forImport[C]=n[C]||[]),l.importSelection=za(l.forImport),l.loading=!1,K(X(Wa()))},E("loading",!0),f.readAsText(d)};const Wa=()=>Object.keys(l.forImport).length?x`
  <form class=mount>
    ${Ga.map(a=>Ub(l.forImport,a,"import"))}
    ${M({className:"primary",content:"Import Selected",disabled:!Ga.some(a=>{var d;return(d=l.importSelection[a])==null?void 0:d.length}),action:()=>{for(let a of Ga)l.currentUser[a]=l.currentUser[a].concat(l.importSelection[a]);E("forImport",{})}})}
    ${M({className:"link",content:"Back to editing",action:()=>K()})}
  </form>`:x`
  <input class=mount type=file accept=".json" @input=${mc} @dragleave=${a=>{a.preventDefault(),K()}} @drop=${mc} />
  <h3 class=mount style="pointer-events: none;">Click or drop a file to import it.</h3>`;const td=(a,d,f)=>{let j=`${a.id}_${d}`,n=C=>{C.target.checked?l.importSelection[f].push(za(a)):l.importSelection[f]=l.importSelection[f].filter(y=>y.id!=a.id),K(X(Wa()))};return x`
  <label class=flex style="margin-bottom: .5rem">
    <input checked name=${j} type=checkbox @input=${n} />
    <h3>${a.id}</h3>
  </label>`};const Ub=(a,d,f)=>{var j;return x`
<div style="width: 100%">
${((j=Object.keys(a[d]))==null?void 0:j.length)?x`
    <label style="margin-bottom: .5rem;">${d}</label>
      ${a[d].map((n,C)=>{if(f=="import")return td(n,C,d);if(f=="export")return rd(n,C,d)})}`:ia}
</div>`};const Tb=()=>x`
<form class=mount>
  ${Ga.map(a=>Ub(l.currentUser,a,"export"))}
  <a class="button primary" 
  ?disabled=${!Ga.some(a=>{var d;return(d=l.exportSelection[a])==null?void 0:d.length})} 
  href=${sd(l.exportSelection)} 
  download="Flintstone Export (${new Date().toLocaleDateString()})">
    Export Selected
  </a>
  ${M({className:"link",content:"Back to editing",action:()=>K()})}
</form>`;const Bd=()=>x`
<nav>
${M({className:"icon",content:`✨ ${Ma.showStyles?"Close":"Open"} style editor`,action:()=>{Xa(!1),Ta()}})}
${M({className:"icon",content:"🖨️ Print current document",action:Dd})}
${M({className:"icon",content:"⛵ Start an import",action:()=>K(X(Wa()))})}
${M({className:"icon",content:"🚚 Start an export",action:()=>{l.exportSelection={},Ga.map(a=>l.exportSelection[a]=[]),K(X(Tb()))}})}
${M({className:"icon",content:x`<light>🌞</light><dark>🌝</dark> Switch to <light>dark</light><dark>light</dark> theme`,action:()=>Ya("dark",!Ma.dark)})}
</nav>`;const Cd=()=>x`
<div id=logo>
  <light>
    <desktop-only>
      <img alt="Flintstone logo" src="logo.svg" />
    </desktop-only>
    <mobile-only>
      <img alt="Flintstone logo" src="logo-icon.svg" />
    </mobile-only>
  </light>
  <dark>
    <desktop-only>
      <img alt="Flintstone logo" src="logo-light.svg" />
    </desktop-only>
    <mobile-only>
      <img alt="Flintstone logo" src="logo-icon-light.svg" />
    </mobile-only>
  </dark>
</div>`;const Db=()=>{let a=fa.currentUser();return x`
  ${Cd()}
  ${a?ia:M({className:"primary",content:"Sign up",action:()=>K(X(gd()))})}
  ${M({className:"link",content:a?x`Signed in as <strong>${a.user_metadata.full_name||a.email}</strong>`:"Sign in",action:a?()=>K(X(fd())):()=>K(X(pb()))})}
  ${l.savedLocally?x`<separator></separator>`:ia}
  ${l.savedLocally?M({title:`${l.showMenu?"Close":"Open"} menu`,content:bb({content:Sa`
            <line y1="30" x2="100%" y2="30"/>
            <line y1="50%" x2="100%" y2="50%"/>
            <line y1="186" x2="100%" y2="186"/>`}),className:"icon menu-toggle",action:()=>Xa()}):ia}
  ${Bd()}`};const Xa=a=>{a==void 0?(Ya("showMenu",!Ma.showMenu),Ab(Db(),aa("header"))):(Ya("showMenu",a),Ab(Db(),aa("header")))};class ka{constructor(a,d=()=>null){this.elements=Array.isArray(a)?a:[a],this.modifier=d,this.duration=300}added(){let a=this.elements[0];a.style.transition="none",a.style.opacity=0,La(a,"translateY",1),La(a,"scaleY",0),setTimeout(()=>{a.style.transition="",a.style.opacity=1,La(a,"translateY",0),La(a,"scaleY",1)},10)}removed(){let{elements:a,duration:d,modifier:f}=this,j=a[0];j.style.opacity=0,La(j,"scaleY",0),setTimeout(()=>{f(),j.style.transition="none",j.style.opacity=1,La(j,"scaleY",1),setTimeout(()=>j.style.transition="",d)},d)}swapped(a){let[d,f]=this.elements;La(d,"translateY",a),La(f,"translateY",a*-1),this.elements.map(j=>j.style.transition="none"),setTimeout(()=>{this.elements.map(j=>{j.style.transition="",La(j,"translateY",0)}),this.modifier()},10)}}const Sb=a=>{E("currentDataset",l.currentUser.datasets[a])};const hd=()=>{var n;let a={id:"New Data",fields:[["",""]]},d=l.currentUser.datasets.length;l.currentUser.datasets.push(a),Sb(d);let f=ja(d,aa(".data .sets")),j=new ka(f);j.added(),(n=aa(".data [data-active] input"))==null?void 0:n.focus(),oa()};const id=()=>{l.currentDataset.fields.push(["",""]),E("currentDataset",l.currentDataset,!0);let a=ja(l.currentDataset.fields.length-1,aa(".fields"));new ka(a).added()};const jd=a=>{let d=l.currentUser.datasets[a],f=za(d);f.id=d.id+" copy",l.currentUser.datasets.push(f),E("currentUser",l.currentUser),E("currentDataset",f,!0);let j=ja(a+1,aa(".data .sets")),n=new ka(j);n.added()};const kd=a=>{let d=l.currentUser.datasets,f=d[a];if(!confirm(`Are you sure you want to delete ${f.id}?`))return;let j=ja(a,aa(".data .sets")),n=new ka(j,()=>{d.splice(a,1),l.currentUser.datasets=d,E("currentDataset",l.currentUser.datasets[0],!0)});n.removed()};const ld=a=>{l.currentDataset.id=a,E("currentDataset",l.currentDataset,!0)};const od=a=>{let d=ja(a,aa(".fields")),f=new ka(d,()=>{l.currentDataset.fields.splice(a,1),E("currentDataset",l.currentDataset,!0)});f.removed()};const pd=(a,d)=>{let[f,j]=l.currentDataset.fields[a];l.currentDataset.fields[a]=[d,j],E("currentDataset",l.currentDataset,!0)};const qd=(a,d)=>{let[f,j]=l.currentDataset.fields[a];l.currentDataset.fields[a]=[f,d],E("currentDataset",l.currentDataset,!0)};const lc=(a,d)=>{document.activeElement.blur();let f=d>0?"down":"up",j=l.currentDataset.fields[a],n=a+d,C=aa(".fields"),y=ja(a,C),s=ja(n,C);l.currentDataset.fields.splice(a,1),l.currentDataset.fields.splice(n,0,j),E("currentDataset",l.currentDataset,!0);let Q=new ka([y,s],()=>aa(`[title*="${f}"]`,s).focus());Q.swapped(d)};const md=([a,d],f,j)=>{let n=`${j}_${f}_key`,C=`${j}_${f}_value`;return x`
  <li data-index=${f}>
    <key>
      <input 
      title="Rename this field"
      type=text
      .value=${a} 
      id=${n}
      @input=${y=>pd(f,y.target.value)} />
    </key>
    <value>
      <input 
      title="Change the value this field"
      type=text
      .value=${d} 
      id=${C}
      @input=${y=>qd(f,y.target.value)} />
    </value>
    <actions>
      <div class=join-buttons>
        ${M({title:"Move field up",className:"icon",disabled:f==0,content:bb({content:Sa`<polyline points="184.69 146.81 108 70.12 31.31 146.81" />`,className:"line"}),action:()=>lc(f,-1)})}
        ${M({title:"Move field down",className:"icon",disabled:f==l.currentDataset.fields.length-1,content:bb({content:Sa`<polyline points="184.69 70.12 108 146.81 31.31 70.12" />`,className:"line"}),action:()=>lc(f,1)})}
      </div>
      ${M({title:"Delete field",className:"icon",content:"🗑️",action:()=>od(f)})}
    </actions>
  </li>
  `};const nd=()=>{let a=l.currentDataset;return x`
  <div @click=${()=>Ta(!1)} class="pane data">
    <label for="currentDatasetTitle">Current data</label>
    ${a?x`
      <div class="selection mount">

        <div class="selection__header">
          <h2 data-active=true>
            <input 
            id=currentDatasetTitle
            title="Rename the current data set"
            type=text 
            .value=${a.id} 
            @input=${d=>ld(d.target.value)} />
          </h2>
        </div>

        <ul class="fields">
        ${a.fields.length?x`
            <li>
              <label>Name</label>
              <label>Value</label>
              <span></span>
            </li>`:ia}
        ${a.fields.map((d,f)=>md(d,f,a.id))}
          <button @click=${id}>Add Field</button>
        </ul>

      </div>`:ia}

    <label>All data</label>
    <ul class="sets mount">
      ${l.currentUser.datasets.map((d,f)=>x`
      <li data-index=${f}>
        ${M({title:`Select ${d.id}`,className:"link",action:()=>Sb(f),content:x`<h4>${d.id}</h4>`})}
        ${M({title:`Duplicate ${d.id}`,className:"icon",action:()=>jd(f),content:"📄"})}
        ${l.currentUser.datasets.length>1?M({title:`Delete ${d.id}`,className:"icon",action:()=>kd(f),content:"🗑️"}):ia}
      </li>`)}
      <button @click=${hd}>Add Data</button>
    </ul>
  </div>`};const Vb=a=>{E("currentDocument",l.currentUser.documents[a])};const wd=()=>{var n;let a={id:"New Document",body:""},d=l.currentUser.documents.length;l.currentUser.documents.push(a),Vb(d);let f=ja(d,aa(".documents .sets")),j=new ka(f);j.added(),(n=aa(".documents [data-active] input"))==null?void 0:n.focus(),oa()};const xd=a=>{let d=l.currentUser.documents,f=d[a];if(!confirm(`Are you sure you want to delete ${f.id}?`))return;let j=ja(a,aa(".documents .sets")),n=new ka(j,()=>{d.splice(a,1),l.currentUser.documents=d,E("currentDocument",l.currentUser.documents[0],!0)});n.removed()};const yd=a=>{l.currentDocument.id=a,E("currentDocument",l.currentDocument,!0)};const zd=a=>{let d=l.currentUser.documents[a],f=za(d);f.id=d.id+" copy",l.currentUser.documents.push(f),E("currentUser",l.currentUser),E("currentDocument",f,!0);let j=ja(l.currentUser.documents.length-1,aa(".documents .sets")),n=new ka(j);n.added()};let nc=a=>`page_${a+1}`,qe=/\n\s*\-{3,}\s*\n/;const vd=()=>{let a=l.currentDocument.body,d=n=>{var C;E("showPreview",!0),(C=aa("#"+nc(n)))==null?void 0:C.scrollIntoView()},f=n=>{let C=n.match(/.+?(\n|$)/)[0],y=C.trim();return y.replace(/[^A-z0-9]*/,"")},j=a.split(qe);return j.length||(j=[a]),x`
  <div class=toc-wrapper>
    <h3>Pages</h3>
    <ol class=toc>
      ${j.map((n,C)=>x`
        <li>
          <button class=link @click=${()=>d(C)}>
            ${C+1}. ${f(n)}
          </button>
        </li>`)}
    </ol>
  </div>`};const Ad=()=>{let a=l.currentDocument;return x`
  <div class="pane documents">
    <label for="currentDocumentTitle">Current document</label>
    ${a?x`
      <div class="selection mount">

        <div class="selection__header">
          <h2 data-active=true>
            <input 
            type=text 
            id=currentDocumentTitle
            .value=${a.id} 
            @input=${d=>yd(d.target.value)} />
          </h2>
        </div>
        
        ${a.body.length?vd():ia}
      </div>
      `:ia}

    <label>All documents</label>
    <ul class="sets mount">
      ${l.currentUser.documents.map((d,f)=>x`
      <li data-index=${f}>
        ${M({title:`Select ${d.id}`,className:"link",action:()=>Vb(f),content:x`<h4>${d.id}</h4>`})}
        ${M({title:`Duplicate ${d.id}`,className:"icon",action:()=>zd(f),content:"📄"})}
        ${l.currentUser.documents.length>1?M({title:`Delete ${d.id}`,className:"icon",action:()=>xd(f),content:"🗑️"}):ia}
      </li>`)}
      <button @click=${wd}>Add Document</button>
    </ul>
  </div>`};const Lc=new WeakMap(),Pb=Kc(a=>d=>{if(!(d instanceof ab))throw new Error("unsafeHTML can only be used in text bindings");const f=Lc.get(d);if(f!==void 0&&yb(a)&&a===f.value&&d.value===f.fragment)return;const j=document.createElement("template");j.innerHTML=a;const n=document.importNode(j.content,!0);d.setValue(n),Lc.set(d,{value:a,fragment:n})});const Ij=Jc(ye()),Jj=Jc(Me());function pe(a){for(let[d,f]of l.currentDataset.fields)if(d==a)return f}function oc(a){return pe(a.slice(1,-1).trim(),l.currentDataset.fields)}let pc=/\{.+?\}/g;const ud=()=>{if(!l.currentDocument.body.length)return x`
    <div class=preview__page>
      <p>
        Write something in <a class=link @click=${()=>E("showPreview",!1)}>the editor</a> to see it
        show
        up here.
      </p>
    </div>`;let a=l.currentDocument.body.replace(pc,oc),d=Ij.sanitize(Jj.default(a));return d.split("<hr>").map((f,j)=>x`
      <div id=${nc(j)} class=preview__page>
        ${Pb(f)}
      </div>`)};const Ed=()=>{let a=([f,j])=>{if(/content|font-family/i.test(f))if(j.length)j='"'+j.replace(/"/g,'\\"')+'"';else return;return j=j.replace(pc,oc),[f,Hd(j)].join(":")},d=`\r
  <style>${Object.entries(l.currentUser.styles).map(([f,j])=>`.preview ${f} {\r
        ${Object.entries(j).map(a).join(";")}\r
      }`).join("")}</style>`;return x`

  <toolbar>
    <button 
    ?data-active=${!l.showPreview} 
    title="Show editor" 
    class=icon
    @click=${()=>E("showPreview",!1)}>
      ✍️
    </button>
    <button 
    ?data-active=${l.showPreview} 
    title="Show preview" 
    class=icon
    @click=${()=>E("showPreview",!0)}>
      👀
    </button>
    <a 
    title="Format your text like a pro with the Markdown cheatsheet."
    class="button icon" 
    rel="noopener"
    target=_blank 
    href="https://www.markdownguide.org/cheat-sheet/">
      ❓
    </a>
  </toolbar>

  ${l.showPreview?x`
      <div class=preview>
        <div class=preview__wrapper>
          ${ud()}
        </div>
      </div>
      ${Pb(d)}`:x`
      <textarea 
      class=editor 
      placeholder="Start typing when you're ready..."
      @input=${f=>{l.currentDocument.body=f.target.value,oa()}}>${l.currentDocument.body}</textarea>`}`};let rb=["font-family","font-size","font-weight","line-height","letter-spacing","text-transform","text-align","color"],Xb=["font-weight","text-transform","color"],Ud=["content","color","font-size","font-weight","text-transform","letter-spacing","text-align"],Vd=["padding-left","padding-right","color","list-style"],Wd=["font-size","font-weight","text-transform","text-align","color"],qb={".preview__wrapper":{normieName:"global",useAdjustments:["font-family","font-size","line-height","--vertical-space"]},".preview__page":{normieName:"pages",useAdjustments:["padding-top","padding-bottom","padding-left","padding-right"]},".preview__wrapper::before":{normieName:"header",useAdjustments:Ud},".preview__wrapper::after":{normieName:"footer",useAdjustments:Ud},h1:{normieName:"level 1 headings",useAdjustments:rb},h2:{normieName:"level 2 headings",useAdjustments:rb},h3:{normieName:"level 3 headings",useAdjustments:rb},h4:{normieName:"level 4 headings",useAdjustments:rb},h5:{normieName:"level 5 headings",useAdjustments:rb},h6:{normieName:"level 6 headings",useAdjustments:rb},a:{normieName:"links",useAdjustments:Xb},strong:{normieName:"bold text",useAdjustments:Xb},em:{normieName:"italic Text",useAdjustments:Xb},del:{normieName:"strikethroughs",useAdjustments:Xb},ul:{normieName:"unordered lists",useAdjustments:Vd},ol:{normieName:"ordered lists",useAdjustments:Vd},blockquote:{normieName:"block quotes",useAdjustments:["color","padding-left","padding-right","border-width","border-color"]},img:{normieName:"images",useAdjustments:["width"]},th:{normieName:"table headings",useAdjustments:Wd},td:{normieName:"table cells",useAdjustments:Wd}};class uc{constructor(a){this.type=a}}class Yb extends uc{constructor({placeholder:a}){super("text");this.placeholder=a||""}}class Ha extends uc{constructor({min:a,max:d,step:f,unit:j}){super("range");this.min=a||0,this.max=d||100,this.step=f||1,this.unit=j||""}}class vc extends uc{constructor({options:a,defaultValue:d}){super("select");this.options=a||[],this.defaultValue=d||""}}let Id={content:new Yb({placeholder:"{ date }"}),"font-family":new Yb({placeholder:"Helvetica"}),"font-size":new Ha({min:8,max:72,step:1,unit:"px"}),"font-weight":new Ha({min:300,max:900,step:50}),"letter-spacing":new Ha({min:-5,max:5,step:.2,unit:"px"}),"line-height":new Ha({min:.5,max:3,step:.1}),"--vertical-space":new Ha({min:0,max:56,step:1,unit:"px"}),"text-transform":new vc({defaultValue:"none",options:["capitalize","uppercase","lowercase","none"]}),"text-align":new vc({defaultValue:"left",options:["left","center","right"]}),width:new Ha({min:0,max:100,step:1,unit:"%"}),"list-style":new vc({defaultValue:"disc",options:["disc","circle","square","decimal","lower-alpha","upper-alpha","lower-roman","upper-roman","none"]}),color:new Yb({placeholder:"Tomato"}),"border-color":new Yb({placeholder:"DodgerBlue"}),"border-width":new Ha({min:0,max:10,step:.5,unit:"px"}),"padding-top":new Ha({min:0,max:56,step:1,unit:"px"}),"padding-bottom":new Ha({min:0,max:56,step:1,unit:"px"}),"padding-left":new Ha({min:0,max:56,step:1,unit:"px"}),"padding-right":new Ha({min:0,max:56,step:1,unit:"px"})};const Wb=(a,d,f)=>{l.currentUser.styles[a][d]=f,E("currentUser",l.currentUser,!0)};let rc=a=>a.replace(/-+/g," ").trim(),re=a=>parseFloat(a.replace(/turn|deg|pt|px|rem|em|ch|in|vw|vh|%/g,"").trim()),Jd=([a,{normieName:d}],[f,{min:j,max:n,step:C,unit:y}])=>{let s=l.currentUser.styles[a][f]||"",Q=re(s),N=rc(f);return x`
  <label>
    <span class=label>
      <span class=label__name>${N}</span>
      <span class=label__value>${s||""}</span>
    </span>
    <input 
    title='Change ${d} ${N}'
    min=${j}
    max=${n}
    step=${C}
    .value=${Q}
    type=range
    @input=${I=>Wb(a,f,I.target.value+y)} />
  </label>`},Ld=([a,{normieName:d}],[f,{placeholder:j}])=>{let n=l.currentUser.styles[a][f],C=rc(f);return x`
  <label>
    <span class=label>
      <span class=label__name>${C}</span>
    </span>
    <input
    title='Change ${d} ${C}'
    placeholder=${j}
    .value=${n||""}
    type=text
    @input=${y=>Wb(a,f,y.target.value)} />
  </label>`},Kd=([a,{normieName:d}],[f,{options:j,defaultValue:n}])=>{let C=l.currentUser.styles[a][f]||n,y=rc(f);return x`
  <label>
    <span class=label>
      <span class=label__name>${y}</span>
    </span>
    <select
    title='Change ${d} ${y}'
    .value=${C||""}
    @input=${s=>Wb(a,f,s.target.value)}>
      ${j.map(s=>x`<option ?selected=${s==C}>${s}</option>`)}
    </select>
  </label>`};const qc=a=>{let d=document.createElement("style");d.id="temp",d.innerHTML=`\r
  .preview ${a} {\r
    box-shadow: 0 0 0 var(--borderWidth) var(--primary-80);\r
    border-radius: var(--radius);\r
    transition: box-shadow var(--transition);\r
  }`,document.body.appendChild(d)};const Md=a=>{Eb.then(d=>{let f=l.currentUser.styles;f[a]=za(d.currentUser.styles[a]),l.expandedAdjustments.push(qb[a].normieName),E("currentUser",l.currentUser,!0)})};const Nd=a=>{let d=l.expandedAdjustments,f=d.includes(a);f?d.splice(d.indexOf(a),1):d.push(a),E("expandedAdjustments",d)};const Od=([a,{normieName:d,useAdjustments:f}])=>{let j=l.expandedAdjustments.includes(d);return x`
  <div 
  class=adjustment 
  ?data-expanded=${j}
  @mouseenter=${()=>qc(a)} 
  @touchstart=${()=>qc(a)}
  @mouseleave=${()=>{var n;return(n=aa("#temp"))==null?void 0:n.remove()}}
  @touchend=${()=>{var n;return(n=aa("#temp"))==null?void 0:n.remove()}}>

    <button class=adjustment__header @click=${()=>Nd(d)}>
      <h3 class=adjustment__header--title>${d}</h3>
      <div class=adjustment__header--actions>
      ${M({title:`Reset ${d.replace(/s$/,"")} styles`,className:"icon",disabled:!j,content:"↩",action:()=>Md(a)})}
      </div>
    </button>
    
    ${j?Object.entries(Id).map(([n,C])=>{if(!f.includes(n))return;let y=[a,{normieName:d,useAdjustments:f}],s=[n,C];switch(C.type){case"range":return Jd(y,s);case"text":return Ld(y,s);case"select":return Kd(y,s)}}):ia}
  </div>`};const Fd=()=>x`
<div class="styles">
  <div class=styles__header>
  ${l.showPreview?x`
      <p class=hint>
        Change the look and feel of your document here.
      </p>`:x`
      <p class=hint>
        <button class="link primary" @click=${()=>E("showPreview",!0)}>Show the document preview</button> to see your
        changes.
      </p>`}
  <actions>
  ${M({title:"Close style editor",className:"icon",content:bb({content:Sa`<path d="M73.67,26.62,155.05,108,73.67,189.38" />`,className:"line"}),action:()=>Ta(!1)})}
  </actions>
  </div>
  <div class=adjustments>
    ${Object.entries(qb).map(Od)}
  </div>
</div>`;const Gd=()=>x`
<main
@click=${()=>Xa(!1)} 
@dragleave=${K} 
@dragenter=${()=>K(X(Wa()))}
@dragover=${a=>a.preventDefault()}>
  <section @click=${()=>Ta(!1)} class="aside left">${Ad()}</section>
  <section @click=${()=>Ta(!1)} class="center">${Ed()}</section>
  <section class="aside right">
    ${nd()}
    ${Fd()}
  </section>
</main>`;let se=fa.currentUser(),ca=Fb(sc)||Qd,Td=setTimeout(()=>0,0);const l=ca;let jc=se==null?void 0:se.getUserData(),Eb=fetch("/defaults.json").then(a=>a.json()),Ma=Fb(tc)||Rd;function Bb(){ca.currentDataset=ca.currentUser.datasets[0],ca.currentDocument=ca.currentUser.documents[0],ca.savedLocally=ca.savedLocally||!1,ca.showPreview=ca.showPreview||!1,ca.showStyles=ca.showStyles||!1,ca.expandedAdjustments=ca.expandedAdjustments||["global","pages"],ca.currentUser.styles=ca.currentUser.styles||{},Sd(Object.keys(qb),ca.currentUser.styles),te()}function ra(a){console.error(a),ca.error=a.message,ca.loading=!1,cb("error",!0)}function oa(a=!1){ca.savedLocally=!0;let d=2000,f=a?0:d;clearTimeout(Td),Td=setTimeout(j,f),cb("working",!0);function j(){if(fa.currentUser())return fa.currentUser().update({data:{flintstone:JSON.stringify(ca.currentUser)}}).then(()=>{ca.error=!1,cb("working",!1)}).catch(ra);try{ca.error=!1,Fb(sc,ca),cb("working",!1)}catch(n){ra(n)}}}function K(a=Gd()){Ab(x`
    <div id=app ?data-loading=${ca.loading}>
      <header>${Db()}</header>
      ${a}
      <loader></loader>
      <status-message>
        ${ca.error?`Error: ${ca.error}`:"All changes saved"}
      </status-message>
    </div>`,document.body)}function te(){for(let[a,d]of Object.entries(Ma))cb(a,d)}function Ya(a,d){Ma[a]=d,cb(a,d),Fb(tc,Ma)}function E(a,d,f){ca[a]=d,K(),f&&oa()}const bd=a=>{let d=["name","password"],f={};return x`
  <form class=mount>
    ${ob({fields:d,formData:f})}
    ${M({className:"primary",content:"Create Account & Sign In",action:()=>{E("loading",!0),fa.acceptInvite(a,f.password,!0).then(()=>{fa.currentUser().update({full_name:f.name}),E("loading",!1)}).catch(j=>{ra(j),renderAll(Modal(AuthError(j.message)))})}})}
  </form>`};const cd=()=>{let a;return x`
  <form class=mount>
    <label>
      New Password
      <input required @input=${d=>a=d.target.value} minlength=8 type=password name=password />
    </label>
    ${M({className:"primary",content:"Save New Password",action:()=>{E("loading",!0),fa.currentUser().update({password:a}).then(()=>{E("loading",!1),oa(!0)}).catch(d=>{ra(d),renderAll(Modal(AuthError(d.message)))})}})}
  </form>`};l.loading=!0;let kc=()=>{Bb();if(location.hash&&location.hash.length){let[a,d]=location.hash.slice(1).split("=");location.replace("#"),history.replaceState(null,null,location.href.slice(0,-1)),l.loading=!1;if(a&&d)switch(a){case"recovery_token":fa.recover(d,!0).then(()=>K(X(cd())));break;case"confirmation_token":fa.confirm(d,!0).then(()=>{K(),oa(!0)});break;case"invite_token":K(X(bd(d)));break}}else l.loading=!1,K(),oa(!0)};jc?jc.then(a=>{l.currentUser=JSON.parse(a.user_metadata.flintstone),kc()}).catch(a=>{console.log(a),kc()}):l.savedLocally?kc():(l.loading=!1,K(X(nb())));})();

(()=>{var Ec=Object.defineProperty,Vd=Object.prototype.hasOwnProperty,$a=(a,c)=>()=>(c||(c={exports:{}},a(c.exports,c)),c.exports),ne=a=>Ec(a,"__esModule",{value:!0}),oe=(a,c)=>{ne(a);if(typeof c==="object"||typeof c==="function")for(let f in c)Vd.call(c,f)&&!Vd.call(a,f)&&f!=="default"&&Ec(a,f,{get:()=>c[f],enumerable:!0});return a},Fc=a=>a&&a.__esModule?a:oe(Ec({},"default",{value:a,enumerable:!0}),a);var dd=$a(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var a=function(){function q(D,p){var A=[],K=!0,Y=!1,L=void 0;try{for(var T=D[Symbol.iterator](),fa;!(K=(fa=T.next()).done);K=!0){A.push(fa.value);if(p&&A.length===p)break}}catch(J){Y=!0,L=J}finally{try{!K&&T.return&&T.return()}finally{if(Y)throw L}}return A}return function(D,p){if(Array.isArray(D))return D;{if(Symbol.iterator in Object(D))return q(D,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();f.getPagination=c;function c(q){var D=q.headers.get("Link"),p={};if(D==null)return null;D=D.split(",");for(var A=q.headers.get("X-Total-Count"),K=0,Y=D.length;K<Y;K++){var L=D[K].replace(/(^\s*|\s*$)/,""),T=L.split(";"),fa=a(T,2),J=fa[0],n=fa[1],y=J.match(/page=(\d+)/),s=y&&parseInt(y[1],10);n.match(/last/)?p.last=s:n.match(/next/)?p.next=s:n.match(/prev/)?p.prev=s:n.match(/first/)&&(p.first=s)}return p.last=Math.max(p.last||0,p.prev&&p.prev+1||0),p.current=p.next?p.next-1:p.last||1,p.total=A?parseInt(A,10):null,p}});var rc=$a(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.JSONHTTPError=T.TextHTTPError=T.HTTPError=T.getPagination=void 0;var a=Object.assign||function(J){for(var n=1;n<arguments.length;n++){var y=arguments[n];for(var s in y)Object.prototype.hasOwnProperty.call(y,s)&&(J[s]=y[s])}return J},c=function(){function J(n,y){for(var s=0;s<y.length;s++){var w=y[s];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(n,w.key,w)}}return function(n,y,s){return y&&J(n.prototype,y),s&&J(n,s),n}}(),f=dd();Object.defineProperty(T,"getPagination",{enumerable:!0,get:function J(){return f.getPagination}});function j(J,n){if(!(J instanceof n))throw new TypeError("Cannot call a class as a function")}function q(J,n){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n==="object"||typeof n==="function")?n:J}function D(J,n){if(typeof n!=="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);J.prototype=Object.create(n&&n.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(J,n):J.__proto__=n)}function p(J){function n(){var y=Reflect.construct(J,Array.from(arguments));return Object.setPrototypeOf(y,Object.getPrototypeOf(this)),y}return n.prototype=Object.create(J.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(n,J):n.__proto__=J,n}var A=T.HTTPError=function(J){D(n,J);function n(y){j(this,n);var s=q(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,y.statusText));return s.name=s.constructor.name,typeof Error.captureStackTrace==="function"?Error.captureStackTrace(s,s.constructor):s.stack=new Error(y.statusText).stack,s.status=y.status,s}return n}(p(Error)),K=T.TextHTTPError=function(J){D(n,J);function n(y,s){j(this,n);var w=q(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,y));return w.data=s,w}return n}(A),Y=T.JSONHTTPError=function(J){D(n,J);function n(y,s){j(this,n);var w=q(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,y));return w.json=s,w}return n}(A),L=function(){function J(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=arguments[1];j(this,J),this.apiURL=n,this.apiURL.match(/\/[^\/]?/)&&(this._sameOrigin=!0),this.defaultHeaders=y&&y.defaultHeaders||{}}return c(J,[{key:"headers",value:function n(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a({},this.defaultHeaders,{"Content-Type":"application/json"},y)}},{key:"parseJsonResponse",value:function n(y){return y.json().then(function(s){if(!y.ok)return Promise.reject(new Y(y,s));var w=(0,f.getPagination)(y);return w?{pagination:w,items:s}:s})}},{key:"request",value:function n(y){var s=this,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=this.headers(w.headers||{});return this._sameOrigin&&(w.credentials=w.credentials||"same-origin"),fetch(this.apiURL+y,a({},w,{headers:P})).then(function(Q){var ba=Q.headers.get("Content-Type");return ba&&ba.match(/json/)?s.parseJsonResponse(Q):Q.ok?Q.text().then(function(ra){}):Q.text().then(function(ra){return Promise.reject(new K(Q,ra))})})}}]),J}();T.default=L});var Tc=$a(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;function a(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")}function c(p,A){for(var K=0;K<A.length;K++){var Y=A[K];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(p,Y.key,Y)}}function f(p,A,K){return A&&c(p.prototype,A),K&&c(p,K),p}var j=function(){function p(A){a(this,p),this.user=A}return f(p,[{key:"listUsers",value:function A(K){return this.user._request("/admin/users",{method:"GET",audience:K})}},{key:"getUser",value:function A(K){return this.user._request("/admin/users/".concat(K.id))}},{key:"updateUser",value:function A(K){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.user._request("/admin/users/".concat(K.id),{method:"PUT",body:JSON.stringify(Y)})}},{key:"createUser",value:function A(K,Y){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L.email=K,L.password=Y,this.user._request("/admin/users",{method:"POST",body:JSON.stringify(L)})}},{key:"deleteUser",value:function A(K){return this.user._request("/admin/users/".concat(K.id),{method:"DELETE"})}}]),p}();q.default=j});var Vc=$a(ra=>{"use strict";function a(H){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?a=function F(z){return typeof z}:a=function F(z){return z&&typeof Symbol==="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a(H)}Object.defineProperty(ra,"__esModule",{value:!0});ra.default=void 0;var c=D(rc()),f=j(Tc());function j(H){return H&&H.__esModule?H:{default:H}}function q(){if(typeof WeakMap!=="function")return null;var H=new WeakMap();return q=function F(){return H},H}function D(H){if(H&&H.__esModule)return H;if(H===null||a(H)!=="object"&&typeof H!=="function")return{default:H};var F=q();if(F&&F.has(H))return F.get(H);var z={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in H)if(Object.prototype.hasOwnProperty.call(H,U)){var oa=I?Object.getOwnPropertyDescriptor(H,U):null;oa&&(oa.get||oa.set)?Object.defineProperty(z,U,oa):z[U]=H[U]}return z.default=H,F&&F.set(H,z),z}function p(H,F){var z=Object.keys(H);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(H);F&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),z.push.apply(z,I)}return z}function A(H){for(var F=1;F<arguments.length;F++){var z=arguments[F]!=null?arguments[F]:{};F%2?p(Object(z),!0).forEach(function(I){K(H,I,z[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(z)):p(Object(z)).forEach(function(I){Object.defineProperty(H,I,Object.getOwnPropertyDescriptor(z,I))})}return H}function K(H,F,z){return F in H?Object.defineProperty(H,F,{value:z,enumerable:!0,configurable:!0,writable:!0}):H[F]=z,H}function Y(H,F){if(!(H instanceof F))throw new TypeError("Cannot call a class as a function")}function L(H,F){for(var z=0;z<F.length;z++){var I=F[z];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(H,I.key,I)}}function T(H,F,z){return F&&L(H.prototype,F),z&&L(H,z),H}var fa=60*1e3,J="gotrue.user",n={},y=null,s={api:1,token:1,audience:1,url:1},w={api:1},P=function H(){return typeof window!=="undefined"},Q=function(){function H(F,z,I){Y(this,H),this.api=F,this.url=F.apiURL,this.audience=I,this._processTokenResponse(z),y=this}return T(H,[{key:"update",value:function F(z){var I=this;return this._request("/user",{method:"PUT",body:JSON.stringify(z)}).then(function(U){return I._saveUserData(U)._refreshSavedSession()})}},{key:"jwt",value:function F(z){var I=this.tokenDetails();if(I===null||I===void 0)return Promise.reject(new Error("Gotrue-js: failed getting jwt access token"));var U=I.expires_at,oa=I.refresh_token,Fa=I.access_token;return z||U-fa<Date.now()?this._refreshToken(oa):Promise.resolve(Fa)}},{key:"logout",value:function F(){return this._request("/logout",{method:"POST"}).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this))}},{key:"_refreshToken",value:function F(z){var I=this;return n[z]?n[z]:n[z]=this.api.request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(z)}).then(function(U){return delete n[z],I._processTokenResponse(U),I._refreshSavedSession(),I.token.access_token}).catch(function(U){return delete n[z],I.clearSession(),Promise.reject(U)})}},{key:"_request",value:function F(z){var I=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U.headers=U.headers||{};var oa=U.audience||this.audience;return oa&&(U.headers["X-JWT-AUD"]=oa),this.jwt().then(function(Fa){return I.api.request(z,A({headers:Object.assign(U.headers,{Authorization:"Bearer ".concat(Fa)})},U)).catch(function(ka){return ka instanceof c.JSONHTTPError&&ka.json&&(ka.json.msg?ka.message=ka.json.msg:ka.json.error&&(ka.message="".concat(ka.json.error,": ").concat(ka.json.error_description))),Promise.reject(ka)})})}},{key:"getUserData",value:function F(){return this._request("/user").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this))}},{key:"_saveUserData",value:function F(z,I){for(var U in z){if(U in H.prototype||U in s)continue;this[U]=z[U]}return I&&(this._fromStorage=!0),this}},{key:"_processTokenResponse",value:function F(z){this.token=z;var I;try{I=JSON.parse(ba(z.access_token.split(".")[1])),this.token.expires_at=I.exp*1e3}catch(U){console.error(new Error("Gotrue-js: Failed to parse tokenResponse claims: ".concat(JSON.stringify(z))))}}},{key:"_refreshSavedSession",value:function F(){return P()&&localStorage.getItem(J)&&this._saveSession(),this}},{key:"_saveSession",value:function F(){return P()&&localStorage.setItem(J,JSON.stringify(this._details)),this}},{key:"tokenDetails",value:function F(){return this.token}},{key:"clearSession",value:function F(){H.removeSavedSession(),this.token=null,y=null}},{key:"admin",get:function F(){return new f.default(this)}},{key:"_details",get:function F(){var z={};for(var I in this){if(I in H.prototype||I in w)continue;z[I]=this[I]}return z}}],[{key:"removeSavedSession",value:function F(){P()&&localStorage.removeItem(J)}},{key:"recoverSession",value:function F(z){if(y)return y;var I=P()&&localStorage.getItem(J);if(I)try{var U=JSON.parse(I),oa=U.url,Fa=U.token,ka=U.audience;if(!oa||!Fa)return null;var sb=z||new c.default(oa,{});return new H(sb,Fa,ka)._saveUserData(U,!0)}catch(ab){return console.error(new Error("Gotrue-js: Error recovering session: ".concat(ab))),null}return null}}]),H}();ra.default=Q;function ba(H){var F=H.replace(/-/g,"+").replace(/_/g,"/");switch(F.length%4){case 0:break;case 2:F+="==";break;case 3:F+="=";break;default:throw"Illegal base64url string!"}var z=window.atob(F);try{return decodeURIComponent(escape(z))}catch(I){return z}}});var Uc=$a(fa=>{"use strict";function a(n){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?a=function y(s){return typeof s}:a=function y(s){return s&&typeof Symbol==="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a(n)}Object.defineProperty(fa,"__esModule",{value:!0});fa.default=void 0;var c=D(rc()),f=j(Vc());function j(n){return n&&n.__esModule?n:{default:n}}function q(){if(typeof WeakMap!=="function")return null;var n=new WeakMap();return q=function y(){return n},n}function D(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!=="function")return{default:n};var y=q();if(y&&y.has(n))return y.get(n);var s={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in n)if(Object.prototype.hasOwnProperty.call(n,P)){var Q=w?Object.getOwnPropertyDescriptor(n,P):null;Q&&(Q.get||Q.set)?Object.defineProperty(s,P,Q):s[P]=n[P]}return s.default=n,y&&y.set(n,s),s}function p(n,y){if(!(n instanceof y))throw new TypeError("Cannot call a class as a function")}function A(n,y){for(var s=0;s<y.length;s++){var w=y[s];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(n,w.key,w)}}function K(n,y,s){return y&&A(n.prototype,y),s&&A(n,s),n}var Y=/^http:\/\//,L="/.netlify/identity",T=function(){function n(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=y.APIUrl,w=s===void 0?L:s,P=y.audience,Q=P===void 0?"":P,ba=y.setCookie,ra=ba===void 0?!1:ba;p(this,n),w.match(Y)&&console.warn(`Warning:

DO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!
GoTrue REQUIRES HTTPS to work securely.`),Q&&(this.audience=Q),this.setCookie=ra,this.api=new c.default(w)}return K(n,[{key:"_request",value:function y(s){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};w.headers=w.headers||{};var P=w.audience||this.audience;return P&&(w.headers["X-JWT-AUD"]=P),this.api.request(s,w).catch(function(Q){return Q instanceof c.JSONHTTPError&&Q.json&&(Q.json.msg?Q.message=Q.json.msg:Q.json.error&&(Q.message="".concat(Q.json.error,": ").concat(Q.json.error_description))),Promise.reject(Q)})}},{key:"settings",value:function y(){return this._request("/settings")}},{key:"signup",value:function y(s,w,P){return this._request("/signup",{method:"POST",body:JSON.stringify({email:s,password:w,data:P})})}},{key:"login",value:function y(s,w,P){var Q=this;return this._setRememberHeaders(P),this._request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=password&username=".concat(encodeURIComponent(s),"&password=").concat(encodeURIComponent(w))}).then(function(ba){return f.default.removeSavedSession(),Q.createUser(ba,P)})}},{key:"loginExternalUrl",value:function y(s){return"".concat(this.api.apiURL,"/authorize?provider=").concat(s)}},{key:"confirm",value:function y(s,w){return this._setRememberHeaders(w),this.verify("signup",s,w)}},{key:"requestPasswordRecovery",value:function y(s){return this._request("/recover",{method:"POST",body:JSON.stringify({email:s})})}},{key:"recover",value:function y(s,w){return this._setRememberHeaders(w),this.verify("recovery",s,w)}},{key:"acceptInvite",value:function y(s,w,P){var Q=this;return this._setRememberHeaders(P),this._request("/verify",{method:"POST",body:JSON.stringify({token:s,password:w,type:"signup"})}).then(function(ba){return Q.createUser(ba,P)})}},{key:"acceptInviteExternalUrl",value:function y(s,w){return"".concat(this.api.apiURL,"/authorize?provider=").concat(s,"&invite_token=").concat(w)}},{key:"createUser",value:function y(s){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._setRememberHeaders(w);var P=new f.default(this.api,s,this.audience);return P.getUserData().then(function(Q){return w&&Q._saveSession(),Q})}},{key:"currentUser",value:function y(){var s=f.default.recoverSession(this.api);return s&&this._setRememberHeaders(s._fromStorage),s}},{key:"verify",value:function y(s,w,P){var Q=this;return this._setRememberHeaders(P),this._request("/verify",{method:"POST",body:JSON.stringify({token:w,type:s})}).then(function(ba){return Q.createUser(ba,P)})}},{key:"_setRememberHeaders",value:function y(s){this.setCookie&&(this.api.defaultHeaders=this.api.defaultHeaders||{},this.api.defaultHeaders["X-Use-Cookie"]=s?"1":"session")}}]),n}();fa.default=T;typeof window!=="undefined"&&(window.GoTrue=T)});var Sc=$a((a,c)=>{(function(f,j){typeof a==="object"&&typeof c!=="undefined"?c.exports=j():typeof define==="function"&&define.amd?define(j):(f=f||self,f.DOMPurify=j())})(a,function(){"use strict";function f(t){if(Array.isArray(t)){for(var C=0,u=Array(t.length);C<t.length;C++)u[C]=t[C];return u}else return Array.from(t)}var j=Object.hasOwnProperty,q=Object.setPrototypeOf,D=Object.isFrozen,p=Object.freeze,A=Object.seal,K=Object.create,Y=typeof Reflect!=="undefined"&&Reflect,L=Y.apply,T=Y.construct;L||(L=function t(C,u,o){return C.apply(u,o)}),p||(p=function t(C){return C}),A||(A=function t(C){return C}),T||(T=function t(C,u){return new(Function.prototype.bind.apply(C,[null].concat(f(u))))()});var fa=ya(Array.prototype.forEach),J=ya(Array.prototype.pop),n=ya(Array.prototype.push),y=ya(String.prototype.toLowerCase),s=ya(String.prototype.match),w=ya(String.prototype.replace),P=ya(String.prototype.indexOf),Q=ya(String.prototype.trim),ba=ya(RegExp.prototype.test),ra=H(TypeError);function ya(t){return function(C){for(var u=arguments.length,o=Array(u>1?u-1:0),pa=1;pa<u;pa++)o[pa-1]=arguments[pa];return L(t,C,o)}}function H(t){return function(){for(var C=arguments.length,u=Array(C),o=0;o<C;o++)u[o]=arguments[o];return T(t,u)}}function F(t,C){q&&q(t,null);for(var u=C.length;u--;){var o=C[u];if(typeof o==="string"){var pa=y(o);pa!==o&&(D(C)||(C[u]=pa),o=pa)}t[o]=!0}return t}function z(t){var C=K(null),u=void 0;for(u in t)L(j,t,[u])&&(C[u]=t[u]);return C}var I=p(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=p(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),oa=p(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fa=p(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ka=p(["#text"]),sb=p(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),ab=p(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zb=p(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),bb=p(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gc=A(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Hc=A(/<%[\s\S]*|[\s\S]*%>/gm),Ic=A(/^data-[\-\w.\u00B7-\uFFFF]/),qa=A(/^aria-[\-\w]+$/),Jc=A(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kc=A(/^(?:\w+script|data):/i),tb=A(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),la=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function za(t){if(Array.isArray(t)){for(var C=0,u=Array(t.length);C<t.length;C++)u[C]=t[C];return u}else return Array.from(t)}var _b=function t(){return typeof window==="undefined"?null:window},Lc=function t(C,u){if((typeof C==="undefined"?"undefined":la(C))!=="object"||typeof C.createPolicy!=="function")return null;var o=null,pa="data-tt-policy-suffix";u.currentScript&&u.currentScript.hasAttribute(pa)&&(o=u.currentScript.getAttribute(pa));var vb="dompurify"+(o?"#"+o:"");try{return C.createPolicy(vb,{createHTML:function La(Aa){return Aa}})}catch(La){return console.warn("TrustedTypes policy "+vb+" could not be created."),null}};function ub(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_b(),C=function V(l){return ub(l)};C.version="2.2.3",C.removed=[];if(!t||!t.document||t.document.nodeType!==9)return C.isSupported=!1,C;var u=t.document,o=t.document,pa=t.DocumentFragment,vb=t.HTMLTemplateElement,La=t.Node,Aa=t.NodeFilter,Eb=t.NamedNodeMap,Mc=Eb===void 0?t.NamedNodeMap||t.MozNamedAttrMap:Eb,$b=t.Text,db=t.Comment,Nc=t.DOMParser,ac=t.trustedTypes;if(typeof vb==="function"){var Va=o.createElement("template");Va.content&&Va.content.ownerDocument&&(o=Va.content.ownerDocument)}var ua=Lc(ac,u),Fb=ua&&sa?ua.createHTML(""):"",eb=o,Gb=eb.implementation,Oc=eb.createNodeIterator,fb=eb.getElementsByTagName,wb=eb.createDocumentFragment,bc=u.importNode,Hb={};try{Hb=z(o).documentMode?o.documentMode:{}}catch(V){}var Ba={};C.isSupported=Gb&&typeof Gb.createHTMLDocument!=="undefined"&&Hb!==9;var Ib=Gc,Jb=Hc,X=Ic,Pc=qa,k=Kc,i=tb,r=Jc,b=null,d=F({},[].concat(za(I),za(U),za(oa),za(Fa),za(ka))),e=null,g=F({},[].concat(za(sb),za(ab),za(Zb),za(bb))),h=null,x=null,v=!0,R=!0,N=!1,Z=!1,ma=!1,da=!1,W=!1,va=!1,Ma=!1,Na=!0,sa=!1,_=!0,gb=!0,Wa=!1,Ca={},cc=F({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Kb=null,Wd=F({},["audio","video","img","source","image","track"]),Qc=null,Xd=F({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),xb=null,pe=o.createElement("form"),Rc=function V(l){if(xb&&xb===l)return;(!l||(typeof l==="undefined"?"undefined":la(l))!=="object")&&(l={}),l=z(l),b="ALLOWED_TAGS"in l?F({},l.ALLOWED_TAGS):d,e="ALLOWED_ATTR"in l?F({},l.ALLOWED_ATTR):g,Qc="ADD_URI_SAFE_ATTR"in l?F(z(Xd),l.ADD_URI_SAFE_ATTR):Xd,Kb="ADD_DATA_URI_TAGS"in l?F(z(Wd),l.ADD_DATA_URI_TAGS):Wd,h="FORBID_TAGS"in l?F({},l.FORBID_TAGS):{},x="FORBID_ATTR"in l?F({},l.FORBID_ATTR):{},Ca="USE_PROFILES"in l?l.USE_PROFILES:!1,v=l.ALLOW_ARIA_ATTR!==!1,R=l.ALLOW_DATA_ATTR!==!1,N=l.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=l.SAFE_FOR_TEMPLATES||!1,ma=l.WHOLE_DOCUMENT||!1,va=l.RETURN_DOM||!1,Ma=l.RETURN_DOM_FRAGMENT||!1,Na=l.RETURN_DOM_IMPORT!==!1,sa=l.RETURN_TRUSTED_TYPE||!1,W=l.FORCE_BODY||!1,_=l.SANITIZE_DOM!==!1,gb=l.KEEP_CONTENT!==!1,Wa=l.IN_PLACE||!1,r=l.ALLOWED_URI_REGEXP||r,Z&&(R=!1),Ma&&(va=!0),Ca&&(b=F({},[].concat(za(ka))),e=[],Ca.html===!0&&(F(b,I),F(e,sb)),Ca.svg===!0&&(F(b,U),F(e,ab),F(e,bb)),Ca.svgFilters===!0&&(F(b,oa),F(e,ab),F(e,bb)),Ca.mathMl===!0&&(F(b,Fa),F(e,Zb),F(e,bb))),l.ADD_TAGS&&(b===d&&(b=z(b)),F(b,l.ADD_TAGS)),l.ADD_ATTR&&(e===g&&(e=z(e)),F(e,l.ADD_ATTR)),l.ADD_URI_SAFE_ATTR&&F(Qc,l.ADD_URI_SAFE_ATTR),gb&&(b["#text"]=!0),ma&&F(b,["html","head","body"]),b.table&&(F(b,["tbody"]),delete h.tbody),p&&p(l),xb=l},hb=function V(l){n(C.removed,{element:l});try{l.parentNode.removeChild(l)}catch(E){l.outerHTML=Fb}},Yd=function V(l,E){try{n(C.removed,{attribute:E.getAttributeNode(l),from:E})}catch(O){n(C.removed,{attribute:null,from:E})}E.removeAttribute(l)},Zd=function V(l){var E=void 0,O=void 0;if(W)l="<remove></remove>"+l;else{var ga=s(l,/^[\r\n\t ]+/);O=ga&&ga[0]}var Ga=ua?ua.createHTML(l):l;try{E=new Nc().parseFromString(Ga,"text/html")}catch(Oa){}if(!E||!E.documentElement){E=Gb.createHTMLDocument("");var Da=E,wa=Da.body;wa.parentNode.removeChild(wa.parentNode.firstElementChild),wa.outerHTML=Ga}return l&&O&&E.body.insertBefore(o.createTextNode(O),E.body.childNodes[0]||null),fb.call(E,ma?"html":"body")[0]},_d=function V(l){return Oc.call(l.ownerDocument||l,l,Aa.SHOW_ELEMENT|Aa.SHOW_COMMENT|Aa.SHOW_TEXT,function(){return Aa.FILTER_ACCEPT},!1)},qe=function V(l){return l instanceof $b||l instanceof db?!1:typeof l.nodeName!=="string"||typeof l.textContent!=="string"||typeof l.removeChild!=="function"||!(l.attributes instanceof Mc)||typeof l.removeAttribute!=="function"||typeof l.setAttribute!=="function"||typeof l.namespaceURI!=="string"?!0:!1},Lb=function V(l){return(typeof La==="undefined"?"undefined":la(La))==="object"?l instanceof La:l&&(typeof l==="undefined"?"undefined":la(l))==="object"&&typeof l.nodeType==="number"&&typeof l.nodeName==="string"},Ra=function V(l,E,O){if(!Ba[l])return;fa(Ba[l],function(ga){ga.call(C,E,O,xb)})},$d=function V(l){var E=void 0;Ra("beforeSanitizeElements",l,null);if(qe(l))return hb(l),!0;if(s(l.nodeName,/[\u0080-\uFFFF]/))return hb(l),!0;var O=y(l.nodeName);Ra("uponSanitizeElement",l,{tagName:O,allowedTags:b});if((O==="svg"||O==="math")&&l.querySelectorAll("p, br, form, table, h1, h2, h3, h4, h5, h6").length!==0)return hb(l),!0;if(!Lb(l.firstElementChild)&&(!Lb(l.content)||!Lb(l.content.firstElementChild))&&ba(/<[/\w]/g,l.innerHTML)&&ba(/<[/\w]/g,l.textContent))return hb(l),!0;if(!b[O]||h[O]){if(gb&&!cc[O]&&typeof l.insertAdjacentHTML==="function")try{var ga=l.innerHTML;l.insertAdjacentHTML("AfterEnd",ua?ua.createHTML(ga):ga)}catch(Ga){}return hb(l),!0}return(O==="noscript"||O==="noembed")&&ba(/<\/no(script|embed)/i,l.innerHTML)?(hb(l),!0):(Z&&l.nodeType===3&&(E=l.textContent,E=w(E,Ib," "),E=w(E,Jb," "),l.textContent!==E&&(n(C.removed,{element:l.cloneNode()}),l.textContent=E)),Ra("afterSanitizeElements",l,null),!1)},ae=function V(l,E,O){if(_&&(E==="id"||E==="name")&&(O in o||O in pe))return!1;if(!(R&&ba(X,E))){if(!(v&&ba(Pc,E))){if(!e[E]||x[E])return!1;if(!Qc[E]){if(!ba(r,w(O,i,""))){if(!((E==="src"||E==="xlink:href"||E==="href")&&l!=="script"&&P(O,"data:")===0&&Kb[l])){if(!(N&&!ba(k,w(O,i,"")))){if(O)return!1}}}}}}return!0},be=function V(l){var E=void 0,O=void 0,ga=void 0,Ga=void 0;Ra("beforeSanitizeAttributes",l,null);var Da=l.attributes;if(!Da)return;var wa={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:e};for(Ga=Da.length;Ga--;){E=Da[Ga];var Oa=E,Mb=Oa.name,ce=Oa.namespaceURI;O=Q(E.value),ga=y(Mb),wa.attrName=ga,wa.attrValue=O,wa.keepAttr=!0,wa.forceKeepAttr=void 0,Ra("uponSanitizeAttribute",l,wa),O=wa.attrValue;if(wa.forceKeepAttr)continue;Yd(Mb,l);if(!wa.keepAttr)continue;if(ba(/\/>/i,O)){Yd(Mb,l);continue}Z&&(O=w(O,Ib," "),O=w(O,Jb," "));var se=l.nodeName.toLowerCase();if(!ae(se,ga,O))continue;try{ce?l.setAttributeNS(ce,Mb,O):l.setAttribute(Mb,O),J(C.removed)}catch(Pj){}}Ra("afterSanitizeAttributes",l,null)},re=function V(l){var E=void 0,O=_d(l);for(Ra("beforeSanitizeShadowDOM",l,null);E=O.nextNode();){Ra("uponSanitizeShadowNode",E,null);if($d(E))continue;E.content instanceof pa&&V(E.content),be(E)}Ra("afterSanitizeShadowDOM",l,null)};return C.sanitize=function(V,l){var E=void 0,O=void 0,ga=void 0,Ga=void 0,Da=void 0;V||(V="<!-->");if(typeof V!=="string"&&!Lb(V)){if(typeof V.toString!=="function")throw ra("toString is not a function");{V=V.toString();if(typeof V!=="string")throw ra("dirty is not a string, aborting")}}if(!C.isSupported){if(la(t.toStaticHTML)==="object"||typeof t.toStaticHTML==="function"){if(typeof V==="string")return t.toStaticHTML(V);if(Lb(V))return t.toStaticHTML(V.outerHTML)}return V}da||Rc(l),C.removed=[],typeof V==="string"&&(Wa=!1);if(!Wa)if(V instanceof La)E=Zd("<!---->"),O=E.ownerDocument.importNode(V,!0),O.nodeType===1&&O.nodeName==="BODY"?E=O:O.nodeName==="HTML"?E=O:E.appendChild(O);else{if(!va&&!Z&&!ma&&V.indexOf("<")===-1)return ua&&sa?ua.createHTML(V):V;E=Zd(V);if(!E)return va?null:Fb}E&&W&&hb(E.firstChild);for(var wa=_d(Wa?V:E);ga=wa.nextNode();){if(ga.nodeType===3&&ga===Ga)continue;if($d(ga))continue;ga.content instanceof pa&&re(ga.content),be(ga),Ga=ga}Ga=null;if(Wa)return V;if(va){if(Ma)for(Da=wb.call(E.ownerDocument);E.firstChild;)Da.appendChild(E.firstChild);else Da=E;return Na&&(Da=bc.call(u,Da,!0)),Da}var Oa=ma?E.outerHTML:E.innerHTML;return Z&&(Oa=w(Oa,Ib," "),Oa=w(Oa,Jb," ")),ua&&sa?ua.createHTML(Oa):Oa},C.setConfig=function(V){Rc(V),da=!0},C.clearConfig=function(){xb=null,da=!1},C.isValidAttribute=function(V,l,E){xb||Rc({});var O=y(V),ga=y(l);return ae(O,ga,E)},C.addHook=function(V,l){if(typeof l!=="function")return;Ba[V]=Ba[V]||[],n(Ba[V],l)},C.removeHook=function(V){Ba[V]&&J(Ba[V])},C.removeHooks=function(V){Ba[V]&&(Ba[V]=[])},C.removeAllHooks=function(){Ba={}},C}var cb=ub();return cb})});var cd=$a((a,c)=>{(function(f,j){typeof a==="object"&&typeof c!=="undefined"?c.exports=j():typeof define==="function"&&define.amd?define(j):(f=typeof globalThis!=="undefined"?globalThis:f||self,f.marked=j())})(a,function(){"use strict";function f(k,i){for(var r=0;r<i.length;r++){var b=i[r];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(k,b.key,b)}}function j(k,i,r){return i&&f(k.prototype,i),r&&f(k,r),k}function q(k,i){if(!k)return;if(typeof k==="string")return D(k,i);var r=Object.prototype.toString.call(k).slice(8,-1);r==="Object"&&k.constructor&&(r=k.constructor.name);if(r==="Map"||r==="Set")return Array.from(k);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(k,i)}function D(k,i){(i==null||i>k.length)&&(i=k.length);for(var r=0,b=new Array(i);r<i;r++)b[r]=k[r];return b}function p(k,i){var r;if(typeof Symbol==="undefined"||k[Symbol.iterator]==null){if(Array.isArray(k)||(r=q(k))||i&&k&&typeof k.length==="number"){r&&(k=r);var b=0;return function(){return b>=k.length?{done:!0}:{done:!1,value:k[b++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return r=k[Symbol.iterator](),r.next.bind(r)}function A(k,i){return i={exports:{}},k(i,i.exports),i.exports}var K=A(function(k){function i(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function r(b){k.exports.defaults=b}k.exports={defaults:i(),getDefaults:i,changeDefaults:r}}),Y=K.defaults,L=K.getDefaults,T=K.changeDefaults,fa=/[&<>"']/,J=/[&<>"']/g,n=/[<>"']|&(?!#?\w+;)/,y=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},w=function k(i){return s[i]};function P(k,i){if(i){if(fa.test(k))return k.replace(J,w)}else if(n.test(k))return k.replace(y,w);return k}var Q=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ba(k){return k.replace(Q,function(i,r){return r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""})}var ra=/(^|[^\[])\^/g;function ya(k,i){k=k.source||k,i=i||"";var r={replace:function b(d,e){return e=e.source||e,e=e.replace(ra,"$1"),k=k.replace(d,e),r},getRegex:function b(){return new RegExp(k,i)}};return r}var H=/[^\w:]/g,F=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function z(k,i,r){if(k){var b;try{b=decodeURIComponent(ba(r)).replace(H,"").toLowerCase()}catch(d){return null}if(b.indexOf("javascript:")===0||b.indexOf("vbscript:")===0||b.indexOf("data:")===0)return null}i&&!F.test(r)&&(r=ka(i,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(d){return null}return r}var I={},U=/^[^:]+:\/*[^/]*$/,oa=/^([^:]+:)[\s\S]*$/,Fa=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ka(k,i){I[" "+k]||(U.test(k)?I[" "+k]=k+"/":I[" "+k]=bb(k,"/",!0)),k=I[" "+k];var r=k.indexOf(":")===-1;return i.substring(0,2)==="//"?r?i:k.replace(oa,"$1")+i:i.charAt(0)==="/"?r?i:k.replace(Fa,"$1")+i:k+i}var sb={exec:function k(){}};function ab(k){for(var i=1,r,b;i<arguments.length;i++){r=arguments[i];for(b in r)Object.prototype.hasOwnProperty.call(r,b)&&(k[b]=r[b])}return k}function Zb(k,i){var r=k.replace(/\|/g,function(e,g,h){for(var x=!1,v=g;--v>=0&&h[v]==="\\";)x=!x;return x?"|":" |"}),b=r.split(/ \|/),d=0;if(b.length>i)b.splice(i);else for(;b.length<i;)b.push("");for(;d<b.length;d++)b[d]=b[d].trim().replace(/\\\|/g,"|");return b}function bb(k,i,r){var b=k.length;if(b===0)return"";for(var d=0;d<b;){var e=k.charAt(b-d-1);if(e===i&&!r)d++;else if(e!==i&&r)d++;else break}return k.substr(0,b-d)}function Gc(k,i){if(k.indexOf(i[1])===-1)return-1;for(var r=k.length,b=0,d=0;d<r;d++)if(k[d]==="\\")d++;else if(k[d]===i[0])b++;else if(k[d]===i[1]){b--;if(b<0)return d}return-1}function Hc(k){k&&k.sanitize&&!k.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ic(k,i){if(i<1)return"";for(var r="";i>1;)i&1&&(r+=k),i>>=1,k+=k;return r+k}var qa={escape:P,unescape:ba,edit:ya,cleanUrl:z,resolveUrl:ka,noopTest:sb,merge:ab,splitCells:Zb,rtrim:bb,findClosingBracket:Gc,checkSanitizeDeprecation:Hc,repeatString:Ic},Jc=K.defaults,Kc=qa.rtrim,tb=qa.splitCells,la=qa.escape,za=qa.findClosingBracket;function _b(k,i,r){var b=i.href,d=i.title?la(i.title):null,e=k[1].replace(/\\([\[\]])/g,"$1");return k[0].charAt(0)!=="!"?{type:"link",raw:r,href:b,title:d,text:e}:{type:"image",raw:r,href:b,title:d,text:la(e)}}function Lc(k,i){var r=k.match(/^(\s+)(?:```)/);if(r===null)return i;var b=r[1];return i.split(`
`).map(function(d){var e=d.match(/^\s+/);if(e===null)return d;var g=e[0];return g.length>=b.length?d.slice(b.length):d}).join(`
`)}var ub=function(){function k(r){this.options=r||Jc}var i=k.prototype;return i.space=function r(b){var d=this.rules.block.newline.exec(b);if(d)return d[0].length>1?{type:"space",raw:d[0]}:{raw:`
`}},i.code=function r(b,d){var e=this.rules.block.code.exec(b);if(e){var g=d[d.length-1];if(g&&g.type==="paragraph")return{raw:e[0],text:e[0].trimRight()};var h=e[0].replace(/^ {4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?h:Kc(h,`
`)}}},i.fences=function r(b){var d=this.rules.block.fences.exec(b);if(d){var e=d[0],g=Lc(e,d[3]||"");return{type:"code",raw:e,lang:d[2]?d[2].trim():d[2],text:g}}},i.heading=function r(b){var d=this.rules.block.heading.exec(b);if(d)return{type:"heading",raw:d[0],depth:d[1].length,text:d[2]}},i.nptable=function r(b){var d=this.rules.block.nptable.exec(b);if(d){var e={type:"table",header:tb(d[1].replace(/^ *| *\| *$/g,"")),align:d[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:d[3]?d[3].replace(/\n$/,"").split(`
`):[],raw:d[0]};if(e.header.length===e.align.length){var g=e.align.length,h;for(h=0;h<g;h++)/^ *-+: *$/.test(e.align[h])?e.align[h]="right":/^ *:-+: *$/.test(e.align[h])?e.align[h]="center":/^ *:-+ *$/.test(e.align[h])?e.align[h]="left":e.align[h]=null;for(g=e.cells.length,h=0;h<g;h++)e.cells[h]=tb(e.cells[h],e.header.length);return e}}},i.hr=function r(b){var d=this.rules.block.hr.exec(b);if(d)return{type:"hr",raw:d[0]}},i.blockquote=function r(b){var d=this.rules.block.blockquote.exec(b);if(d){var e=d[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:d[0],text:e}}},i.list=function r(b){var d=this.rules.block.list.exec(b);if(d){var e=d[0],g=d[2],h=g.length>1,x={type:"list",raw:e,ordered:h,start:h?+g.slice(0,-1):"",loose:!1,items:[]},v=d[0].match(this.rules.block.item),R=!1,N,Z,ma,da,W,va,Ma,Na,sa=v.length;ma=this.rules.block.listItemStart.exec(v[0]);for(var _=0;_<sa;_++){N=v[_],e=N;if(_!==sa-1){da=this.rules.block.listItemStart.exec(v[_+1]);if(da[1].length>ma[0].length||da[1].length>3){v.splice(_,2,v[_]+`
`+v[_+1]),_--,sa--;continue}else(!this.options.pedantic||this.options.smartLists?da[2][da[2].length-1]!==g[g.length-1]:h===(da[2].length===1))&&(W=v.slice(_+1).join(`
`),x.raw=x.raw.substring(0,x.raw.length-W.length),_=sa-1);ma=da}Z=N.length,N=N.replace(/^ *([*+-]|\d+[.)]) ?/,""),~N.indexOf(`
 `)&&(Z-=N.length,N=this.options.pedantic?N.replace(/^ {1,4}/gm,""):N.replace(new RegExp("^ {1,"+Z+"}","gm"),"")),va=R||/\n\n(?!\s*$)/.test(N),_!==sa-1&&(R=N.charAt(N.length-1)===`
`,va||(va=R)),va&&(x.loose=!0),this.options.gfm&&(Ma=/^\[[ xX]\] /.test(N),Na=void 0,Ma&&(Na=N[1]!==" ",N=N.replace(/^\[[ xX]\] +/,""))),x.items.push({type:"list_item",raw:e,task:Ma,checked:Na,loose:va,text:N})}return x}},i.html=function r(b){var d=this.rules.block.html.exec(b);if(d)return{type:this.options.sanitize?"paragraph":"html",raw:d[0],pre:!this.options.sanitizer&&(d[1]==="pre"||d[1]==="script"||d[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(d[0]):la(d[0]):d[0]}},i.def=function r(b){var d=this.rules.block.def.exec(b);if(d){d[3]&&(d[3]=d[3].substring(1,d[3].length-1));var e=d[1].toLowerCase().replace(/\s+/g," ");return{tag:e,raw:d[0],href:d[2],title:d[3]}}},i.table=function r(b){var d=this.rules.block.table.exec(b);if(d){var e={type:"table",header:tb(d[1].replace(/^ *| *\| *$/g,"")),align:d[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:d[3]?d[3].replace(/\n$/,"").split(`
`):[]};if(e.header.length===e.align.length){e.raw=d[0];var g=e.align.length,h;for(h=0;h<g;h++)/^ *-+: *$/.test(e.align[h])?e.align[h]="right":/^ *:-+: *$/.test(e.align[h])?e.align[h]="center":/^ *:-+ *$/.test(e.align[h])?e.align[h]="left":e.align[h]=null;for(g=e.cells.length,h=0;h<g;h++)e.cells[h]=tb(e.cells[h].replace(/^ *\| *| *\| *$/g,""),e.header.length);return e}}},i.lheading=function r(b){var d=this.rules.block.lheading.exec(b);if(d)return{type:"heading",raw:d[0],depth:d[2].charAt(0)==="="?1:2,text:d[1]}},i.paragraph=function r(b){var d=this.rules.block.paragraph.exec(b);if(d)return{type:"paragraph",raw:d[0],text:d[1].charAt(d[1].length-1)===`
`?d[1].slice(0,-1):d[1]}},i.text=function r(b,d){var e=this.rules.block.text.exec(b);if(e){var g=d[d.length-1];return g&&g.type==="text"?{raw:e[0],text:e[0]}:{type:"text",raw:e[0],text:e[0]}}},i.escape=function r(b){var d=this.rules.inline.escape.exec(b);if(d)return{type:"escape",raw:d[0],text:la(d[1])}},i.tag=function r(b,d,e){var g=this.rules.inline.tag.exec(b);if(g)return!d&&/^<a /i.test(g[0])?d=!0:d&&/^<\/a>/i.test(g[0])&&(d=!1),!e&&/^<(pre|code|kbd|script)(\s|>)/i.test(g[0])?e=!0:e&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(g[0])&&(e=!1),{type:this.options.sanitize?"text":"html",raw:g[0],inLink:d,inRawBlock:e,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):la(g[0]):g[0]}},i.link=function r(b){var d=this.rules.inline.link.exec(b);if(d){var e=za(d[2],"()");if(e>-1){var g=d[0].indexOf("!")===0?5:4,h=g+d[1].length+e;d[2]=d[2].substring(0,e),d[0]=d[0].substring(0,h).trim(),d[3]=""}var x=d[2],v="";if(this.options.pedantic){var R=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(x);R?(x=R[1],v=R[3]):v=""}else v=d[3]?d[3].slice(1,-1):"";x=x.trim().replace(/^<([\s\S]*)>$/,"$1");var N=_b(d,{href:x?x.replace(this.rules.inline._escapes,"$1"):x,title:v?v.replace(this.rules.inline._escapes,"$1"):v},d[0]);return N}},i.reflink=function r(b,d){var e;if((e=this.rules.inline.reflink.exec(b))||(e=this.rules.inline.nolink.exec(b))){var g=(e[2]||e[1]).replace(/\s+/g," ");g=d[g.toLowerCase()];if(!g||!g.href){var h=e[0].charAt(0);return{type:"text",raw:h,text:h}}var x=_b(e,g,e[0]);return x}},i.strong=function r(b,d,e){e===void 0&&(e="");var g=this.rules.inline.strong.start.exec(b);if(g&&(!g[1]||g[1]&&(e===""||this.rules.inline.punctuation.exec(e)))){d=d.slice(-1*b.length);var h=g[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;h.lastIndex=0;for(var x;(g=h.exec(d))!=null;){x=this.rules.inline.strong.middle.exec(d.slice(0,g.index+3));if(x)return{type:"strong",raw:b.slice(0,x[0].length),text:b.slice(2,x[0].length-2)}}}},i.em=function r(b,d,e){e===void 0&&(e="");var g=this.rules.inline.em.start.exec(b);if(g&&(!g[1]||g[1]&&(e===""||this.rules.inline.punctuation.exec(e)))){d=d.slice(-1*b.length);var h=g[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;h.lastIndex=0;for(var x;(g=h.exec(d))!=null;){x=this.rules.inline.em.middle.exec(d.slice(0,g.index+2));if(x)return{type:"em",raw:b.slice(0,x[0].length),text:b.slice(1,x[0].length-1)}}}},i.codespan=function r(b){var d=this.rules.inline.code.exec(b);if(d){var e=d[2].replace(/\n/g," "),g=/[^ ]/.test(e),h=e.startsWith(" ")&&e.endsWith(" ");return g&&h&&(e=e.substring(1,e.length-1)),e=la(e,!0),{type:"codespan",raw:d[0],text:e}}},i.br=function r(b){var d=this.rules.inline.br.exec(b);if(d)return{type:"br",raw:d[0]}},i.del=function r(b){var d=this.rules.inline.del.exec(b);if(d)return{type:"del",raw:d[0],text:d[2]}},i.autolink=function r(b,d){var e=this.rules.inline.autolink.exec(b);if(e){var g,h;return e[2]==="@"?(g=la(this.options.mangle?d(e[1]):e[1]),h="mailto:"+g):(g=la(e[1]),h=g),{type:"link",raw:e[0],text:g,href:h,tokens:[{type:"text",raw:g,text:g}]}}},i.url=function r(b,d){var e;if(e=this.rules.inline.url.exec(b)){var g,h;if(e[2]==="@")g=la(this.options.mangle?d(e[0]):e[0]),h="mailto:"+g;else{var x;do x=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])[0];while(x!==e[0]);g=la(e[0]),e[1]==="www."?h="http://"+g:h=g}return{type:"link",raw:e[0],text:g,href:h,tokens:[{type:"text",raw:g,text:g}]}}},i.inlineText=function r(b,d,e){var g=this.rules.inline.text.exec(b);if(g){var h;return d?h=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):la(g[0]):g[0]:h=la(this.options.smartypants?e(g[0]):g[0]),{type:"text",raw:g[0],text:h}}},k}(),cb=qa.noopTest,t=qa.edit,C=qa.merge,u={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:cb,table:cb,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};u._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,u._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,u.def=t(u.def).replace("label",u._label).replace("title",u._title).getRegex(),u.bullet=/(?:[*+-]|\d{1,9}[.)])/,u.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,u.item=t(u.item,"gm").replace(/bull/g,u.bullet).getRegex(),u.listItemStart=t(/^( *)(bull)/).replace("bull",u.bullet).getRegex(),u.list=t(u.list).replace(/bull/g,u.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+u.def.source+")").getRegex(),u._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",u._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,u.html=t(u.html,"i").replace("comment",u._comment).replace("tag",u._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),u.paragraph=t(u._paragraph).replace("hr",u.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",u._tag).getRegex(),u.blockquote=t(u.blockquote).replace("paragraph",u.paragraph).getRegex(),u.normal=C({},u),u.gfm=C({},u.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),u.gfm.nptable=t(u.gfm.nptable).replace("hr",u.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",u._tag).getRegex(),u.gfm.table=t(u.gfm.table).replace("hr",u.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",u._tag).getRegex(),u.pedantic=C({},u.normal,{html:t(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",u._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:cb,paragraph:t(u.normal._paragraph).replace("hr",u.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",u.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:cb,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:cb,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/};o._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",o.punctuation=t(o.punctuation).replace(/punctuation/g,o._punctuation).getRegex(),o._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",o._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",o._comment=t(u._comment).replace("(?:-->|$)","-->").getRegex(),o.em.start=t(o.em.start).replace(/punctuation/g,o._punctuation).getRegex(),o.em.middle=t(o.em.middle).replace(/punctuation/g,o._punctuation).replace(/overlapSkip/g,o._overlapSkip).getRegex(),o.em.endAst=t(o.em.endAst,"g").replace(/punctuation/g,o._punctuation).getRegex(),o.em.endUnd=t(o.em.endUnd,"g").replace(/punctuation/g,o._punctuation).getRegex(),o.strong.start=t(o.strong.start).replace(/punctuation/g,o._punctuation).getRegex(),o.strong.middle=t(o.strong.middle).replace(/punctuation/g,o._punctuation).replace(/overlapSkip/g,o._overlapSkip).getRegex(),o.strong.endAst=t(o.strong.endAst,"g").replace(/punctuation/g,o._punctuation).getRegex(),o.strong.endUnd=t(o.strong.endUnd,"g").replace(/punctuation/g,o._punctuation).getRegex(),o.blockSkip=t(o._blockSkip,"g").getRegex(),o.overlapSkip=t(o._overlapSkip,"g").getRegex(),o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=t(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=t(o.tag).replace("comment",o._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=t(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=t(o.reflink).replace("label",o._label).getRegex(),o.reflinkSearch=t(o.reflinkSearch,"g").replace("reflink",o.reflink).replace("nolink",o.nolink).getRegex(),o.normal=C({},o),o.pedantic=C({},o.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:t(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:t(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=C({},o.normal,{escape:t(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),o.gfm.url=t(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=C({},o.gfm,{br:t(o.br).replace("{2,}","*").getRegex(),text:t(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var pa={block:u,inline:o},vb=K.defaults,La=pa.block,Aa=pa.inline,Eb=qa.repeatString;function Mc(k){return k.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function $b(k){var i="",r,b,d=k.length;for(r=0;r<d;r++)b=k.charCodeAt(r),Math.random()>.5&&(b="x"+b.toString(16)),i+="&#"+b+";";return i}var db=function(){function k(r){this.tokens=[],this.tokens.links=Object.create(null),this.options=r||vb,this.options.tokenizer=this.options.tokenizer||new ub(),this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var b={block:La.normal,inline:Aa.normal};this.options.pedantic?(b.block=La.pedantic,b.inline=Aa.pedantic):this.options.gfm&&(b.block=La.gfm,this.options.breaks?b.inline=Aa.breaks:b.inline=Aa.gfm),this.tokenizer.rules=b}k.lex=function r(b,d){var e=new k(d);return e.lex(b)},k.lexInline=function r(b,d){var e=new k(d);return e.inlineTokens(b)};var i=k.prototype;return i.lex=function r(b){return b=b.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(b,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function r(b,d,e){d===void 0&&(d=[]),e===void 0&&(e=!0),b=b.replace(/^ +$/gm,"");for(var g,h,x,v;b;){if(g=this.tokenizer.space(b)){b=b.substring(g.raw.length),g.type&&d.push(g);continue}if(g=this.tokenizer.code(b,d)){b=b.substring(g.raw.length),g.type?d.push(g):(v=d[d.length-1],v.raw+=`
`+g.raw,v.text+=`
`+g.text);continue}if(g=this.tokenizer.fences(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.heading(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.nptable(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.hr(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.blockquote(b)){b=b.substring(g.raw.length),g.tokens=this.blockTokens(g.text,[],e),d.push(g);continue}if(g=this.tokenizer.list(b)){for(b=b.substring(g.raw.length),x=g.items.length,h=0;h<x;h++)g.items[h].tokens=this.blockTokens(g.items[h].text,[],!1);d.push(g);continue}if(g=this.tokenizer.html(b)){b=b.substring(g.raw.length),d.push(g);continue}if(e&&(g=this.tokenizer.def(b))){b=b.substring(g.raw.length),this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(b)){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.lheading(b)){b=b.substring(g.raw.length),d.push(g);continue}if(e&&(g=this.tokenizer.paragraph(b))){b=b.substring(g.raw.length),d.push(g);continue}if(g=this.tokenizer.text(b,d)){b=b.substring(g.raw.length),g.type?d.push(g):(v=d[d.length-1],v.raw+=`
`+g.raw,v.text+=`
`+g.text);continue}if(b){var R="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(R);break}else throw new Error(R)}}return d},i.inline=function r(b){var d,e,g,h,x,v,R=b.length;for(d=0;d<R;d++){v=b[d];switch(v.type){case"paragraph":case"text":case"heading":{v.tokens=[],this.inlineTokens(v.text,v.tokens);break}case"table":{for(v.tokens={header:[],cells:[]},h=v.header.length,e=0;e<h;e++)v.tokens.header[e]=[],this.inlineTokens(v.header[e],v.tokens.header[e]);for(h=v.cells.length,e=0;e<h;e++)for(x=v.cells[e],v.tokens.cells[e]=[],g=0;g<x.length;g++)v.tokens.cells[e][g]=[],this.inlineTokens(x[g],v.tokens.cells[e][g]);break}case"blockquote":{this.inline(v.tokens);break}case"list":{for(h=v.items.length,e=0;e<h;e++)this.inline(v.items[e].tokens);break}}}return b},i.inlineTokens=function r(b,d,e,g){d===void 0&&(d=[]),e===void 0&&(e=!1),g===void 0&&(g=!1);var h,x=b,v,R,N;if(this.tokens.links){var Z=Object.keys(this.tokens.links);if(Z.length>0)for(;(v=this.tokenizer.rules.inline.reflinkSearch.exec(x))!=null;)Z.includes(v[0].slice(v[0].lastIndexOf("[")+1,-1))&&(x=x.slice(0,v.index)+"["+Eb("a",v[0].length-2)+"]"+x.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(v=this.tokenizer.rules.inline.blockSkip.exec(x))!=null;)x=x.slice(0,v.index)+"["+Eb("a",v[0].length-2)+"]"+x.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;b;){R||(N=""),R=!1;if(h=this.tokenizer.escape(b)){b=b.substring(h.raw.length),d.push(h);continue}if(h=this.tokenizer.tag(b,e,g)){b=b.substring(h.raw.length),e=h.inLink,g=h.inRawBlock,d.push(h);continue}if(h=this.tokenizer.link(b)){b=b.substring(h.raw.length),h.type==="link"&&(h.tokens=this.inlineTokens(h.text,[],!0,g)),d.push(h);continue}if(h=this.tokenizer.reflink(b,this.tokens.links)){b=b.substring(h.raw.length),h.type==="link"&&(h.tokens=this.inlineTokens(h.text,[],!0,g)),d.push(h);continue}if(h=this.tokenizer.strong(b,x,N)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),d.push(h);continue}if(h=this.tokenizer.em(b,x,N)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),d.push(h);continue}if(h=this.tokenizer.codespan(b)){b=b.substring(h.raw.length),d.push(h);continue}if(h=this.tokenizer.br(b)){b=b.substring(h.raw.length),d.push(h);continue}if(h=this.tokenizer.del(b)){b=b.substring(h.raw.length),h.tokens=this.inlineTokens(h.text,[],e,g),d.push(h);continue}if(h=this.tokenizer.autolink(b,$b)){b=b.substring(h.raw.length),d.push(h);continue}if(!e&&(h=this.tokenizer.url(b,$b))){b=b.substring(h.raw.length),d.push(h);continue}if(h=this.tokenizer.inlineText(b,g,Mc)){b=b.substring(h.raw.length),N=h.raw.slice(-1),R=!0,d.push(h);continue}if(b){var ma="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(ma);break}else throw new Error(ma)}}return d},j(k,null,[{key:"rules",get:function r(){return{block:La,inline:Aa}}}]),k}(),Nc=K.defaults,ac=qa.cleanUrl,Va=qa.escape,ua=function(){function k(r){this.options=r||Nc}var i=k.prototype;return i.code=function r(b,d,e){var g=(d||"").match(/\S*/)[0];if(this.options.highlight){var h=this.options.highlight(b,g);h!=null&&h!==b&&(e=!0,b=h)}return g?'<pre><code class="'+this.options.langPrefix+Va(g,!0)+'">'+(e?b:Va(b,!0))+`</code></pre>
`:"<pre><code>"+(e?b:Va(b,!0))+`</code></pre>
`},i.blockquote=function r(b){return`<blockquote>
`+b+`</blockquote>
`},i.html=function r(b){return b},i.heading=function r(b,d,e,g){return this.options.headerIds?"<h"+d+' id="'+this.options.headerPrefix+g.slug(e)+'">'+b+"</h"+d+`>
`:"<h"+d+">"+b+"</h"+d+`>
`},i.hr=function r(){return this.options.xhtml?`<hr/>
`:`<hr>
`},i.list=function r(b,d,e){var g=d?"ol":"ul",h=d&&e!==1?' start="'+e+'"':"";return"<"+g+h+`>
`+b+"</"+g+`>
`},i.listitem=function r(b){return"<li>"+b+`</li>
`},i.checkbox=function r(b){return"<input "+(b?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.paragraph=function r(b){return"<p>"+b+`</p>
`},i.table=function r(b,d){return d&&(d="<tbody>"+d+"</tbody>"),`<table>
<thead>
`+b+`</thead>
`+d+`</table>
`},i.tablerow=function r(b){return`<tr>
`+b+`</tr>
`},i.tablecell=function r(b,d){var e=d.header?"th":"td",g=d.align?"<"+e+' align="'+d.align+'">':"<"+e+">";return g+b+"</"+e+`>
`},i.strong=function r(b){return"<strong>"+b+"</strong>"},i.em=function r(b){return"<em>"+b+"</em>"},i.codespan=function r(b){return"<code>"+b+"</code>"},i.br=function r(){return this.options.xhtml?"<br/>":"<br>"},i.del=function r(b){return"<del>"+b+"</del>"},i.link=function r(b,d,e){b=ac(this.options.sanitize,this.options.baseUrl,b);if(b===null)return e;var g='<a href="'+Va(b)+'"';return d&&(g+=' title="'+d+'"'),g+=">"+e+"</a>",g},i.image=function r(b,d,e){b=ac(this.options.sanitize,this.options.baseUrl,b);if(b===null)return e;var g='<img src="'+b+'" alt="'+e+'"';return d&&(g+=' title="'+d+'"'),g+=this.options.xhtml?"/>":">",g},i.text=function r(b){return b},k}(),Fb=function(){function k(){}var i=k.prototype;return i.strong=function r(b){return b},i.em=function r(b){return b},i.codespan=function r(b){return b},i.del=function r(b){return b},i.html=function r(b){return b},i.text=function r(b){return b},i.link=function r(b,d,e){return""+e},i.image=function r(b,d,e){return""+e},i.br=function r(){return""},k}(),eb=function(){function k(){this.seen={}}var i=k.prototype;return i.serialize=function r(b){return b.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},i.getNextSafeSlug=function r(b,d){var e=b,g=0;if(this.seen.hasOwnProperty(e)){g=this.seen[b];do g++,e=b+"-"+g;while(this.seen.hasOwnProperty(e))}return d||(this.seen[b]=g,this.seen[e]=0),e},i.slug=function r(b,d){d===void 0&&(d={});var e=this.serialize(b);return this.getNextSafeSlug(e,d.dryrun)},k}(),Gb=K.defaults,Oc=qa.unescape,fb=function(){function k(r){this.options=r||Gb,this.options.renderer=this.options.renderer||new ua(),this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Fb(),this.slugger=new eb()}k.parse=function r(b,d){var e=new k(d);return e.parse(b)},k.parseInline=function r(b,d){var e=new k(d);return e.parseInline(b)};var i=k.prototype;return i.parse=function r(b,d){d===void 0&&(d=!0);var e="",g,h,x,v,R,N,Z,ma,da,W,va,Ma,Na,sa,_,gb,Wa,Ca,cc=b.length;for(g=0;g<cc;g++){W=b[g];switch(W.type){case"space":continue;case"hr":{e+=this.renderer.hr();continue}case"heading":{e+=this.renderer.heading(this.parseInline(W.tokens),W.depth,Oc(this.parseInline(W.tokens,this.textRenderer)),this.slugger);continue}case"code":{e+=this.renderer.code(W.text,W.lang,W.escaped);continue}case"table":{for(ma="",Z="",v=W.header.length,h=0;h<v;h++)Z+=this.renderer.tablecell(this.parseInline(W.tokens.header[h]),{header:!0,align:W.align[h]});for(ma+=this.renderer.tablerow(Z),da="",v=W.cells.length,h=0;h<v;h++){for(N=W.tokens.cells[h],Z="",R=N.length,x=0;x<R;x++)Z+=this.renderer.tablecell(this.parseInline(N[x]),{header:!1,align:W.align[x]});da+=this.renderer.tablerow(Z)}e+=this.renderer.table(ma,da);continue}case"blockquote":{da=this.parse(W.tokens),e+=this.renderer.blockquote(da);continue}case"list":{for(va=W.ordered,Ma=W.start,Na=W.loose,v=W.items.length,da="",h=0;h<v;h++)_=W.items[h],gb=_.checked,Wa=_.task,sa="",_.task&&(Ca=this.renderer.checkbox(gb),Na?_.tokens.length>0&&_.tokens[0].type==="text"?(_.tokens[0].text=Ca+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=Ca+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:Ca}):sa+=Ca),sa+=this.parse(_.tokens,Na),da+=this.renderer.listitem(sa,Wa,gb);e+=this.renderer.list(da,va,Ma);continue}case"html":{e+=this.renderer.html(W.text);continue}case"paragraph":{e+=this.renderer.paragraph(this.parseInline(W.tokens));continue}case"text":{for(da=W.tokens?this.parseInline(W.tokens):W.text;g+1<cc&&b[g+1].type==="text";)W=b[++g],da+=`
`+(W.tokens?this.parseInline(W.tokens):W.text);e+=d?this.renderer.paragraph(da):da;continue}default:{var Kb='Token with "'+W.type+'" type was not found.';if(this.options.silent){console.error(Kb);return}else throw new Error(Kb)}}}return e},i.parseInline=function r(b,d){d=d||this.renderer;var e="",g,h,x=b.length;for(g=0;g<x;g++){h=b[g];switch(h.type){case"escape":{e+=d.text(h.text);break}case"html":{e+=d.html(h.text);break}case"link":{e+=d.link(h.href,h.title,this.parseInline(h.tokens,d));break}case"image":{e+=d.image(h.href,h.title,h.text);break}case"strong":{e+=d.strong(this.parseInline(h.tokens,d));break}case"em":{e+=d.em(this.parseInline(h.tokens,d));break}case"codespan":{e+=d.codespan(h.text);break}case"br":{e+=d.br();break}case"del":{e+=d.del(this.parseInline(h.tokens,d));break}case"text":{e+=d.text(h.text);break}default:{var v='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(v);return}else throw new Error(v)}}}return e},k}(),wb=qa.merge,bc=qa.checkSanitizeDeprecation,Hb=qa.escape,Ba=K.getDefaults,Ib=K.changeDefaults,Jb=K.defaults;function X(k,i,r){if(typeof k==="undefined"||k===null)throw new Error("marked(): input parameter is undefined or null");if(typeof k!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(k)+", string expected");typeof i==="function"&&(r=i,i=null),i=wb({},X.defaults,i||{}),bc(i);if(r){var b=i.highlight,d;try{d=db.lex(k,i)}catch(x){return r(x)}var e=function x(v){var R;if(!v)try{R=fb.parse(d,i)}catch(N){v=N}return i.highlight=b,v?r(v):r(null,R)};if(!b||b.length<3)return e();delete i.highlight;if(!d.length)return e();var g=0;X.walkTokens(d,function(x){x.type==="code"&&(g++,setTimeout(function(){b(x.text,x.lang,function(v,R){if(v)return e(v);R!=null&&R!==x.text&&(x.text=R,x.escaped=!0),g--,g===0&&e()})},0))}),g===0&&e();return}try{var h=db.lex(k,i);return i.walkTokens&&X.walkTokens(h,i.walkTokens),fb.parse(h,i)}catch(x){x.message+=`
Please report this to https://github.com/markedjs/marked.`;if(i.silent)return"<p>An error occurred:</p><pre>"+Hb(x.message+"",!0)+"</pre>";throw x}}X.options=X.setOptions=function(k){return wb(X.defaults,k),Ib(X.defaults),X},X.getDefaults=Ba,X.defaults=Jb,X.use=function(k){var i=wb({},k);k.renderer&&function(){var b=X.defaults.renderer||new ua(),d=function g(h){var x=b[h];b[h]=function(){for(var v=arguments.length,R=new Array(v),N=0;N<v;N++)R[N]=arguments[N];var Z=k.renderer[h].apply(b,R);return Z===!1&&(Z=x.apply(b,R)),Z}};for(var e in k.renderer)d(e);i.renderer=b}(),k.tokenizer&&function(){var b=X.defaults.tokenizer||new ub(),d=function g(h){var x=b[h];b[h]=function(){for(var v=arguments.length,R=new Array(v),N=0;N<v;N++)R[N]=arguments[N];var Z=k.tokenizer[h].apply(b,R);return Z===!1&&(Z=x.apply(b,R)),Z}};for(var e in k.tokenizer)d(e);i.tokenizer=b}();if(k.walkTokens){var r=X.defaults.walkTokens;i.walkTokens=function(b){k.walkTokens(b),r&&r(b)}}X.setOptions(i)},X.walkTokens=function(k,i){for(var r=p(k),b;!(b=r()).done;){var d=b.value;i(d);switch(d.type){case"table":{for(var e=p(d.tokens.header),g;!(g=e()).done;){var h=g.value;X.walkTokens(h,i)}for(var x=p(d.tokens.cells),v;!(v=x()).done;)for(var R=v.value,N=p(R),Z;!(Z=N()).done;){var ma=Z.value;X.walkTokens(ma,i)}break}case"list":{X.walkTokens(d.items,i);break}default:d.tokens&&X.walkTokens(d.tokens,i)}}},X.parseInline=function(k,i){if(typeof k==="undefined"||k===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof k!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(k)+", string expected");i=wb({},X.defaults,i||{}),bc(i);try{var r=db.lexInline(k,i);return i.walkTokens&&X.walkTokens(r,i.walkTokens),fb.parseInline(r,i)}catch(b){b.message+=`
Please report this to https://github.com/markedjs/marked.`;if(i.silent)return"<p>An error occurred:</p><pre>"+Hb(b.message+"",!0)+"</pre>";throw b}},X.Parser=fb,X.parser=fb.parse,X.Renderer=ua,X.TextRenderer=Fb,X.Lexer=db,X.lexer=db.lex,X.Tokenizer=ub,X.Slugger=eb,X.parse=X;var Pc=X;return Pc})});const pf=Fc(Uc());var ea=new pf.default({APIUrl:"https://flintstone.app/.netlify/identity",audience:"",setCookie:!0});const Yc=new WeakMap(),dc=a=>(...c)=>{const f=a(...c);return Yc.set(f,!0),f},Xa=a=>typeof a==="function"&&Yc.has(a);const hc=typeof window!=="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,ic=(a,c,f=null,j=null)=>{for(;c!==f;){const q=c.nextSibling;a.insertBefore(c,j),c=q}},yb=(a,c,f=null)=>{for(;c!==f;){const j=c.nextSibling;a.removeChild(c),c=j}};const xa={},ia={};const Ia=`{{lit-${String(Math.random()).slice(2)}}}`,pc=`<!--${Ia}-->`,ad=new RegExp(`${Ia}|${pc}`),lb="$lit$";class mc{constructor(a,c){this.parts=[],this.element=c;const f=[],j=[],q=document.createTreeWalker(c.content,133,null,!1);let D=0,p=-1,A=0;const{strings:K,values:{length:Y}}=a;for(;A<Y;){const L=q.nextNode();if(L===null){q.currentNode=j.pop();continue}p++;if(L.nodeType===1){if(L.hasAttributes()){const T=L.attributes,{length:fa}=T;let J=0;for(let n=0;n<fa;n++)bd(T[n].name,lb)&&J++;for(;J-- >0;){const n=K[A],y=Sb.exec(n)[2],s=y.toLowerCase()+lb,w=L.getAttribute(s);L.removeAttribute(s);const P=w.split(ad);this.parts.push({type:"attribute",index:p,name:y,strings:P}),A+=P.length-1}}L.tagName==="TEMPLATE"&&(j.push(L),q.currentNode=L.content)}else if(L.nodeType===3){const T=L.data;if(T.indexOf(Ia)>=0){const fa=L.parentNode,J=T.split(ad),n=J.length-1;for(let y=0;y<n;y++){let s,w=J[y];if(w==="")s=Ha();else{const P=Sb.exec(w);P!==null&&bd(P[2],lb)&&(w=w.slice(0,P.index)+P[1]+P[2].slice(0,-lb.length)+P[3]),s=document.createTextNode(w)}fa.insertBefore(s,L),this.parts.push({type:"node",index:++p})}J[n]===""?(fa.insertBefore(Ha(),L),f.push(L)):L.data=J[n],A+=n}}else if(L.nodeType===8)if(L.data===Ia){const T=L.parentNode;(L.previousSibling===null||p===D)&&(p++,T.insertBefore(Ha(),L)),D=p,this.parts.push({type:"node",index:p}),L.nextSibling===null?L.data="":(f.push(L),p--),A++}else{let T=-1;for(;(T=L.data.indexOf(Ia,T+1))!==-1;)this.parts.push({type:"node",index:-1}),A++}}for(const L of f)L.parentNode.removeChild(L)}}const bd=(a,c)=>{const f=a.length-c.length;return f>=0&&a.slice(f)===c},oc=a=>a.index!==-1,Ha=()=>document.createComment(""),Sb=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class Qb{constructor(a,c,f){this.__parts=[],this.template=a,this.processor=c,this.options=f}update(a){let c=0;for(const f of this.__parts)f!==void 0&&f.setValue(a[c]),c++;for(const f of this.__parts)f!==void 0&&f.commit()}_clone(){const a=hc?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),c=[],f=this.template.parts,j=document.createTreeWalker(a,133,null,!1);let q=0,D=0,p,A=j.nextNode();for(;q<f.length;){p=f[q];if(!oc(p)){this.__parts.push(void 0),q++;continue}for(;D<p.index;)D++,A.nodeName==="TEMPLATE"&&(c.push(A),j.currentNode=A.content),(A=j.nextNode())===null&&(j.currentNode=c.pop(),A=j.nextNode());if(p.type==="node"){const K=this.processor.handleTextExpression(this.options);K.insertAfterNode(A.previousSibling),this.__parts.push(K)}else this.__parts.push(...this.processor.handleAttributeExpressions(A,p.name,p.strings,this.options));q++}return hc&&(document.adoptNode(a),customElements.upgrade(a)),a}}const $c=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:a=>a}),ee=` ${Ia} `;class jb{constructor(a,c,f,j){this.strings=a,this.values=c,this.type=f,this.processor=j}getHTML(){const a=this.strings.length-1;let c="",f=!1;for(let j=0;j<a;j++){const q=this.strings[j],D=q.lastIndexOf("<!--");f=(D>-1||f)&&q.indexOf("-->",D+1)===-1;const p=Sb.exec(q);p===null?c+=q+(f?ee:pc):c+=q.substr(0,p.index)+p[1]+p[2]+lb+p[3]+Ia}return c+=this.strings[a],c}getTemplateElement(){const a=document.createElement("template");let c=this.getHTML();return $c!==void 0&&(c=$c.createHTML(c)),a.innerHTML=c,a}}class qc extends jb{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const a=super.getTemplateElement(),c=a.content,f=c.firstChild;return c.removeChild(f),ic(c,f.firstChild),a}}const ib=a=>a===null||!(typeof a==="object"||typeof a==="function"),Rb=a=>Array.isArray(a)||!!(a&&a[Symbol.iterator]);class Ob{constructor(a,c,f){this.dirty=!0,this.element=a,this.name=c,this.strings=f,this.parts=[];for(let j=0;j<f.length-1;j++)this.parts[j]=this._createPart()}_createPart(){return new jc(this)}_getValue(){const a=this.strings,c=a.length-1,f=this.parts;if(c===1&&a[0]===""&&a[1]===""){const q=f[0].value;if(typeof q==="symbol")return String(q);if(typeof q==="string"||!Rb(q))return q}let j="";for(let q=0;q<c;q++){j+=a[q];const D=f[q];if(D!==void 0){const p=D.value;if(ib(p)||!Rb(p))j+=typeof p==="string"?p:String(p);else for(const A of p)j+=typeof A==="string"?A:String(A)}}return j+=a[c],j}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class jc{constructor(a){this.value=void 0,this.committer=a}setValue(a){a!==xa&&(!ib(a)||a!==this.value)&&(this.value=a,Xa(a)||(this.committer.dirty=!0))}commit(){for(;Xa(this.value);){const a=this.value;this.value=xa,a(this)}if(this.value===xa)return;this.committer.commit()}}class Sa{constructor(a){this.value=void 0,this.__pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(Ha()),this.endNode=a.appendChild(Ha())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a.__insert(this.startNode=Ha()),a.__insert(this.endNode=Ha())}insertAfterPart(a){a.__insert(this.startNode=Ha()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this.__pendingValue=a}commit(){if(this.startNode.parentNode===null)return;for(;Xa(this.__pendingValue);){const c=this.__pendingValue;this.__pendingValue=xa,c(this)}const a=this.__pendingValue;if(a===xa)return;ib(a)?a!==this.value&&this.__commitText(a):a instanceof jb?this.__commitTemplateResult(a):a instanceof Node?this.__commitNode(a):Rb(a)?this.__commitIterable(a):a===ia?(this.value=ia,this.clear()):this.__commitText(a)}__insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}__commitNode(a){if(this.value===a)return;this.clear(),this.__insert(a),this.value=a}__commitText(a){const c=this.startNode.nextSibling;a=a==null?"":a;const f=typeof a==="string"?a:String(a);c===this.endNode.previousSibling&&c.nodeType===3?c.data=f:this.__commitNode(document.createTextNode(f)),this.value=a}__commitTemplateResult(a){const c=this.options.templateFactory(a);if(this.value instanceof Qb&&this.value.template===c)this.value.update(a.values);else{const f=new Qb(c,a.processor,this.options),j=f._clone();f.update(a.values),this.__commitNode(j),this.value=f}}__commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());const c=this.value;let f=0,j;for(const q of a)j=c[f],j===void 0&&(j=new Sa(this.options),c.push(j),f===0?j.appendIntoPart(this):j.insertAfterPart(c[f-1])),j.setValue(q),j.commit(),f++;f<c.length&&(c.length=f,this.clear(j&&j.endNode))}clear(a=this.startNode){yb(this.startNode.parentNode,a.nextSibling,this.endNode)}}class ec{constructor(a,c,f){this.value=void 0,this.__pendingValue=void 0;if(f.length!==2||f[0]!==""||f[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=c,this.strings=f}setValue(a){this.__pendingValue=a}commit(){for(;Xa(this.__pendingValue);){const c=this.__pendingValue;this.__pendingValue=xa,c(this)}if(this.__pendingValue===xa)return;const a=!!this.__pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=a),this.__pendingValue=xa}}class gc extends Ob{constructor(a,c,f){super(a,c,f);this.single=f.length===2&&f[0]===""&&f[1]===""}_createPart(){return new Zc(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Zc extends jc{}let _c=!1;(()=>{try{const a={get capture(){return _c=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}})();class fc{constructor(a,c,f){this.value=void 0,this.__pendingValue=void 0,this.element=a,this.eventName=c,this.eventContext=f,this.__boundHandleEvent=j=>this.handleEvent(j)}setValue(a){this.__pendingValue=a}commit(){for(;Xa(this.__pendingValue);){const q=this.__pendingValue;this.__pendingValue=xa,q(this)}if(this.__pendingValue===xa)return;const a=this.__pendingValue,c=this.value,f=a==null||c!=null&&(a.capture!==c.capture||a.once!==c.once||a.passive!==c.passive),j=a!=null&&(c==null||f);f&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),j&&(this.__options=de(a),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=a,this.__pendingValue=xa}handleEvent(a){typeof this.value==="function"?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}const de=a=>a&&(_c?{capture:a.capture,passive:a.passive,once:a.once}:a.capture);class Xc{handleAttributeExpressions(a,c,f,j){const q=c[0];if(q==="."){const p=new gc(a,c.slice(1),f);return p.parts}if(q==="@")return[new fc(a,c.slice(1),j.eventContext)];if(q==="?")return[new ec(a,c.slice(1),f)];const D=new Ob(a,c,f);return D.parts}handleTextExpression(a){return new Sa(a)}}const Pb=new Xc();function kc(a){let c=nc.get(a.type);c===void 0&&(c={stringsArray:new WeakMap(),keyString:new Map()},nc.set(a.type,c));let f=c.stringsArray.get(a.strings);if(f!==void 0)return f;const j=a.strings.join(Ia);return f=c.keyString.get(j),f===void 0&&(f=new mc(a,a.getTemplateElement()),c.keyString.set(j,f)),c.stringsArray.set(a.strings,f),f}const nc=new Map();const lc=new WeakMap(),kb=(a,c,f)=>{let j=lc.get(c);j===void 0&&(yb(c,c.firstChild),lc.set(c,j=new Sa(Object.assign({templateFactory:kc},f))),j.appendInto(c)),j.setValue(a),j.commit()};typeof window!=="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const B=(a,...c)=>new jb(a,c,"html",Pb),Pa=(a,...c)=>new qc(a,c,"svg",Pb);let $=(a,c=document)=>c.querySelector(a),qb=a=>JSON.parse(JSON.stringify(a)),Nd=(a,c)=>Object.keys(a).forEach(f=>c[f]=a[f]),ha=(a,c)=>$(`[data-index="${a}"]`,c),Ja=(a,c,f)=>a.style.setProperty(`--${c}`,f),Qd=(a,c,f={})=>a.forEach(j=>c[j]=c[j]||f),hd=()=>location=location.href,Ub=a=>{let c=new Blob([JSON.stringify(a)],{type:"application/json"});return URL.createObjectURL(c)},Fd=a=>a.replace(/</g,"%3C").replace(/{/g,"B").replace(/expression\(.+?\)/g,""),Db=(a,c)=>c==void 0?JSON.parse(localStorage.getItem(a)):localStorage.setItem(a,JSON.stringify(c)),Ab=(a,c)=>{let f=a.target;c[f.name]=f.value},_a=(a,c)=>document.documentElement.classList.toggle(a,c);var M=({title:a="",action:c=null,type:f="",content:j="",className:q="",disabled:D=!1})=>B`<button type=${f} ?disabled=${D} title=${a} class=${q} @click=${c}>${j}</button>`;var ca=a=>B`
<modal @click=${()=>Za(!1)} class=mount>
  ${a}
</modal>`;var Ta=(a="Your email or password may be invalid")=>B`
<span>
  ${a}.
  ${M({content:"Try logging in again",className:"link underline",action:()=>S(ca(ob()))})}
  or
  ${M({content:"continue using anonymously.",className:"link underline",action:()=>S()})}
</span>`;var nb=({fields:a,formData:c})=>a.map(f=>B`
<label>
  ${f}
  <input required=true @input=${j=>Ab(j,c)}
  type=${/email|password/.test(f)?f:"text"}
  name=${f} />
</label>`);var gd=()=>{let a=["email"],c={};return B`
  <form class=mount>
    ${nb({fields:a,formData:c})}
    ${M({className:"primary",content:"Send Recovery Email",action:()=>{G("loading",!0),ea.requestPasswordRecovery(c.email).then(()=>{G("loading",!1),S(ca("Recovery email sent. Check your inbox."))}).catch(f=>{ta(f),S(ca(Ta(f.message)))})}})}
    ${M({className:"link",content:"Back to sign in",action:()=>S(ca(ob()))})}
  </form>`};var mb=()=>B`
<div>
  <h1 class=mount>Welcome to <span style="color: var(--primary)">Flintstone</span>!</h1>
  <p>The tool for creating formal-ish documents on the go.</p>
</div>
<form class="mount">
${M({content:"Start from scratch",className:"primary",action:()=>Cb.then(a=>{m.savedLocally=!0,m.loading=!1,m.currentUser.styles=a.currentUser.styles,zb(),S(),na(!0),console.log(m.currentUser.styles)})})}
${M({content:"Use the starter template",className:"link",action:()=>Cb.then(a=>{Nd(a,m),m.savedLocally=!0,m.loading=!1,zb(),S(),na(!0)}).catch(a=>{ta(a),S(ca(Ta(a.message)))})})}
</form>`;function ob(){let a={};return B`
  <form class=mount>
    <label>
      Email
      <input required @input=${c=>Ab(c,a)} type=email name=email />
    </label>
    <label>
      Password
      <input required @input=${c=>Ab(c,a)} type=password name=password />
      ${M({className:"link",content:"Forgot Password",action:()=>S(ca(gd()))})}
    </label>

    ${M({className:"primary",content:"Sign In",action:()=>{G("loading",!0),ea.login(a.email,a.password,!0).then(()=>{na(!0),hd()}).catch(c=>{ta(c),S(ca(Ta(c.message)))})}})}
    ${M({className:"link",content:"Continue using anonymously",action:()=>m.savedLocally?S():S(ca(mb()))})}
  </form>`}var id=()=>{let a=ea.currentUser();return B`
  <form class=mount>
    ${M({className:"primary",content:"Sign Out",action:()=>{G("loading",!0),ea.currentUser().logout().then(()=>location=location.href)}})}
    ${M({className:"link",content:B`Continue as <strong>${a.user_metadata.full_name||a.email}</strong>`,action:()=>S()})}
  </form>`};var jd=()=>{let a=["name","email","password"],c={};return B`
  <form class=mount>
    ${nb({fields:a,formData:c})}
    ${M({className:"primary",content:"Create Account",action:()=>{G("loading",!0),ea.signup(c.email,c.password,{full_name:c.name}).then(()=>{G("loading",!1),S(ca("Confirmation email sent. Check your inbox."))}).catch(f=>{ta(f),S(ca(Ta(f.message)))})}})}
    ${M({className:"link",content:"Continue using anonymously",action:()=>m.savedLocally?S():S(ca(mb()))})}
  </form>`};var Ya=({content:a,className:c=""})=>Pa`
<svg class=${c} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 216 216">
  ${a}
</svg>`;var Qa=a=>{a==void 0?(Ua("showStyles",!Ka.showStyles),S()):(Ua("showStyles",a),S())};var Bd=()=>{m.loading=!0,m.showPreview=!0,S(),setTimeout(()=>{print(),G("loading",!1)},500)};var Bb=()=>{let a=ea.currentUser();return B`
  <div id=logo>
    <light>
      <desktop-only>
        <img alt="Flintstone logo" src="logo.svg" />
      </desktop-only>
      <mobile-only>
        <img alt="Flintstone logo" src="logo-icon.svg" />
      </mobile-only>
    </light>
    <dark>
      <desktop-only>
        <img alt="Flintstone logo" src="logo-light.svg" />
      </desktop-only>
      <mobile-only>
        <img alt="Flintstone logo" src="logo-icon-light.svg" />
      </mobile-only>
    </dark>
  </div>
  ${a?ia:M({className:"primary",content:"Sign up",action:()=>S(ca(jd()))})}
  ${M({className:"link",content:a?B`Signed in as <strong>${a.user_metadata.full_name||a.email}</strong>`:"Sign in",action:a?()=>S(ca(id())):()=>S(ca(ob()))})}
  ${m.savedLocally?B`<separator></separator>`:ia}
  ${m.savedLocally?M({title:`${m.showMenu?"Close":"Open"} menu`,content:Ya({content:Pa`
            <line y1="30" x2="100%" y2="30"/>
            <line y1="50%" x2="100%" y2="50%"/>
            <line y1="186" x2="100%" y2="186"/>`}),className:"icon menu-toggle",action:()=>Za()}):ia}
  <nav>
    ${M({className:"icon",content:`✨ ${Ka.showStyles?"Close":"Open"} style editor`,action:()=>{Za(!1),Qa()}})}
    ${M({className:"icon",content:"🖨️ Print current document",action:Bd})}
    ${M({className:"icon",content:B`<light>🌞</light><dark>🌝</dark> Switch to <light>dark</light><dark>light</dark> theme`,action:()=>Ua("dark",!Ka.dark)})}
  </nav>`};var Za=a=>{a==void 0?(Ua("showMenu",!Ka.showMenu),kb(Bb(),$("header"))):(Ua("showMenu",a),kb(Bb(),$("header")))};class ja{constructor(a,c=()=>null){this.elements=Array.isArray(a)?a:[a],this.modifier=c,this.duration=300}added(){let a=this.elements[0];a.style.transition="none",a.style.opacity=0,Ja(a,"translateY",1),Ja(a,"scaleY",0),setTimeout(()=>{a.style.transition="",a.style.opacity=1,Ja(a,"translateY",0),Ja(a,"scaleY",1)},10)}removed(){let{elements:a,duration:c,modifier:f}=this,j=a[0];j.style.opacity=0,Ja(j,"scaleY",0),setTimeout(()=>{f(),j.style.transition="none",j.style.opacity=1,Ja(j,"scaleY",1),setTimeout(()=>j.style.transition="",c)},c)}swapped(a){let[c,f]=this.elements;Ja(c,"translateY",a),Ja(f,"translateY",a*-1),this.elements.map(j=>j.style.transition="none"),setTimeout(()=>{this.elements.map(j=>{j.style.transition="",Ja(j,"translateY",0)}),this.modifier()},10)}}var Tb=a=>{G("currentDataset",m.currentUser.datasets[a])};var kd=()=>{var q;let a={id:"New Data",fields:[["",""]]},c=m.currentUser.datasets.length;m.currentUser.datasets.push(a),Tb(c);let f=ha(c,$(".data .sets")),j=new ja(f);j.added(),(q=$(".data [data-active] input"))==null||q.focus(),na()};var ld=()=>{m.currentDataset.fields.push(["",""]),G("currentDataset",m.currentDataset,!0);let a=ha(m.currentDataset.fields.length-1,$(".fields"));new ja(a).added()};var md=a=>{let c=m.currentUser.datasets[a],f=qb(c);f.id=c.id+" copy",m.currentUser.datasets.push(f),G("currentUser",m.currentUser),G("currentDataset",f,!0);let j=ha(a+1,$(".data .sets")),q=new ja(j);q.added()};var nd=a=>{let c=m.currentUser.datasets,f=c[a];if(!confirm(`Are you sure you want to delete ${f.id}?`))return;let j=ha(a,$(".data .sets")),q=new ja(j,()=>{c.splice(a,1),m.currentUser.datasets=c,G("currentDataset",m.currentUser.datasets[0],!0)});q.removed()};var od=a=>{m.currentDataset.id=a,G("currentDataset",m.currentDataset,!0)};var yd=a=>{let c=ha(a,$(".fields")),f=new ja(c,()=>{m.currentDataset.fields.splice(a,1),G("currentDataset",m.currentDataset,!0)});f.removed()};var zd=(a,c)=>{let[f,j]=m.currentDataset.fields[a];m.currentDataset.fields[a]=[c,j],G("currentDataset",m.currentDataset,!0)};var Ad=(a,c)=>{let[f,j]=m.currentDataset.fields[a];m.currentDataset.fields[a]=[f,c],G("currentDataset",m.currentDataset,!0)};var xc=(a,c)=>{document.activeElement.blur();let f=c>0?"down":"up",j=m.currentDataset.fields[a],q=a+c,D=$(".fields"),p=ha(a,D),A=ha(q,D);m.currentDataset.fields.splice(a,1),m.currentDataset.fields.splice(q,0,j),G("currentDataset",m.currentDataset,!0);let K=new ja([p,A],()=>$(`[title*="${f}"]`,A).focus());K.swapped(c)};var pd=([a,c],f,j)=>{let q=`${j}_${f}_key`,D=`${j}_${f}_value`;return B`
  <li data-index=${f}>
    <key>
      <input 
      title="Rename this field"
      type=text
      .value=${a} 
      id=${q}
      @input=${p=>zd(f,p.target.value)} />
    </key>
    <value>
      <input 
      title="Change the value this field"
      type=text
      .value=${c} 
      id=${D}
      @input=${p=>Ad(f,p.target.value)} />
    </value>
    <actions>
      <div class=join-buttons>
        ${M({title:"Move field up",className:"icon",disabled:f==0,content:Ya({content:Pa`<polyline points="184.69 146.81 108 70.12 31.31 146.81" />`,className:"line"}),action:()=>xc(f,-1)})}
        ${M({title:"Move field down",className:"icon",disabled:f==m.currentDataset.fields.length-1,content:Ya({content:Pa`<polyline points="184.69 70.12 108 146.81 31.31 70.12" />`,className:"line"}),action:()=>xc(f,1)})}
      </div>
      ${M({title:"Delete field",className:"icon",content:"🗑️",action:()=>yd(f)})}
    </actions>
  </li>
  `};var qd=()=>{let a=m.currentDataset;return B`
  <div @click=${()=>Qa(!1)} class="pane data">
    <label for="currentDatasetTitle">Current data</label>
    ${a?B`
      <div class="selection">

        <div class="selection__header">
          <h2 data-active=true>
            <input 
            id=currentDatasetTitle
            title="Rename the current data set"
            type=text 
            .value=${a.id} 
            @input=${c=>od(c.target.value)} />
          </h2>
          <a class="button icon" title="Export this data" href=${Ub(a)} download=${a.id}>🚚</a>
        </div>

        <ul class="fields">
        ${a.fields.length?B`
            <li>
              <label>Name</label>
              <label>Value</label>
              <span></span>
            </li>`:ia}
        ${a.fields.map((c,f)=>pd(c,f,a.id))}
          <button @click=${ld}>Add Field</button>
        </ul>

      </div>`:ia}

    <label>All data</label>
    <ul class="sets">
      ${m.currentUser.datasets.map((c,f)=>B`
      <li data-index=${f}>
        ${M({title:`Select ${c.id}`,className:"link",action:()=>Tb(f),content:B`<h4>${c.id}</h4>`})}
        ${M({title:`Duplicate ${c.id}`,className:"icon",action:()=>md(f),content:"📄"})}
        ${m.currentUser.datasets.length>1?M({title:`Delete ${c.id}`,className:"icon",action:()=>nd(f),content:"🗑️"}):ia}
      </li>
      `)}
      <button @click=${kd}>Add Data</button>
    </ul>
  </div>`};var Vb=a=>{G("currentDocument",m.currentUser.documents[a])};var td=()=>{var q;let a={id:"New Document",body:""},c=m.currentUser.documents.length;m.currentUser.documents.push(a),Vb(c);let f=ha(c,$(".documents .sets")),j=new ja(f);j.added(),(q=$(".documents [data-active] input"))==null||q.focus(),na()};var ud=a=>{let c=m.currentUser.documents,f=c[a];if(!confirm(`Are you sure you want to delete ${f.id}?`))return;let j=ha(a,$(".documents .sets")),q=new ja(j,()=>{c.splice(a,1),m.currentUser.documents=c,G("currentDocument",m.currentUser.documents[0],!0)});q.removed()};var vd=a=>{m.currentDocument.id=a,G("currentDocument",m.currentDocument,!0)};var wd=a=>{let c=m.currentUser.documents[a],f=qb(c);f.id=c.id+" copy",m.currentUser.documents.push(f),G("currentUser",m.currentUser),G("currentDocument",f,!0);let j=ha(m.currentUser.documents.length-1,$(".documents .sets")),q=new ja(j);q.added()};let uc=a=>`page_${a+1}`,je=/\n\s*\-{3,}\s*\n/;var sd=()=>{let a=m.currentDocument.body,c=q=>{var D;G("showPreview",!0),(D=$("#"+uc(q)))==null||D.scrollIntoView()},f=q=>{let D=q.match(/.+?(\n|$)/)[0],p=D.trim();return p.replace(/[^A-z0-9]*/,"")},j=a.split(je);return j.length||(j=[a]),B`
  <div class=toc-wrapper>
    <h3>Pages</h3>
    <ol class=toc>
      ${j.map((q,D)=>B`
        <li>
          <button class=link @click=${()=>c(D)}>
            ${D+1}. ${f(q)}
          </button>
        </li>`)}
    </ol>
  </div>`};var xd=()=>{let a=m.currentDocument;return B`
  <div class="pane documents">
    <label for="currentDocumentTitle">Current document</label>
    ${a?B`
      <div class="selection">

        <div class="selection__header">
          <h2 data-active=true>
            <input 
            type=text 
            id=currentDocumentTitle
            .value=${a.id} 
            @input=${c=>vd(c.target.value)} />
          </h2>
          <a class="button icon" title="Export this data" href=${Ub(a)} download=${a.id}>🚚</a>
        </div>
        
        ${a.body.length?sd():ia}
      </div>
      `:ia}

    <label>All documents</label>
    <ul class="sets">
      ${m.currentUser.documents.map((c,f)=>B`
      <li data-index=${f}>
        ${M({title:`Select ${c.id}`,className:"link",action:()=>Vb(f),content:B`<h4>${c.id}</h4>`})}
        ${M({title:`Duplicate ${c.id}`,className:"icon",action:()=>wd(f),content:"📄"})}
        ${m.currentUser.documents.length>1?M({title:`Delete ${c.id}`,className:"icon",action:()=>ud(f),content:"🗑️"}):ia}
      </li>`)}
      <button @click=${td}>Add Document</button>
    </ul>
  </div>`};const Wc=new WeakMap(),Nb=dc(a=>c=>{if(!(c instanceof Sa))throw new Error("unsafeHTML can only be used in text bindings");const f=Wc.get(c);if(f!==void 0&&ib(a)&&a===f.value&&c.value===f.fragment)return;const j=document.createElement("template");j.innerHTML=a;const q=document.importNode(j.content,!0);c.setValue(q),Wc.set(c,{value:a,fragment:q})});const Gg=Fc(Sc()),Hg=Fc(cd());function ie(a){for(let[c,f]of m.currentDataset.fields)if(c==a)return f}function vc(a){return ie(a.slice(1,-1).trim(),m.currentDataset.fields)}let wc=/\{.+?\}/g;var rd=()=>{if(!m.currentDocument.body.length)return B`
    <div class=preview__page>
      <p>
        Write something in <a class=link @click=${()=>G("showPreview",!1)}>the editor</a> to see it
        show
        up here.
      </p>
    </div>`;let a=m.currentDocument.body.replace(wc,vc),c=Gg.sanitize(Hg.default(a));return c.split("<hr>").map((f,j)=>B`
      <div id=${uc(j)} class=preview__page>
        ${Nb(f)}
      </div>`)};var Cd=()=>{let a=([f,j])=>{if(/content|font-family/i.test(f))if(j.length)j='"'+j.replace(/"/g,'\\"')+'"';else return;return j=j.replace(wc,vc),[f,Fd(j)].join(":")},c=`\r
  <style>${Object.entries(m.currentUser.styles).map(([f,j])=>`.preview ${f} {\r
        ${Object.entries(j).map(a).join(";")}\r
      }`).join("")}</style>`;return B`

  <toolbar>
    <button 
    ?data-active=${!m.showPreview} 
    title="Show editor" 
    class=icon
    @click=${()=>G("showPreview",!1)}>
      ✍️
    </button>
    <button 
    ?data-active=${m.showPreview} 
    title="Show preview" 
    class=icon
    @click=${()=>G("showPreview",!0)}>
      👀
    </button>
    <a 
    title="Format your text like a pro with the Markdown cheatsheet."
    class="button icon" 
    rel="noopener"
    target=_blank 
    href="https://www.markdownguide.org/cheat-sheet/">
      ❓
    </a>
  </toolbar>

  ${m.showPreview?B`
      <div class=preview>
        <div class=preview__wrapper>
          ${rd()}
        </div>
      </div>
      ${Nb(c)}`:B`
      <textarea 
      class=editor 
      placeholder="Start typing when you're ready..."
      @input=${f=>{m.currentDocument.body=f.target.value,na()}}>${m.currentDocument.body}</textarea>`}`};let rb=["font-family","font-size","font-weight","line-height","letter-spacing","text-transform","text-align","color"],Xb=["font-weight","text-transform","color"],Sd=["content","color","font-size","font-weight","text-transform","letter-spacing","text-align"],Td=["padding-left","padding-right","color","list-style"],Ud=["font-size","font-weight","text-transform","text-align","color"],pb={".preview__wrapper":{normieName:"global",useAdjustments:["font-family","font-size","line-height","--vertical-space"]},".preview__page":{normieName:"pages",useAdjustments:["padding-top","padding-bottom","padding-left","padding-right"]},".preview__wrapper::before":{normieName:"header",useAdjustments:Sd},".preview__wrapper::after":{normieName:"footer",useAdjustments:Sd},h1:{normieName:"level 1 headings",useAdjustments:rb},h2:{normieName:"level 2 headings",useAdjustments:rb},h3:{normieName:"level 3 headings",useAdjustments:rb},h4:{normieName:"level 4 headings",useAdjustments:rb},h5:{normieName:"level 5 headings",useAdjustments:rb},h6:{normieName:"level 6 headings",useAdjustments:rb},a:{normieName:"links",useAdjustments:Xb},strong:{normieName:"bold text",useAdjustments:Xb},em:{normieName:"italic Text",useAdjustments:Xb},del:{normieName:"strikethroughs",useAdjustments:Xb},ul:{normieName:"unordered lists",useAdjustments:Td},ol:{normieName:"ordered lists",useAdjustments:Td},blockquote:{normieName:"block quotes",useAdjustments:["color","padding-left","padding-right","border-width","border-color"]},img:{normieName:"images",useAdjustments:["width"]},th:{normieName:"table headings",useAdjustments:Ud},td:{normieName:"table cells",useAdjustments:Ud}};class Cc{constructor(a){this.type=a}}class Yb extends Cc{constructor({placeholder:a}){super("text");this.placeholder=a||""}}class Ea extends Cc{constructor({min:a,max:c,step:f,unit:j}){super("range");this.min=a||0,this.max=c||100,this.step=f||1,this.unit=j||""}}class Dc extends Cc{constructor({options:a,defaultValue:c}){super("select");this.options=a||[],this.defaultValue=c||""}}let Gd={content:new Yb({placeholder:"{ date }"}),"font-family":new Yb({placeholder:"Helvetica"}),"font-size":new Ea({min:8,max:72,step:1,unit:"px"}),"font-weight":new Ea({min:300,max:900,step:50}),"letter-spacing":new Ea({min:-5,max:5,step:.2,unit:"px"}),"line-height":new Ea({min:.5,max:3,step:.1}),"--vertical-space":new Ea({min:0,max:56,step:1,unit:"px"}),"text-transform":new Dc({defaultValue:"none",options:["capitalize","uppercase","lowercase","none"]}),"text-align":new Dc({defaultValue:"left",options:["left","center","right"]}),width:new Ea({min:0,max:100,step:1,unit:"%"}),"list-style":new Dc({defaultValue:"disc",options:["disc","circle","square","decimal","lower-alpha","upper-alpha","lower-roman","upper-roman","none"]}),color:new Yb({placeholder:"Tomato"}),"border-color":new Yb({placeholder:"DodgerBlue"}),"border-width":new Ea({min:0,max:10,step:.5,unit:"px"}),"padding-top":new Ea({min:0,max:56,step:1,unit:"px"}),"padding-bottom":new Ea({min:0,max:56,step:1,unit:"px"}),"padding-left":new Ea({min:0,max:56,step:1,unit:"px"}),"padding-right":new Ea({min:0,max:56,step:1,unit:"px"})};var Wb=(a,c,f)=>{m.currentUser.styles[a][c]=f,G("currentUser",m.currentUser,!0)};let zc=a=>a.replace(/-+/g," ").trim(),ke=a=>parseFloat(a.replace(/turn|deg|pt|px|rem|em|ch|in|vw|vh|%/g,"").trim()),Hd=([a,{normieName:c}],[f,{min:j,max:q,step:D,unit:p}])=>{let A=m.currentUser.styles[a][f]||"",K=ke(A),Y=zc(f);return B`
  <label>
    <span class=label>
      <span class=label__name>${Y}</span>
      <span class=label__value>${A||""}</span>
    </span>
    <input 
    title='Change ${c} ${Y}'
    min=${j}
    max=${q}
    step=${D}
    .value=${K}
    type=range
    @input=${L=>Wb(a,f,L.target.value+p)} />
  </label>`},Jd=([a,{normieName:c}],[f,{placeholder:j}])=>{let q=m.currentUser.styles[a][f],D=zc(f);return B`
  <label>
    <span class=label>
      <span class=label__name>${D}</span>
    </span>
    <input
    title='Change ${c} ${D}'
    placeholder=${j}
    .value=${q||""}
    type=text
    @input=${p=>Wb(a,f,p.target.value)} />
  </label>`},Id=([a,{normieName:c}],[f,{options:j,defaultValue:q}])=>{let D=m.currentUser.styles[a][f]||q,p=zc(f);return B`
  <label>
    <span class=label>
      <span class=label__name>${p}</span>
    </span>
    <select
    title='Change ${c} ${p}'
    .value=${D||""}
    @input=${A=>Wb(a,f,A.target.value)}>
      ${j.map(A=>B`<option ?selected=${A==D}>${A}</option>`)}
    </select>
  </label>`};var yc=a=>{let c=document.createElement("style");c.id="temp",c.innerHTML=`\r
  .preview ${a} {\r
    box-shadow: 0 0 0 var(--borderWidth) var(--primary-80);\r
    border-radius: var(--radius);\r
    transition: box-shadow var(--transition);\r
  }`,document.body.appendChild(c)};var Kd=a=>{Cb.then(c=>{let f=m.currentUser.styles;f[a]=qb(c.currentUser.styles[a]),m.expandedAdjustments.push(pb[a].normieName),G("currentUser",m.currentUser,!0)})};var Ld=a=>{let c=m.expandedAdjustments,f=c.includes(a);f?c.splice(c.indexOf(a),1):c.push(a),G("expandedAdjustments",c)};var Md=([a,{normieName:c,useAdjustments:f}])=>{let j=m.expandedAdjustments.includes(c);return B`
  <div 
  class=adjustment 
  ?data-expanded=${j}
  @mouseenter=${()=>yc(a)} 
  @touchstart=${()=>yc(a)}
  @mouseleave=${()=>{var q;return(q=$("#temp"))==null?void 0:q.remove()}}
  @touchend=${()=>{var q;return(q=$("#temp"))==null?void 0:q.remove()}}>

    <button class=adjustment__header @click=${()=>Ld(c)}>
      <h3 class=adjustment__header--title>${c}</h3>
      <div class=adjustment__header--actions>
      ${M({title:`Reset ${c.replace(/s$/,"")} styles`,className:"icon",disabled:!j,content:"↩",action:()=>Kd(a)})}
      </div>
    </button>
    
    ${j?Object.entries(Gd).map(([q,D])=>{if(!f.includes(q))return;let p=[a,{normieName:c,useAdjustments:f}],A=[q,D];switch(D.type){case"range":return Hd(p,A);case"text":return Jd(p,A);case"select":return Id(p,A)}}):ia}
  </div>`};var Dd=()=>B`
<div class="styles">
  <div class=styles__header>
  ${m.showPreview?B`
      <p class=hint>
        Change the look and feel of your document here.
      </p>`:B`
      <p class=hint>
        <button class="link primary" @click=${()=>G("showPreview",!0)}>Show the document preview</button> to see your
        changes.
      </p>`}
  <actions>
  ${M({title:"Close style editor",className:"icon",content:Ya({content:Pa`<path d="M73.67,26.62,155.05,108,73.67,189.38" />`,className:"line"}),action:()=>Qa(!1)})}
  </actions>
  </div>
  <div class=adjustments>
    ${Object.entries(pb).map(Md)}
  </div>
</div>`;var Ed=()=>B`
<main @click=${()=>Za(!1)}>
  <section @click=${()=>Qa(!1)} class="aside left">${xd()}</section>
  <section @click=${()=>Qa(!1)} class="center">${Cd()}</section>
  <section class="aside right">
    ${qd()}
    ${Dd()}
  </section>
</main>`;let Ac="flintstone_data",Bc="flintstone_preferences",Od={expandedAdjustments:[],currentUser:{documents:[{id:"New Document",body:""}],datasets:[{id:"New Data",fields:[["",""]]}],styles:{}}},Pd={dark:!1,showStyles:!1,showMenu:!1};let le=ea.currentUser(),aa=Db(Ac)||Od,Rd=setTimeout(()=>null,0);var m=aa;let sc=le==null?void 0:le.getUserData(),Cb=fetch("/defaults.json").then(a=>a.json()),Ka=Db(Bc)||Pd;function zb(){aa.currentDataset=aa.currentUser.datasets[0],aa.currentDocument=aa.currentUser.documents[0],aa.savedLocally=aa.savedLocally||!1,aa.showPreview=aa.showPreview||!1,aa.showStyles=aa.showStyles||!1,aa.expandedAdjustments=aa.expandedAdjustments||["global","pages"],aa.currentUser.styles=aa.currentUser.styles||{},Qd(Object.keys(pb),aa.currentUser.styles),me()}function ta(a){console.error(a),aa.error=a.message,aa.loading=!1,_a("error",!0)}function na(a=!1){aa.savedLocally=!0;let c=2e3,f=a?0:c;clearTimeout(Rd),Rd=setTimeout(j,f),_a("working",!0);function j(){if(ea.currentUser())return ea.currentUser().update({data:{flintstone:JSON.stringify(aa.currentUser)}}).then(()=>{aa.error=!1,_a("working",!1)}).catch(ta);try{aa.error=!1,Db(Ac,aa),_a("working",!1)}catch(q){ta(q)}}}function S(a=Ed()){kb(B`
  <div id=app ?data-loading=${aa.loading}>
    <header>${Bb()}</header>
    ${a}
    <loader></loader>
    <status-message>
      ${aa.error?`Error: ${aa.error}`:"All changes saved"}
    </status-message>
  </div>`,document.body)}function me(){for(let[a,c]of Object.entries(Ka))_a(a,c)}function Ua(a,c){Ka[a]=c,_a(a,c),Db(Bc,Ka)}function G(a,c,f){aa[a]=c,S(),f&&na()}var ed=a=>{let c=["name","password"],f={};return B`
  <form class=mount>
    ${nb({fields:c,formData:f})}
    ${M({className:"primary",content:"Create Account & Sign In",action:()=>{G("loading",!0),ea.acceptInvite(a,f.password,!0).then(()=>{ea.currentUser().update({full_name:f.name}),G("loading",!1)}).catch(j=>{ta(j),renderAll(Modal(AuthError(j.message)))})}})}
  </form>`};var fd=()=>{let a;return B`
  <form class=mount>
    <label>
      New Password
      <input required @input=${c=>a=c.target.value} minlength=8 type=password name=password />
    </label>
    ${M({className:"primary",content:"Save New Password",action:()=>{G("loading",!0),ea.currentUser().update({password:a}).then(()=>{G("loading",!1),na(!0)}).catch(c=>{ta(c),renderAll(Modal(AuthError(c.message)))})}})}
  </form>`};m.loading=!0;let tc=()=>{zb();if(location.hash&&location.hash.length){let[a,c]=location.hash.slice(1).split("=");location.replace("#"),history.replaceState(null,null,location.href.slice(0,-1)),m.loading=!1;if(a&&c)switch(a){case"recovery_token":ea.recover(c,!0).then(()=>S(ca(fd())));break;case"confirmation_token":ea.confirm(c,!0).then(()=>{S(),na(!0)});break;case"invite_token":S(ca(ed(c)));break}}else m.loading=!1,S(),na(!0)};sc?sc.then(a=>{m.currentUser=JSON.parse(a.user_metadata.flintstone),tc()}).catch(a=>{console.log(a),tc()}):m.savedLocally?tc():(m.loading=!1,S(ca(mb())));})();
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
